package knife4go
import (
	"os"
)

func init() {

	f, err := FS.OpenFile(CTX, "/chunk-214218f0.e57955ea.js", os.O_RDWR|os.O_CREATE|os.O_TRUNC, 0777)
	if err != nil {
		panic(err)
	}

	_, err = f.Write([] byte(base64Decoding("KHdpbmRvdy53ZWJwYWNrSnNvbnA9d2luZG93LndlYnBhY2tKc29ucHx8W10pLnB1c2goW1siY2h1bmstMjE0MjE4ZjAiXSx7IjA2OTYiOmZ1bmN0aW9uKGUsdCxuKXthY2UuZGVmaW5lKCJhY2UvbW9kZS94bWxfaGlnaGxpZ2h0X3J1bGVzIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0X2hpZ2hsaWdodF9ydWxlcyJdLChmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWUoIi4uL2xpYi9vb3AiKSxvPWUoIi4vdGV4dF9oaWdobGlnaHRfcnVsZXMiKS5UZXh0SGlnaGxpZ2h0UnVsZXMsaT1mdW5jdGlvbihlKXt2YXIgdD0iW186YS16QS1aw4At77+/XVstXzouYS16QS1aMC05w4At77+/XSoiO3RoaXMuJHJ1bGVzPXtzdGFydDpbe3Rva2VuOiJzdHJpbmcuY2RhdGEueG1sIixyZWdleDoiPFxcIVxcW0NEQVRBXFxbIixuZXh0OiJjZGF0YSJ9LHt0b2tlbjpbInB1bmN0dWF0aW9uLmluc3RydWN0aW9uLnhtbCIsImtleXdvcmQuaW5zdHJ1Y3Rpb24ueG1sIl0scmVnZXg6Iig8XFw/KSgiK3QrIikiLG5leHQ6InByb2Nlc3NpbmdfaW5zdHJ1Y3Rpb24ifSx7dG9rZW46ImNvbW1lbnQuc3RhcnQueG1sIixyZWdleDoiPFxcIS0tIixuZXh0OiJjb21tZW50In0se3Rva2VuOlsieG1sLXBlLmRvY3R5cGUueG1sIiwieG1sLXBlLmRvY3R5cGUueG1sIl0scmVnZXg6Iig8XFwhKShET0NUWVBFKSg/PVtcXHNdKSIsbmV4dDoiZG9jdHlwZSIsY2FzZUluc2Vuc2l0aXZlOiEwfSx7aW5jbHVkZToidGFnIn0se3Rva2VuOiJ0ZXh0LmVuZC10YWctb3Blbi54bWwiLHJlZ2V4OiI8LyJ9LHt0b2tlbjoidGV4dC50YWctb3Blbi54bWwiLHJlZ2V4OiI8In0se2luY2x1ZGU6InJlZmVyZW5jZSJ9LHtkZWZhdWx0VG9rZW46InRleHQueG1sIn1dLHByb2Nlc3NpbmdfaW5zdHJ1Y3Rpb246W3t0b2tlbjoiZW50aXR5Lm90aGVyLmF0dHJpYnV0ZS1uYW1lLmRlY2wtYXR0cmlidXRlLW5hbWUueG1sIixyZWdleDp0fSx7dG9rZW46ImtleXdvcmQub3BlcmF0b3IuZGVjbC1hdHRyaWJ1dGUtZXF1YWxzLnhtbCIscmVnZXg6Ij0ifSx7aW5jbHVkZToid2hpdGVzcGFjZSJ9LHtpbmNsdWRlOiJzdHJpbmcifSx7dG9rZW46InB1bmN0dWF0aW9uLnhtbC1kZWNsLnhtbCIscmVnZXg6IlxcPz4iLG5leHQ6InN0YXJ0In1dLGRvY3R5cGU6W3tpbmNsdWRlOiJ3aGl0ZXNwYWNlIn0se2luY2x1ZGU6InN0cmluZyJ9LHt0b2tlbjoieG1sLXBlLmRvY3R5cGUueG1sIixyZWdleDoiPiIsbmV4dDoic3RhcnQifSx7dG9rZW46InhtbC1wZS54bWwiLHJlZ2V4OiJbLV9hLXpBLVowLTk6XSsifSx7dG9rZW46InB1bmN0dWF0aW9uLmludC1zdWJzZXQiLHJlZ2V4OiJcXFsiLHB1c2g6ImludF9zdWJzZXQifV0saW50X3N1YnNldDpbe3Rva2VuOiJ0ZXh0LnhtbCIscmVnZXg6IlxccysifSx7dG9rZW46InB1bmN0dWF0aW9uLmludC1zdWJzZXQueG1sIixyZWdleDoiXSIsbmV4dDoicG9wIn0se3Rva2VuOlsicHVuY3R1YXRpb24ubWFya3VwLWRlY2wueG1sIiwia2V5d29yZC5tYXJrdXAtZGVjbC54bWwiXSxyZWdleDoiKDxcXCEpKCIrdCsiKSIscHVzaDpbe3Rva2VuOiJ0ZXh0IixyZWdleDoiXFxzKyJ9LHt0b2tlbjoicHVuY3R1YXRpb24ubWFya3VwLWRlY2wueG1sIixyZWdleDoiPiIsbmV4dDoicG9wIn0se2luY2x1ZGU6InN0cmluZyJ9XX1dLGNkYXRhOlt7dG9rZW46InN0cmluZy5jZGF0YS54bWwiLHJlZ2V4OiJcXF1cXF0+IixuZXh0OiJzdGFydCJ9LHt0b2tlbjoidGV4dC54bWwiLHJlZ2V4OiJcXHMrIn0se3Rva2VuOiJ0ZXh0LnhtbCIscmVnZXg6Iig/OlteXFxdXXxcXF0oPyFcXF0+KSkrIn1dLGNvbW1lbnQ6W3t0b2tlbjoiY29tbWVudC5lbmQueG1sIixyZWdleDoiLS1ceDNlIixuZXh0OiJzdGFydCJ9LHtkZWZhdWx0VG9rZW46ImNvbW1lbnQueG1sIn1dLHJlZmVyZW5jZTpbe3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5lc2NhcGUucmVmZXJlbmNlLnhtbCIscmVnZXg6Iig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcLi1dKzspIn1dLGF0dHJfcmVmZXJlbmNlOlt7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZS5yZWZlcmVuY2UuYXR0cmlidXRlLXZhbHVlLnhtbCIscmVnZXg6Iig/OiYjWzAtOV0rOyl8KD86JiN4WzAtOWEtZkEtRl0rOyl8KD86JlthLXpBLVowLTlfOlxcLi1dKzspIn1dLHRhZzpbe3Rva2VuOlsibWV0YS50YWcucHVuY3R1YXRpb24udGFnLW9wZW4ueG1sIiwibWV0YS50YWcucHVuY3R1YXRpb24uZW5kLXRhZy1vcGVuLnhtbCIsIm1ldGEudGFnLnRhZy1uYW1lLnhtbCJdLHJlZ2V4OiIoPzooPCl8KDwvKSkoKD86Iit0KyI6KT8iK3QrIikiLG5leHQ6W3tpbmNsdWRlOiJhdHRyaWJ1dGVzIn0se3Rva2VuOiJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sIixyZWdleDoiLz8+IixuZXh0OiJzdGFydCJ9XX1dLHRhZ193aGl0ZXNwYWNlOlt7dG9rZW46InRleHQudGFnLXdoaXRlc3BhY2UueG1sIixyZWdleDoiXFxzKyJ9XSx3aGl0ZXNwYWNlOlt7dG9rZW46InRleHQud2hpdGVzcGFjZS54bWwiLHJlZ2V4OiJcXHMrIn1dLHN0cmluZzpbe3Rva2VuOiJzdHJpbmcueG1sIixyZWdleDoiJyIscHVzaDpbe3Rva2VuOiJzdHJpbmcueG1sIixyZWdleDoiJyIsbmV4dDoicG9wIn0se2RlZmF1bHRUb2tlbjoic3RyaW5nLnhtbCJ9XX0se3Rva2VuOiJzdHJpbmcueG1sIixyZWdleDonIicscHVzaDpbe3Rva2VuOiJzdHJpbmcueG1sIixyZWdleDonIicsbmV4dDoicG9wIn0se2RlZmF1bHRUb2tlbjoic3RyaW5nLnhtbCJ9XX1dLGF0dHJpYnV0ZXM6W3t0b2tlbjoiZW50aXR5Lm90aGVyLmF0dHJpYnV0ZS1uYW1lLnhtbCIscmVnZXg6dH0se3Rva2VuOiJrZXl3b3JkLm9wZXJhdG9yLmF0dHJpYnV0ZS1lcXVhbHMueG1sIixyZWdleDoiPSJ9LHtpbmNsdWRlOiJ0YWdfd2hpdGVzcGFjZSJ9LHtpbmNsdWRlOiJhdHRyaWJ1dGVfdmFsdWUifV0sYXR0cmlidXRlX3ZhbHVlOlt7dG9rZW46InN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sIixyZWdleDoiJyIscHVzaDpbe3Rva2VuOiJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbCIscmVnZXg6IiciLG5leHQ6InBvcCJ9LHtpbmNsdWRlOiJhdHRyX3JlZmVyZW5jZSJ9LHtkZWZhdWx0VG9rZW46InN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sIn1dfSx7dG9rZW46InN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sIixyZWdleDonIicscHVzaDpbe3Rva2VuOiJzdHJpbmcuYXR0cmlidXRlLXZhbHVlLnhtbCIscmVnZXg6JyInLG5leHQ6InBvcCJ9LHtpbmNsdWRlOiJhdHRyX3JlZmVyZW5jZSJ9LHtkZWZhdWx0VG9rZW46InN0cmluZy5hdHRyaWJ1dGUtdmFsdWUueG1sIn1dfV19LHRoaXMuY29uc3RydWN0b3I9PT1pJiZ0aGlzLm5vcm1hbGl6ZVJ1bGVzKCl9OyhmdW5jdGlvbigpe3RoaXMuZW1iZWRUYWdSdWxlcz1mdW5jdGlvbihlLHQsbil7dGhpcy4kcnVsZXMudGFnLnVuc2hpZnQoe3Rva2VuOlsibWV0YS50YWcucHVuY3R1YXRpb24udGFnLW9wZW4ueG1sIiwibWV0YS50YWcuIituKyIudGFnLW5hbWUueG1sIl0scmVnZXg6Iig8KSgiK24rIig/PVxcc3w+fCQpKSIsbmV4dDpbe2luY2x1ZGU6ImF0dHJpYnV0ZXMifSx7dG9rZW46Im1ldGEudGFnLnB1bmN0dWF0aW9uLnRhZy1jbG9zZS54bWwiLHJlZ2V4OiIvPz4iLG5leHQ6dCsic3RhcnQifV19KSx0aGlzLiRydWxlc1tuKyItZW5kIl09W3tpbmNsdWRlOiJhdHRyaWJ1dGVzIn0se3Rva2VuOiJtZXRhLnRhZy5wdW5jdHVhdGlvbi50YWctY2xvc2UueG1sIixyZWdleDoiLz8+IixuZXh0OiJzdGFydCIsb25NYXRjaDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4uc3BsaWNlKDApLHRoaXMudG9rZW59fV0sdGhpcy5lbWJlZFJ1bGVzKGUsdCxbe3Rva2VuOlsibWV0YS50YWcucHVuY3R1YXRpb24uZW5kLXRhZy1vcGVuLnhtbCIsIm1ldGEudGFnLiIrbisiLnRhZy1uYW1lLnhtbCJdLHJlZ2V4OiIoPC8pKCIrbisiKD89XFxzfD58JCkpIixuZXh0Om4rIi1lbmQifSx7dG9rZW46InN0cmluZy5jZGF0YS54bWwiLHJlZ2V4OiI8XFwhXFxbQ0RBVEFcXFsifSx7dG9rZW46InN0cmluZy5jZGF0YS54bWwiLHJlZ2V4OiJcXF1cXF0+In1dKX19KS5jYWxsKG8ucHJvdG90eXBlKSxyLmluaGVyaXRzKGksbyksdC5YbWxIaWdobGlnaHRSdWxlcz1pfSkpLGFjZS5kZWZpbmUoImFjZS9tb2RlL2JlaGF2aW91ci94bWwiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL2JlaGF2aW91ciIsImFjZS90b2tlbl9pdGVyYXRvciIsImFjZS9saWIvbGFuZyJdLChmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWUoIi4uLy4uL2xpYi9vb3AiKSxvPWUoIi4uL2JlaGF2aW91ciIpLkJlaGF2aW91cixpPWUoIi4uLy4uL3Rva2VuX2l0ZXJhdG9yIikuVG9rZW5JdGVyYXRvcjtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIGUudHlwZS5sYXN0SW5kZXhPZih0KyIueG1sIik+LTF9ZSgiLi4vLi4vbGliL2xhbmciKTt2YXIgcz1mdW5jdGlvbigpe3RoaXMuYWRkKCJzdHJpbmdfZHF1b3RlcyIsImluc2VydGlvbiIsKGZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYoJyInPT1vfHwiJyI9PW8pe3ZhciBzPW8sbD1yLmRvYy5nZXRUZXh0UmFuZ2Uobi5nZXRTZWxlY3Rpb25SYW5nZSgpKTtpZigiIiE9PWwmJiInIiE9PWwmJiciJyE9bCYmbi5nZXRXcmFwQmVoYXZpb3Vyc0VuYWJsZWQoKSlyZXR1cm57dGV4dDpzK2wrcyxzZWxlY3Rpb246ITF9O3ZhciBjPW4uZ2V0Q3Vyc29yUG9zaXRpb24oKSx1PXIuZG9jLmdldExpbmUoYy5yb3cpLnN1YnN0cmluZyhjLmNvbHVtbixjLmNvbHVtbisxKSxkPW5ldyBpKHIsYy5yb3csYy5jb2x1bW4pLHA9ZC5nZXRDdXJyZW50VG9rZW4oKTtpZih1PT1zJiYoYShwLCJhdHRyaWJ1dGUtdmFsdWUiKXx8YShwLCJzdHJpbmciKSkpcmV0dXJue3RleHQ6IiIsc2VsZWN0aW9uOlsxLDFdfTtpZihwfHwocD1kLnN0ZXBCYWNrd2FyZCgpKSwhcClyZXR1cm47Zm9yKDthKHAsInRhZy13aGl0ZXNwYWNlIil8fGEocCwid2hpdGVzcGFjZSIpOylwPWQuc3RlcEJhY2t3YXJkKCk7dmFyIG09IXV8fHUubWF0Y2goL1xzLyk7aWYoYShwLCJhdHRyaWJ1dGUtZXF1YWxzIikmJihtfHwiPiI9PXUpfHxhKHAsImRlY2wtYXR0cmlidXRlLWVxdWFscyIpJiYobXx8Ij8iPT11KSlyZXR1cm57dGV4dDpzK3Msc2VsZWN0aW9uOlsxLDFdfX19KSksdGhpcy5hZGQoInN0cmluZ19kcXVvdGVzIiwiZGVsZXRpb24iLChmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXIuZG9jLmdldFRleHRSYW5nZShvKTtpZighby5pc011bHRpTGluZSgpJiYoJyInPT1pfHwiJyI9PWkpJiZyLmRvYy5nZXRMaW5lKG8uc3RhcnQucm93KS5zdWJzdHJpbmcoby5zdGFydC5jb2x1bW4rMSxvLnN0YXJ0LmNvbHVtbisyKT09aSlyZXR1cm4gby5lbmQuY29sdW1uKyssb30pKSx0aGlzLmFkZCgiYXV0b2Nsb3NpbmciLCJpbnNlcnRpb24iLChmdW5jdGlvbihlLHQsbixyLG8pe2lmKCI+Ij09byl7dmFyIHM9bi5nZXRTZWxlY3Rpb25SYW5nZSgpLnN0YXJ0LGw9bmV3IGkocixzLnJvdyxzLmNvbHVtbiksYz1sLmdldEN1cnJlbnRUb2tlbigpfHxsLnN0ZXBCYWNrd2FyZCgpO2lmKCFjfHwhKGEoYywidGFnLW5hbWUiKXx8YShjLCJ0YWctd2hpdGVzcGFjZSIpfHxhKGMsImF0dHJpYnV0ZS1uYW1lIil8fGEoYywiYXR0cmlidXRlLWVxdWFscyIpfHxhKGMsImF0dHJpYnV0ZS12YWx1ZSIpKSlyZXR1cm47aWYoYShjLCJyZWZlcmVuY2UuYXR0cmlidXRlLXZhbHVlIikpcmV0dXJuO2lmKGEoYywiYXR0cmlidXRlLXZhbHVlIikpe3ZhciB1PWMudmFsdWUuY2hhckF0KDApO2lmKCciJz09dXx8IiciPT11KXt2YXIgZD1jLnZhbHVlLmNoYXJBdChjLnZhbHVlLmxlbmd0aC0xKSxwPWwuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrYy52YWx1ZS5sZW5ndGg7aWYocD5zLmNvbHVtbnx8cD09cy5jb2x1bW4mJnUhPWQpcmV0dXJufX1mb3IoOyFhKGMsInRhZy1uYW1lIik7KWlmKCI8Ij09KGM9bC5zdGVwQmFja3dhcmQoKSkudmFsdWUpe2M9bC5zdGVwRm9yd2FyZCgpO2JyZWFrfXZhciBtPWwuZ2V0Q3VycmVudFRva2VuUm93KCksaD1sLmdldEN1cnJlbnRUb2tlbkNvbHVtbigpO2lmKGEobC5zdGVwQmFja3dhcmQoKSwiZW5kLXRhZy1vcGVuIikpcmV0dXJuO3ZhciBmPWMudmFsdWU7aWYobT09cy5yb3cmJihmPWYuc3Vic3RyaW5nKDAscy5jb2x1bW4taCkpLHRoaXMudm9pZEVsZW1lbnRzLmhhc093blByb3BlcnR5KGYudG9Mb3dlckNhc2UoKSkpcmV0dXJuO3JldHVybnt0ZXh0OiI+PC8iK2YrIj4iLHNlbGVjdGlvbjpbMSwxXX19fSkpLHRoaXMuYWRkKCJhdXRvaW5kZW50IiwiaW5zZXJ0aW9uIiwoZnVuY3Rpb24oZSx0LG4scixvKXtpZigiXG4iPT1vKXt2YXIgYT1uLmdldEN1cnNvclBvc2l0aW9uKCkscz1yLmdldExpbmUoYS5yb3cpLGw9bmV3IGkocixhLnJvdyxhLmNvbHVtbiksYz1sLmdldEN1cnJlbnRUb2tlbigpO2lmKGMmJi0xIT09Yy50eXBlLmluZGV4T2YoInRhZy1jbG9zZSIpKXtpZigiLz4iPT1jLnZhbHVlKXJldHVybjtmb3IoO2MmJi0xPT09Yy50eXBlLmluZGV4T2YoInRhZy1uYW1lIik7KWM9bC5zdGVwQmFja3dhcmQoKTtpZighYylyZXR1cm47dmFyIHU9Yy52YWx1ZSxkPWwuZ2V0Q3VycmVudFRva2VuUm93KCk7aWYoIShjPWwuc3RlcEJhY2t3YXJkKCkpfHwtMSE9PWMudHlwZS5pbmRleE9mKCJlbmQtdGFnIikpcmV0dXJuO2lmKHRoaXMudm9pZEVsZW1lbnRzJiYhdGhpcy52b2lkRWxlbWVudHNbdV0pe3ZhciBwPXIuZ2V0VG9rZW5BdChhLnJvdyxhLmNvbHVtbisxKSxtPShzPXIuZ2V0TGluZShkKSx0aGlzLiRnZXRJbmRlbnQocykpLGg9bStyLmdldFRhYlN0cmluZygpO3JldHVybiBwJiYiPC8iPT09cC52YWx1ZT97dGV4dDoiXG4iK2grIlxuIittLHNlbGVjdGlvbjpbMSxoLmxlbmd0aCwxLGgubGVuZ3RoXX06e3RleHQ6IlxuIitofX19fX0pKX07ci5pbmhlcml0cyhzLG8pLHQuWG1sQmVoYXZpb3VyPXN9KSksYWNlLmRlZmluZSgiYWNlL21vZGUvZm9sZGluZy94bWwiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9saWIvbGFuZyIsImFjZS9yYW5nZSIsImFjZS9tb2RlL2ZvbGRpbmcvZm9sZF9tb2RlIiwiYWNlL3Rva2VuX2l0ZXJhdG9yIl0sKGZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9ZSgiLi4vLi4vbGliL29vcCIpLG89KGUoIi4uLy4uL2xpYi9sYW5nIiksZSgiLi4vLi4vcmFuZ2UiKS5SYW5nZSksaT1lKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlLGE9ZSgiLi4vLi4vdG9rZW5faXRlcmF0b3IiKS5Ub2tlbkl0ZXJhdG9yLHM9dC5Gb2xkTW9kZT1mdW5jdGlvbihlLHQpe2kuY2FsbCh0aGlzKSx0aGlzLnZvaWRFbGVtZW50cz1lfHx7fSx0aGlzLm9wdGlvbmFsRW5kVGFncz1yLm1peGluKHt9LHRoaXMudm9pZEVsZW1lbnRzKSx0JiZyLm1peGluKHRoaXMub3B0aW9uYWxFbmRUYWdzLHQpfTtyLmluaGVyaXRzKHMsaSk7dmFyIGw9ZnVuY3Rpb24oKXt0aGlzLnRhZ05hbWU9IiIsdGhpcy5jbG9zaW5nPSExLHRoaXMuc2VsZkNsb3Npbmc9ITEsdGhpcy5zdGFydD17cm93OjAsY29sdW1uOjB9LHRoaXMuZW5kPXtyb3c6MCxjb2x1bW46MH19O2Z1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZS50eXBlLmxhc3RJbmRleE9mKHQrIi54bWwiKT4tMX0oZnVuY3Rpb24oKXt0aGlzLmdldEZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2dldEZpcnN0VGFnSW5MaW5lKGUsbik7cmV0dXJuIHI/ci5jbG9zaW5nfHwhci50YWdOYW1lJiZyLnNlbGZDbG9zaW5nPyJtYXJrYmVnaW5lbmQiPT10PyJlbmQiOiIiOiFyLnRhZ05hbWV8fHIuc2VsZkNsb3Npbmd8fHRoaXMudm9pZEVsZW1lbnRzLmhhc093blByb3BlcnR5KHIudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXx8dGhpcy5fZmluZEVuZFRhZ0luTGluZShlLG4sci50YWdOYW1lLHIuZW5kLmNvbHVtbik/IiI6InN0YXJ0Ijp0aGlzLmdldENvbW1lbnRGb2xkV2lkZ2V0KGUsbil9LHRoaXMuZ2V0Q29tbWVudEZvbGRXaWRnZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4vY29tbWVudC8udGVzdChlLmdldFN0YXRlKHQpKSYmLzwhLS8udGVzdChlLmdldExpbmUodCkpPyJzdGFydCI6IiJ9LHRoaXMuX2dldEZpcnN0VGFnSW5MaW5lPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUuZ2V0VG9rZW5zKHQpLHI9bmV3IGwsbz0wO288bi5sZW5ndGg7bysrKXt2YXIgaT1uW29dO2lmKGMoaSwidGFnLW9wZW4iKSl7aWYoci5lbmQuY29sdW1uPXIuc3RhcnQuY29sdW1uK2kudmFsdWUubGVuZ3RoLHIuY2xvc2luZz1jKGksImVuZC10YWctb3BlbiIpLCEoaT1uWysrb10pKXJldHVybiBudWxsO2ZvcihyLnRhZ05hbWU9aS52YWx1ZSxyLmVuZC5jb2x1bW4rPWkudmFsdWUubGVuZ3RoLG8rKztvPG4ubGVuZ3RoO28rKylpZihpPW5bb10sci5lbmQuY29sdW1uKz1pLnZhbHVlLmxlbmd0aCxjKGksInRhZy1jbG9zZSIpKXtyLnNlbGZDbG9zaW5nPSIvPiI9PWkudmFsdWU7YnJlYWt9cmV0dXJuIHJ9aWYoYyhpLCJ0YWctY2xvc2UiKSlyZXR1cm4gci5zZWxmQ2xvc2luZz0iLz4iPT1pLnZhbHVlLHI7ci5zdGFydC5jb2x1bW4rPWkudmFsdWUubGVuZ3RofXJldHVybiBudWxsfSx0aGlzLl9maW5kRW5kVGFnSW5MaW5lPWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz1lLmdldFRva2Vucyh0KSxpPTAsYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO2lmKCEoKGkrPXMudmFsdWUubGVuZ3RoKTxyKSYmYyhzLCJlbmQtdGFnLW9wZW4iKSYmKChzPW9bYSsxXSkmJnMudmFsdWU9PW4pKXJldHVybiEwfXJldHVybiExfSx0aGlzLl9yZWFkVGFnRm9yd2FyZD1mdW5jdGlvbihlKXt2YXIgdD1lLmdldEN1cnJlbnRUb2tlbigpO2lmKCF0KXJldHVybiBudWxsO3ZhciBuPW5ldyBsO2Rve2lmKGModCwidGFnLW9wZW4iKSluLmNsb3Npbmc9Yyh0LCJlbmQtdGFnLW9wZW4iKSxuLnN0YXJ0LnJvdz1lLmdldEN1cnJlbnRUb2tlblJvdygpLG4uc3RhcnQuY29sdW1uPWUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCk7ZWxzZSBpZihjKHQsInRhZy1uYW1lIikpbi50YWdOYW1lPXQudmFsdWU7ZWxzZSBpZihjKHQsInRhZy1jbG9zZSIpKXJldHVybiBuLnNlbGZDbG9zaW5nPSIvPiI9PXQudmFsdWUsbi5lbmQucm93PWUuZ2V0Q3VycmVudFRva2VuUm93KCksbi5lbmQuY29sdW1uPWUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrdC52YWx1ZS5sZW5ndGgsZS5zdGVwRm9yd2FyZCgpLG59d2hpbGUodD1lLnN0ZXBGb3J3YXJkKCkpO3JldHVybiBudWxsfSx0aGlzLl9yZWFkVGFnQmFja3dhcmQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRDdXJyZW50VG9rZW4oKTtpZighdClyZXR1cm4gbnVsbDt2YXIgbj1uZXcgbDtkb3tpZihjKHQsInRhZy1vcGVuIikpcmV0dXJuIG4uY2xvc2luZz1jKHQsImVuZC10YWctb3BlbiIpLG4uc3RhcnQucm93PWUuZ2V0Q3VycmVudFRva2VuUm93KCksbi5zdGFydC5jb2x1bW49ZS5nZXRDdXJyZW50VG9rZW5Db2x1bW4oKSxlLnN0ZXBCYWNrd2FyZCgpLG47Yyh0LCJ0YWctbmFtZSIpP24udGFnTmFtZT10LnZhbHVlOmModCwidGFnLWNsb3NlIikmJihuLnNlbGZDbG9zaW5nPSIvPiI9PXQudmFsdWUsbi5lbmQucm93PWUuZ2V0Q3VycmVudFRva2VuUm93KCksbi5lbmQuY29sdW1uPWUuZ2V0Q3VycmVudFRva2VuQ29sdW1uKCkrdC52YWx1ZS5sZW5ndGgpfXdoaWxlKHQ9ZS5zdGVwQmFja3dhcmQoKSk7cmV0dXJuIG51bGx9LHRoaXMuX3BvcD1mdW5jdGlvbihlLHQpe2Zvcig7ZS5sZW5ndGg7KXt2YXIgbj1lW2UubGVuZ3RoLTFdO2lmKHQmJm4udGFnTmFtZSE9dC50YWdOYW1lKXtpZih0aGlzLm9wdGlvbmFsRW5kVGFncy5oYXNPd25Qcm9wZXJ0eShuLnRhZ05hbWUpKXtlLnBvcCgpO2NvbnRpbnVlfXJldHVybiBudWxsfXJldHVybiBlLnBvcCgpfX0sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuX2dldEZpcnN0VGFnSW5MaW5lKGUsbik7aWYoIXIpcmV0dXJuIHRoaXMuZ2V0Q29tbWVudEZvbGRXaWRnZXQoZSxuKSYmZS5nZXRDb21tZW50Rm9sZFJhbmdlKG4sZS5nZXRMaW5lKG4pLmxlbmd0aCk7dmFyIGkscz1bXTtpZihyLmNsb3Npbmd8fHIuc2VsZkNsb3Npbmcpe2M9bmV3IGEoZSxuLHIuZW5kLmNvbHVtbik7Zm9yKHZhciBsPXtyb3c6bixjb2x1bW46ci5zdGFydC5jb2x1bW59O2k9dGhpcy5fcmVhZFRhZ0JhY2t3YXJkKGMpOyl7aWYoaS5zZWxmQ2xvc2luZyl7aWYocy5sZW5ndGgpY29udGludWU7cmV0dXJuIGkuc3RhcnQuY29sdW1uKz1pLnRhZ05hbWUubGVuZ3RoKzIsaS5lbmQuY29sdW1uLT0yLG8uZnJvbVBvaW50cyhpLnN0YXJ0LGkuZW5kKX1pZihpLmNsb3Npbmcpcy5wdXNoKGkpO2Vsc2UgaWYodGhpcy5fcG9wKHMsaSksMD09cy5sZW5ndGgpcmV0dXJuIGkuc3RhcnQuY29sdW1uKz1pLnRhZ05hbWUubGVuZ3RoKzIsaS5zdGFydC5yb3c9PWkuZW5kLnJvdyYmaS5zdGFydC5jb2x1bW48aS5lbmQuY29sdW1uJiYoaS5zdGFydC5jb2x1bW49aS5lbmQuY29sdW1uKSxvLmZyb21Qb2ludHMoaS5zdGFydCxsKX19ZWxzZXt2YXIgYz1uZXcgYShlLG4sci5zdGFydC5jb2x1bW4pLHU9e3JvdzpuLGNvbHVtbjpyLnN0YXJ0LmNvbHVtbityLnRhZ05hbWUubGVuZ3RoKzJ9O2ZvcihyLnN0YXJ0LnJvdz09ci5lbmQucm93JiYodS5jb2x1bW49ci5lbmQuY29sdW1uKTtpPXRoaXMuX3JlYWRUYWdGb3J3YXJkKGMpOyl7aWYoaS5zZWxmQ2xvc2luZyl7aWYocy5sZW5ndGgpY29udGludWU7cmV0dXJuIGkuc3RhcnQuY29sdW1uKz1pLnRhZ05hbWUubGVuZ3RoKzIsaS5lbmQuY29sdW1uLT0yLG8uZnJvbVBvaW50cyhpLnN0YXJ0LGkuZW5kKX1pZihpLmNsb3Npbmcpe2lmKHRoaXMuX3BvcChzLGkpLDA9PXMubGVuZ3RoKXJldHVybiBvLmZyb21Qb2ludHModSxpLnN0YXJ0KX1lbHNlIHMucHVzaChpKX19fX0pLmNhbGwocy5wcm90b3R5cGUpfSkpLGFjZS5kZWZpbmUoImFjZS9tb2RlL3htbCIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9sYW5nIiwiYWNlL21vZGUvdGV4dCIsImFjZS9tb2RlL3htbF9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9iZWhhdmlvdXIveG1sIiwiYWNlL21vZGUvZm9sZGluZy94bWwiLCJhY2Uvd29ya2VyL3dvcmtlcl9jbGllbnQiXSwoZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1lKCIuLi9saWIvb29wIiksaT1lKCIuLi9saWIvbGFuZyIpLGE9ZSgiLi90ZXh0IikuTW9kZSxzPWUoIi4veG1sX2hpZ2hsaWdodF9ydWxlcyIpLlhtbEhpZ2hsaWdodFJ1bGVzLGw9ZSgiLi9iZWhhdmlvdXIveG1sIikuWG1sQmVoYXZpb3VyLGM9ZSgiLi9mb2xkaW5nL3htbCIpLkZvbGRNb2RlLHU9ZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQsZD1mdW5jdGlvbigpe3RoaXMuSGlnaGxpZ2h0UnVsZXM9cyx0aGlzLiRiZWhhdmlvdXI9bmV3IGwsdGhpcy5mb2xkaW5nUnVsZXM9bmV3IGN9O28uaW5oZXJpdHMoZCxhKSxmdW5jdGlvbigpe3RoaXMudm9pZEVsZW1lbnRzPWkuYXJyYXlUb01hcChbXSksdGhpcy5ibG9ja0NvbW1lbnQ9e3N0YXJ0OiJceDNjIS0tIixlbmQ6Ii0tXHgzZSJ9LHRoaXMuY3JlYXRlV29ya2VyPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB1KFsiYWNlIl0sbigiMjc1YiIpLCJXb3JrZXIiKTtyZXR1cm4gdC5hdHRhY2hUb0RvY3VtZW50KGUuZ2V0RG9jdW1lbnQoKSksdC5vbigiZXJyb3IiLChmdW5jdGlvbih0KXtlLnNldEFubm90YXRpb25zKHQuZGF0YSl9KSksdC5vbigidGVybWluYXRlIiwoZnVuY3Rpb24oKXtlLmNsZWFyQW5ub3RhdGlvbnMoKX0pKSx0fSx0aGlzLiRpZD0iYWNlL21vZGUveG1sIn0uY2FsbChkLnByb3RvdHlwZSksdC5Nb2RlPWR9KSl9LCIyNzViIjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cy5pZD0iYWNlL21vZGUveG1sX3dvcmtlciIsZS5leHBvcnRzLnNyYz0nIm5vIHVzZSBzdHJpY3QiOyFmdW5jdGlvbih3aW5kb3cpe2Z1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCxwYXRocyl7Zm9yKHZhciB0ZXN0UGF0aD1pZCx0YWlsPSIiO3Rlc3RQYXRoOyl7dmFyIGFsaWFzPXBhdGhzW3Rlc3RQYXRoXTtpZigic3RyaW5nIj09dHlwZW9mIGFsaWFzKXJldHVybiBhbGlhcyt0YWlsO2lmKGFsaWFzKXJldHVybiBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cXC8qJC8sIi8iKSsodGFpbHx8YWxpYXMubWFpbnx8YWxpYXMubmFtZSk7aWYoYWxpYXM9PT0hMSlyZXR1cm4iIjt2YXIgaT10ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpO2lmKC0xPT09aSlicmVhazt0YWlsPXRlc3RQYXRoLnN1YnN0cihpKSt0YWlsLHRlc3RQYXRoPXRlc3RQYXRoLnNsaWNlKDAsaSl9cmV0dXJuIGlkfWlmKCEodm9pZCAwIT09d2luZG93LndpbmRvdyYmd2luZG93LmRvY3VtZW50fHx3aW5kb3cuYWNlcXVpcmUmJndpbmRvdy5kZWZpbmUpKXt3aW5kb3cuY29uc29sZXx8KHdpbmRvdy5jb25zb2xlPWZ1bmN0aW9uKCl7dmFyIG1zZ3M9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3Bvc3RNZXNzYWdlKHt0eXBlOiJsb2ciLGRhdGE6bXNnc30pfSx3aW5kb3cuY29uc29sZS5lcnJvcj13aW5kb3cuY29uc29sZS53YXJuPXdpbmRvdy5jb25zb2xlLmxvZz13aW5kb3cuY29uc29sZS50cmFjZT13aW5kb3cuY29uc29sZSksd2luZG93LndpbmRvdz13aW5kb3csd2luZG93LmFjZT13aW5kb3csd2luZG93Lm9uZXJyb3I9ZnVuY3Rpb24obWVzc2FnZSxmaWxlLGxpbmUsY29sLGVycil7cG9zdE1lc3NhZ2Uoe3R5cGU6ImVycm9yIixkYXRhOnttZXNzYWdlOm1lc3NhZ2UsZGF0YTplcnIuZGF0YSxmaWxlOmZpbGUsbGluZTpsaW5lLGNvbDpjb2wsc3RhY2s6ZXJyLnN0YWNrfX0pfSx3aW5kb3cubm9ybWFsaXplTW9kdWxlPWZ1bmN0aW9uKHBhcmVudElkLG1vZHVsZU5hbWUpe2lmKC0xIT09bW9kdWxlTmFtZS5pbmRleE9mKCIhIikpe3ZhciBjaHVua3M9bW9kdWxlTmFtZS5zcGxpdCgiISIpO3JldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGNodW5rc1swXSkrIiEiK3dpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzFdKX1pZigiLiI9PW1vZHVsZU5hbWUuY2hhckF0KDApKXt2YXIgYmFzZT1wYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsLTEpLmpvaW4oIi8iKTtmb3IobW9kdWxlTmFtZT0oYmFzZT9iYXNlKyIvIjoiIikrbW9kdWxlTmFtZTstMSE9PW1vZHVsZU5hbWUuaW5kZXhPZigiLiIpJiZwcmV2aW91cyE9bW9kdWxlTmFtZTspe3ZhciBwcmV2aW91cz1tb2R1bGVOYW1lO21vZHVsZU5hbWU9bW9kdWxlTmFtZS5yZXBsYWNlKC9eXFwuXFwvLywiIikucmVwbGFjZSgvXFwvXFwuXFwvLywiLyIpLnJlcGxhY2UoL1teXFwvXStcXC9cXC5cXC5cXC8vLCIiKX19cmV0dXJuIG1vZHVsZU5hbWV9LHdpbmRvdy5hY2VxdWlyZT1mdW5jdGlvbiBhY2VxdWlyZShwYXJlbnRJZCxpZCl7aWYoaWR8fChpZD1wYXJlbnRJZCxwYXJlbnRJZD1udWxsKSwhaWQuY2hhckF0KXRocm93IEVycm9yKCJ3b3JrZXIuanMgYWNlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7aWQ9d2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxpZCk7dmFyIG1vZHVsZT13aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF07aWYobW9kdWxlKXJldHVybiBtb2R1bGUuaW5pdGlhbGl6ZWR8fChtb2R1bGUuaW5pdGlhbGl6ZWQ9ITAsbW9kdWxlLmV4cG9ydHM9bW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzKSxtb2R1bGUuZXhwb3J0cztpZighd2luZG93LmFjZXF1aXJlLnRsbnMpcmV0dXJuIGNvbnNvbGUubG9nKCJ1bmFibGUgdG8gbG9hZCAiK2lkKTt2YXIgcGF0aD1yZXNvbHZlTW9kdWxlSWQoaWQsd2luZG93LmFjZXF1aXJlLnRsbnMpO3JldHVybiIuanMiIT1wYXRoLnNsaWNlKC0zKSYmKHBhdGgrPSIuanMiKSx3aW5kb3cuYWNlcXVpcmUuaWQ9aWQsd2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXt9LGltcG9ydFNjcmlwdHMocGF0aCksd2luZG93LmFjZXF1aXJlKHBhcmVudElkLGlkKX0sd2luZG93LmFjZXF1aXJlLm1vZHVsZXM9e30sd2luZG93LmFjZXF1aXJlLnRsbnM9e30sd2luZG93LmRlZmluZT1mdW5jdGlvbihpZCxkZXBzLGZhY3Rvcnkpe2lmKDI9PWFyZ3VtZW50cy5sZW5ndGg/KGZhY3Rvcnk9ZGVwcywic3RyaW5nIiE9dHlwZW9mIGlkJiYoZGVwcz1pZCxpZD13aW5kb3cuYWNlcXVpcmUuaWQpKToxPT1hcmd1bWVudHMubGVuZ3RoJiYoZmFjdG9yeT1pZCxkZXBzPVtdLGlkPXdpbmRvdy5hY2VxdWlyZS5pZCksImZ1bmN0aW9uIiE9dHlwZW9mIGZhY3RvcnkpcmV0dXJuIHdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17ZXhwb3J0czpmYWN0b3J5LGluaXRpYWxpemVkOiEwfSx2b2lkIDA7ZGVwcy5sZW5ndGh8fChkZXBzPVsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSk7dmFyIHJlcT1mdW5jdGlvbihjaGlsZElkKXtyZXR1cm4gd2luZG93LmFjZXF1aXJlKGlkLGNoaWxkSWQpfTt3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e2V4cG9ydHM6e30sZmFjdG9yeTpmdW5jdGlvbigpe3ZhciBtb2R1bGU9dGhpcyxyZXR1cm5FeHBvcnRzPWZhY3RvcnkuYXBwbHkodGhpcyxkZXBzLm1hcChmdW5jdGlvbihkZXApe3N3aXRjaChkZXApe2Nhc2UicmVxdWlyZSI6cmV0dXJuIHJlcTtjYXNlImV4cG9ydHMiOnJldHVybiBtb2R1bGUuZXhwb3J0cztjYXNlIm1vZHVsZSI6cmV0dXJuIG1vZHVsZTtkZWZhdWx0OnJldHVybiByZXEoZGVwKX19KSk7cmV0dXJuIHJldHVybkV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1yZXR1cm5FeHBvcnRzKSxtb2R1bGV9fX0sd2luZG93LmRlZmluZS5hbWQ9e30sYWNlcXVpcmUudGxucz17fSx3aW5kb3cuaW5pdEJhc2VVcmxzPWZ1bmN0aW9uKHRvcExldmVsTmFtZXNwYWNlcyl7Zm9yKHZhciBpIGluIHRvcExldmVsTmFtZXNwYWNlcylhY2VxdWlyZS50bG5zW2ldPXRvcExldmVsTmFtZXNwYWNlc1tpXX0sd2luZG93LmluaXRTZW5kZXI9ZnVuY3Rpb24oKXt2YXIgRXZlbnRFbWl0dGVyPXdpbmRvdy5hY2VxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyLG9vcD13aW5kb3cuYWNlcXVpcmUoImFjZS9saWIvb29wIiksU2VuZGVyPWZ1bmN0aW9uKCl7fTtyZXR1cm4gZnVuY3Rpb24oKXtvb3AuaW1wbGVtZW50KHRoaXMsRXZlbnRFbWl0dGVyKSx0aGlzLmNhbGxiYWNrPWZ1bmN0aW9uKGRhdGEsY2FsbGJhY2tJZCl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImNhbGwiLGlkOmNhbGxiYWNrSWQsZGF0YTpkYXRhfSl9LHRoaXMuZW1pdD1mdW5jdGlvbihuYW1lLGRhdGEpe3Bvc3RNZXNzYWdlKHt0eXBlOiJldmVudCIsbmFtZTpuYW1lLGRhdGE6ZGF0YX0pfX0uY2FsbChTZW5kZXIucHJvdG90eXBlKSxuZXcgU2VuZGVyfTt2YXIgbWFpbj13aW5kb3cubWFpbj1udWxsLHNlbmRlcj13aW5kb3cuc2VuZGVyPW51bGw7d2luZG93Lm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgbXNnPWUuZGF0YTtpZihtc2cuZXZlbnQmJnNlbmRlcilzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsbXNnLmRhdGEpO2Vsc2UgaWYobXNnLmNvbW1hbmQpaWYobWFpblttc2cuY29tbWFuZF0pbWFpblttc2cuY29tbWFuZF0uYXBwbHkobWFpbixtc2cuYXJncyk7ZWxzZXtpZighd2luZG93W21zZy5jb21tYW5kXSl0aHJvdyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIrbXNnLmNvbW1hbmQpO3dpbmRvd1ttc2cuY29tbWFuZF0uYXBwbHkod2luZG93LG1zZy5hcmdzKX1lbHNlIGlmKG1zZy5pbml0KXt3aW5kb3cuaW5pdEJhc2VVcmxzKG1zZy50bG5zKSxhY2VxdWlyZSgiYWNlL2xpYi9lczUtc2hpbSIpLHNlbmRlcj13aW5kb3cuc2VuZGVyPXdpbmRvdy5pbml0U2VuZGVyKCk7dmFyIGNsYXp6PWFjZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdO21haW49d2luZG93Lm1haW49bmV3IGNsYXp6KHNlbmRlcil9fX19KHRoaXMpLGFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2V4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2N0b3Iuc3VwZXJfPXN1cGVyQ3RvcixjdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjdG9yLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pfSxleHBvcnRzLm1peGluPWZ1bmN0aW9uKG9iaixtaXhpbil7Zm9yKHZhciBrZXkgaW4gbWl4aW4pb2JqW2tleV09bWl4aW5ba2V5XTtyZXR1cm4gb2JqfSxleHBvcnRzLmltcGxlbWVudD1mdW5jdGlvbihwcm90byxtaXhpbil7ZXhwb3J0cy5taXhpbihwcm90byxtaXhpbil9fSksYWNlLmRlZmluZSgiYWNlL2xpYi9sYW5nIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2V4cG9ydHMubGFzdD1mdW5jdGlvbihhKXtyZXR1cm4gYVthLmxlbmd0aC0xXX0sZXhwb3J0cy5zdHJpbmdSZXZlcnNlPWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpfSxleHBvcnRzLnN0cmluZ1JlcGVhdD1mdW5jdGlvbihzdHJpbmcsY291bnQpe2Zvcih2YXIgcmVzdWx0PSIiO2NvdW50PjA7KTEmY291bnQmJihyZXN1bHQrPXN0cmluZyksKGNvdW50Pj49MSkmJihzdHJpbmcrPXN0cmluZyk7cmV0dXJuIHJlc3VsdH07dmFyIHRyaW1CZWdpblJlZ2V4cD0vXlxcc1xccyovLHRyaW1FbmRSZWdleHA9L1xcc1xccyokLztleHBvcnRzLnN0cmluZ1RyaW1MZWZ0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwiIil9LGV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0PWZ1bmN0aW9uKHN0cmluZyl7cmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsIiIpfSxleHBvcnRzLmNvcHlPYmplY3Q9ZnVuY3Rpb24ob2JqKXt2YXIgY29weT17fTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPW9ialtrZXldO3JldHVybiBjb3B5fSxleHBvcnRzLmNvcHlBcnJheT1mdW5jdGlvbihhcnJheSl7Zm9yKHZhciBjb3B5PVtdLGk9MCxsPWFycmF5Lmxlbmd0aDtsPmk7aSsrKWNvcHlbaV09YXJyYXlbaV0mJiJvYmplY3QiPT10eXBlb2YgYXJyYXlbaV0/dGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTphcnJheVtpXTtyZXR1cm4gY29weX0sZXhwb3J0cy5kZWVwQ29weT1mdW5jdGlvbiBkZWVwQ29weShvYmope2lmKCJvYmplY3QiIT10eXBlb2Ygb2JqfHwhb2JqKXJldHVybiBvYmo7dmFyIGNvcHk7aWYoQXJyYXkuaXNBcnJheShvYmopKXtjb3B5PVtdO2Zvcih2YXIga2V5PTA7b2JqLmxlbmd0aD5rZXk7a2V5KyspY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX1pZigiW29iamVjdCBPYmplY3RdIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKXJldHVybiBvYmo7Y29weT17fTtmb3IodmFyIGtleSBpbiBvYmopY29weVtrZXldPWRlZXBDb3B5KG9ialtrZXldKTtyZXR1cm4gY29weX0sZXhwb3J0cy5hcnJheVRvTWFwPWZ1bmN0aW9uKGFycil7Zm9yKHZhciBtYXA9e30saT0wO2Fyci5sZW5ndGg+aTtpKyspbWFwW2FycltpXV09MTtyZXR1cm4gbWFwfSxleHBvcnRzLmNyZWF0ZU1hcD1mdW5jdGlvbihwcm9wcyl7dmFyIG1hcD1PYmplY3QuY3JlYXRlKG51bGwpO2Zvcih2YXIgaSBpbiBwcm9wcyltYXBbaV09cHJvcHNbaV07cmV0dXJuIG1hcH0sZXhwb3J0cy5hcnJheVJlbW92ZT1mdW5jdGlvbihhcnJheSx2YWx1ZSl7Zm9yKHZhciBpPTA7YXJyYXkubGVuZ3RoPj1pO2krKyl2YWx1ZT09PWFycmF5W2ldJiZhcnJheS5zcGxpY2UoaSwxKX0sZXhwb3J0cy5lc2NhcGVSZWdFeHA9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXFxdXFwvXFxcXF0pL2csIlxcXFwkMSIpfSxleHBvcnRzLmVzY2FwZUhUTUw9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywiJiMzODsiKS5yZXBsYWNlKC8iL2csIiYjMzQ7IikucmVwbGFjZSgvXCcvZywiJiMzOTsiKS5yZXBsYWNlKC88L2csIiYjNjA7Iil9LGV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzPWZ1bmN0aW9uKHN0cmluZyxyZWdFeHApe3ZhciBtYXRjaGVzPVtdO3JldHVybiBzdHJpbmcucmVwbGFjZShyZWdFeHAsZnVuY3Rpb24oc3RyKXttYXRjaGVzLnB1c2goe29mZnNldDphcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aC0yXSxsZW5ndGg6c3RyLmxlbmd0aH0pfSksbWF0Y2hlc30sZXhwb3J0cy5kZWZlcnJlZENhbGw9ZnVuY3Rpb24oZmNuKXt2YXIgdGltZXI9bnVsbCxjYWxsYmFjaz1mdW5jdGlvbigpe3RpbWVyPW51bGwsZmNuKCl9LGRlZmVycmVkPWZ1bmN0aW9uKHRpbWVvdXQpe3JldHVybiBkZWZlcnJlZC5jYW5jZWwoKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fDApLGRlZmVycmVkfTtyZXR1cm4gZGVmZXJyZWQuc2NoZWR1bGU9ZGVmZXJyZWQsZGVmZXJyZWQuY2FsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbmNlbCgpLGZjbigpLGRlZmVycmVkfSxkZWZlcnJlZC5jYW5jZWw9ZnVuY3Rpb24oKXtyZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1udWxsLGRlZmVycmVkfSxkZWZlcnJlZC5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGltZXJ9LGRlZmVycmVkfSxleHBvcnRzLmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKGZjbixkZWZhdWx0VGltZW91dCl7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxfc2VsZj1mdW5jdGlvbih0aW1lb3V0KXtudWxsPT10aW1lciYmKHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8ZGVmYXVsdFRpbWVvdXQpKX07cmV0dXJuIF9zZWxmLmRlbGF5PWZ1bmN0aW9uKHRpbWVvdXQpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPXNldFRpbWVvdXQoY2FsbGJhY2ssdGltZW91dHx8ZGVmYXVsdFRpbWVvdXQpfSxfc2VsZi5zY2hlZHVsZT1fc2VsZixfc2VsZi5jYWxsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWwoKSxmY24oKX0sX3NlbGYuY2FuY2VsPWZ1bmN0aW9uKCl7dGltZXImJmNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbH0sX3NlbGYuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxfc2VsZn19KSxhY2UuZGVmaW5lKCJhY2UvcmFuZ2UiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlJhbmdlOiBbIit0aGlzLnN0YXJ0LnJvdysiLyIrdGhpcy5zdGFydC5jb2x1bW4rIl0gLT4gWyIrdGhpcy5lbmQucm93KyIvIit0aGlzLmVuZC5jb2x1bW4rIl0ifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7Im9iamVjdCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXsib2JqZWN0Ij09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZSgiYWNlL2FwcGx5X2RlbHRhIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2V4cG9ydHMuYXBwbHlEZWx0YT1mdW5jdGlvbihkb2NMaW5lcyxkZWx0YSl7dmFyIHJvdz1kZWx0YS5zdGFydC5yb3csc3RhcnRDb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGxpbmU9ZG9jTGluZXNbcm93XXx8IiI7c3dpdGNoKGRlbHRhLmFjdGlvbil7Y2FzZSJpbnNlcnQiOnZhciBsaW5lcz1kZWx0YS5saW5lcztpZigxPT09bGluZXMubGVuZ3RoKWRvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZGVsdGEubGluZXNbMF0rbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pO2Vsc2V7dmFyIGFyZ3M9W3JvdywxXS5jb25jYXQoZGVsdGEubGluZXMpO2RvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcyxhcmdzKSxkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RvY0xpbmVzW3Jvd10sZG9jTGluZXNbcm93K2RlbHRhLmxpbmVzLmxlbmd0aC0xXSs9bGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pfWJyZWFrO2Nhc2UicmVtb3ZlIjp2YXIgZW5kQ29sdW1uPWRlbHRhLmVuZC5jb2x1bW4sZW5kUm93PWRlbHRhLmVuZC5yb3c7cm93PT09ZW5kUm93P2RvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uKTpkb2NMaW5lcy5zcGxpY2Uocm93LGVuZFJvdy1yb3crMSxsaW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pKX19fSksYWNlLmRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpeyJvYmplY3QiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCksbGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aSYmKGxpc3RlbmVyc1tpXShlLHRoaXMpLCFlLnByb3BhZ2F0aW9uU3RvcHBlZCk7aSsrKTtyZXR1cm4gZGVmYXVsdEhhbmRsZXImJiFlLmRlZmF1bHRQcmV2ZW50ZWQ/ZGVmYXVsdEhhbmRsZXIoZSx0aGlzKTp2b2lkIDB9fSxFdmVudEVtaXR0ZXIuX3NpZ25hbD1mdW5jdGlvbihldmVudE5hbWUsZSl7dmFyIGxpc3RlbmVycz0odGhpcy5fZXZlbnRSZWdpc3RyeXx8e30pW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXtsaXN0ZW5lcnM9bGlzdGVuZXJzLnNsaWNlKCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX19LEV2ZW50RW1pdHRlci5vbmNlPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIF9zZWxmPXRoaXM7Y2FsbGJhY2smJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsZnVuY3Rpb24gbmV3Q2FsbGJhY2soKXtfc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxuZXdDYWxsYmFjayksY2FsbGJhY2suYXBwbHkobnVsbCxhcmd1bWVudHMpfSl9LEV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnN8fChoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM9e19kaXNhYmxlZF86e319KSxoYW5kbGVyc1tldmVudE5hbWVdKXt2YXIgb2xkPWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2Rpc2FibGVkfHwoaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdPWRpc2FibGVkPVtdKSxkaXNhYmxlZC5wdXNoKG9sZCk7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfWhhbmRsZXJzW2V2ZW50TmFtZV09Y2FsbGJhY2t9LEV2ZW50RW1pdHRlci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnMpe3ZhciBkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07aWYoaGFuZGxlcnNbZXZlbnROYW1lXT09Y2FsbGJhY2spaGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZCYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsZGlzYWJsZWQucG9wKCkpO2Vsc2UgaWYoZGlzYWJsZWQpe3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX19fSxFdmVudEVtaXR0ZXIub249RXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrLGNhcHR1cmluZyl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtyZXR1cm4gbGlzdGVuZXJzfHwobGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSksLTE9PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSYmbGlzdGVuZXJzW2NhcHR1cmluZz8idW5zaGlmdCI6InB1c2giXShjYWxsYmFjayksY2FsbGJhY2t9LEV2ZW50RW1pdHRlci5vZmY9RXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyPUV2ZW50RW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpe3ZhciBpbmRleD1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7LTEhPT1pbmRleCYmbGlzdGVuZXJzLnNwbGljZShpbmRleCwxKX19LEV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnROYW1lKXt0aGlzLl9ldmVudFJlZ2lzdHJ5JiYodGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKX0sZXhwb3J0cy5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyfSksYWNlLmRlZmluZSgiYWNlL2FuY2hvciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBvb3A9YWNlcXVpcmUoIi4vbGliL29vcCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixBbmNob3I9ZXhwb3J0cy5BbmNob3I9ZnVuY3Rpb24oZG9jLHJvdyxjb2x1bW4pe3RoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaChkb2MpLGNvbHVtbj09PXZvaWQgMD90aGlzLnNldFBvc2l0aW9uKHJvdy5yb3cscm93LmNvbHVtbik6dGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uKX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLHBvaW50MixlcXVhbFBvaW50c0luT3JkZXIpe3ZhciBiQ29sSXNBZnRlcj1lcXVhbFBvaW50c0luT3JkZXI/cG9pbnQxLmNvbHVtbjw9cG9pbnQyLmNvbHVtbjpwb2ludDEuY29sdW1uPHBvaW50Mi5jb2x1bW47cmV0dXJuIHBvaW50MS5yb3c8cG9pbnQyLnJvd3x8cG9pbnQxLnJvdz09cG9pbnQyLnJvdyYmYkNvbElzQWZ0ZXJ9ZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEscG9pbnQsbW92ZUlmRXF1YWwpe3ZhciBkZWx0YUlzSW5zZXJ0PSJpbnNlcnQiPT1kZWx0YS5hY3Rpb24sZGVsdGFSb3dTaGlmdD0oZGVsdGFJc0luc2VydD8xOi0xKSooZGVsdGEuZW5kLnJvdy1kZWx0YS5zdGFydC5yb3cpLGRlbHRhQ29sU2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5jb2x1bW4tZGVsdGEuc3RhcnQuY29sdW1uKSxkZWx0YVN0YXJ0PWRlbHRhLnN0YXJ0LGRlbHRhRW5kPWRlbHRhSXNJbnNlcnQ/ZGVsdGFTdGFydDpkZWx0YS5lbmQ7cmV0dXJuICRwb2ludHNJbk9yZGVyKHBvaW50LGRlbHRhU3RhcnQsbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93LGNvbHVtbjpwb2ludC5jb2x1bW59OiRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLHBvaW50LCFtb3ZlSWZFcXVhbCk/e3Jvdzpwb2ludC5yb3crZGVsdGFSb3dTaGlmdCxjb2x1bW46cG9pbnQuY29sdW1uKyhwb2ludC5yb3c9PWRlbHRhRW5kLnJvdz9kZWx0YUNvbFNoaWZ0OjApfTp7cm93OmRlbHRhU3RhcnQucm93LGNvbHVtbjpkZWx0YVN0YXJ0LmNvbHVtbn19b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LHRoaXMuY29sdW1uKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50fSx0aGlzLiRpbnNlcnRSaWdodD0hMSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKGRlbHRhKXtpZighKGRlbHRhLnN0YXJ0LnJvdz09ZGVsdGEuZW5kLnJvdyYmZGVsdGEuc3RhcnQucm93IT10aGlzLnJvd3x8ZGVsdGEuc3RhcnQucm93PnRoaXMucm93KSl7dmFyIHBvaW50PSRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufSx0aGlzLiRpbnNlcnRSaWdodCk7dGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3cscG9pbnQuY29sdW1uLCEwKX19LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24ocm93LGNvbHVtbixub0NsaXApe3ZhciBwb3M7aWYocG9zPW5vQ2xpcD97cm93OnJvdyxjb2x1bW46Y29sdW1ufTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdyxjb2x1bW4pLHRoaXMucm93IT1wb3Mucm93fHx0aGlzLmNvbHVtbiE9cG9zLmNvbHVtbil7dmFyIG9sZD17cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn07dGhpcy5yb3c9cG9zLnJvdyx0aGlzLmNvbHVtbj1wb3MuY29sdW1uLHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZG9jKXt0aGlzLmRvY3VtZW50PWRvY3x8dGhpcy5kb2N1bWVudCx0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZSgiYWNlL2RvY3VtZW50IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvYXBwbHlfZGVsdGEiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiLCJhY2UvcmFuZ2UiLCJhY2UvYW5jaG9yIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBvb3A9YWNlcXVpcmUoIi4vbGliL29vcCIpLGFwcGx5RGVsdGE9YWNlcXVpcmUoIi4vYXBwbHlfZGVsdGEiKS5hcHBseURlbHRhLEV2ZW50RW1pdHRlcj1hY2VxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixSYW5nZT1hY2VxdWlyZSgiLi9yYW5nZSIpLlJhbmdlLEFuY2hvcj1hY2VxdWlyZSgiLi9hbmNob3IiKS5BbmNob3IsRG9jdW1lbnQ9ZnVuY3Rpb24odGV4dE9yTGluZXMpe3RoaXMuJGxpbmVzPVsiIl0sMD09PXRleHRPckxpbmVzLmxlbmd0aD90aGlzLiRsaW5lcz1bIiJdOkFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpP3RoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyl9OyhmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odGV4dCl7dmFyIGxlbj10aGlzLmdldExlbmd0aCgpLTE7dGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsMCxsZW4sdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0KX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiBuZXcgQW5jaG9yKHRoaXMscm93LGNvbHVtbil9LHRoaXMuJHNwbGl0PTA9PT0iYWFhIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG58XFxyL2csIlxcbiIpLnNwbGl0KCJcXG4iKX06ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxyXFxufFxccnxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOiJcXG4iLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKX0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlIndpbmRvd3MiOnJldHVybiJcXHJcXG4iO2Nhc2UidW5peCI6cmV0dXJuIlxcbiI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV8fCJcXG4ifX0sdGhpcy4kYXV0b05ld0xpbmU9IiIsdGhpcy4kbmV3TGluZU1vZGU9ImF1dG8iLHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24obmV3TGluZU1vZGUpe3RoaXMuJG5ld0xpbmVNb2RlIT09bmV3TGluZU1vZGUmJih0aGlzLiRuZXdMaW5lTW9kZT1uZXdMaW5lTW9kZSx0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIikpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm4iXFxyXFxuIj09dGV4dHx8IlxcciI9PXRleHR8fCJcXG4iPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8IiJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgbGluZXM7aWYocmFuZ2Uuc3RhcnQucm93PT09cmFuZ2UuZW5kLnJvdylsaW5lcz1bdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKV07ZWxzZXtsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KSxsaW5lc1swXT0obGluZXNbMF18fCIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyYW5nZS5lbmQucm93LXJhbmdlLnN0YXJ0LnJvdz09bCYmKGxpbmVzW2xdPWxpbmVzW2xdLnN1YnN0cmluZygwLHJhbmdlLmVuZC5jb2x1bW4pKX1yZXR1cm4gbGluZXN9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIiksdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LGxpbmVzKX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIiksdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cmV0dXJuIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbXCdcJywgXCdcJ10pIGluc3RlYWQuIiksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbixbIiIsIiJdKX0sdGhpcy5pbnNlcnQ9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7cmV0dXJuIDE+PXRoaXMuZ2V0TGVuZ3RoKCkmJnRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbix0aGlzLiRzcGxpdCh0ZXh0KSl9LHRoaXMuaW5zZXJ0SW5MaW5lPWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbiksZW5kPXRoaXMucG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4rdGV4dC5sZW5ndGgpO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJpbnNlcnQiLGxpbmVzOlt0ZXh0XX0sITApLHRoaXMuY2xvbmVQb3MoZW5kKX0sdGhpcy5jbGlwcGVkUG9zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBsZW5ndGg9dGhpcy5nZXRMZW5ndGgoKTt2b2lkIDA9PT1yb3c/cm93PWxlbmd0aDowPnJvdz9yb3c9MDpyb3c+PWxlbmd0aCYmKHJvdz1sZW5ndGgtMSxjb2x1bW49dm9pZCAwKTt2YXIgbGluZT10aGlzLmdldExpbmUocm93KTtyZXR1cm4gdm9pZCAwPT1jb2x1bW4mJihjb2x1bW49bGluZS5sZW5ndGgpLGNvbHVtbj1NYXRoLm1pbihNYXRoLm1heChjb2x1bW4sMCksbGluZS5sZW5ndGgpLHtyb3c6cm93LGNvbHVtbjpjb2x1bW59fSx0aGlzLmNsb25lUG9zPWZ1bmN0aW9uKHBvcyl7cmV0dXJue3Jvdzpwb3Mucm93LGNvbHVtbjpwb3MuY29sdW1ufX0sdGhpcy5wb3M9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJue3Jvdzpyb3csY29sdW1uOmNvbHVtbn19LHRoaXMuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3JldHVybiBwb3NpdGlvbi5yb3c+PWxlbmd0aD8ocG9zaXRpb24ucm93PU1hdGgubWF4KDAsbGVuZ3RoLTEpLHBvc2l0aW9uLmNvbHVtbj10aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aCk6KHBvc2l0aW9uLnJvdz1NYXRoLm1heCgwLHBvc2l0aW9uLnJvdykscG9zaXRpb24uY29sdW1uPU1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwwKSx0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpKSxwb3NpdGlvbn0sdGhpcy5pbnNlcnRGdWxsTGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyb3c9TWF0aC5taW4oTWF0aC5tYXgocm93LDApLHRoaXMuZ2V0TGVuZ3RoKCkpO3ZhciBjb2x1bW49MDt0aGlzLmdldExlbmd0aCgpPnJvdz8obGluZXM9bGluZXMuY29uY2F0KFsiIl0pLGNvbHVtbj0wKToobGluZXM9WyIiXS5jb25jYXQobGluZXMpLHJvdy0tLGNvbHVtbj10aGlzLiRsaW5lc1tyb3ddLmxlbmd0aCksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyh7cm93OnJvdyxjb2x1bW46Y29sdW1ufSxsaW5lcyl9LHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXM9ZnVuY3Rpb24ocG9zaXRpb24sbGluZXMpe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbiksZW5kPXtyb3c6c3RhcnQucm93K2xpbmVzLmxlbmd0aC0xLGNvbHVtbjooMT09bGluZXMubGVuZ3RoP3N0YXJ0LmNvbHVtbjowKStsaW5lc1tsaW5lcy5sZW5ndGgtMV0ubGVuZ3RofTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjoiaW5zZXJ0IixsaW5lczpsaW5lc30pLHRoaXMuY2xvbmVQb3MoZW5kKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24ocmFuZ2Upe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocmFuZ2Uuc3RhcnQucm93LHJhbmdlLnN0YXJ0LmNvbHVtbiksZW5kPXRoaXMuY2xpcHBlZFBvcyhyYW5nZS5lbmQucm93LHJhbmdlLmVuZC5jb2x1bW4pO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJyZW1vdmUiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pfSksdGhpcy5jbG9uZVBvcyhzdGFydCl9LHRoaXMucmVtb3ZlSW5MaW5lPWZ1bmN0aW9uKHJvdyxzdGFydENvbHVtbixlbmRDb2x1bW4pe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3Mocm93LHN0YXJ0Q29sdW1uKSxlbmQ9dGhpcy5jbGlwcGVkUG9zKHJvdyxlbmRDb2x1bW4pO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJyZW1vdmUiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pfSwhMCksdGhpcy5jbG9uZVBvcyhzdGFydCl9LHRoaXMucmVtb3ZlRnVsbExpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe2ZpcnN0Um93PU1hdGgubWluKE1hdGgubWF4KDAsZmlyc3RSb3cpLHRoaXMuZ2V0TGVuZ3RoKCktMSksbGFzdFJvdz1NYXRoLm1pbihNYXRoLm1heCgwLGxhc3RSb3cpLHRoaXMuZ2V0TGVuZ3RoKCktMSk7dmFyIGRlbGV0ZUZpcnN0TmV3TGluZT1sYXN0Um93PT10aGlzLmdldExlbmd0aCgpLTEmJmZpcnN0Um93PjAsZGVsZXRlTGFzdE5ld0xpbmU9dGhpcy5nZXRMZW5ndGgoKS0xPmxhc3RSb3csc3RhcnRSb3c9ZGVsZXRlRmlyc3ROZXdMaW5lP2ZpcnN0Um93LTE6Zmlyc3RSb3csc3RhcnRDb2w9ZGVsZXRlRmlyc3ROZXdMaW5lP3RoaXMuZ2V0TGluZShzdGFydFJvdykubGVuZ3RoOjAsZW5kUm93PWRlbGV0ZUxhc3ROZXdMaW5lP2xhc3RSb3crMTpsYXN0Um93LGVuZENvbD1kZWxldGVMYXN0TmV3TGluZT8wOnRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCxyYW5nZT1uZXcgUmFuZ2Uoc3RhcnRSb3csc3RhcnRDb2wsZW5kUm93LGVuZENvbCksZGVsZXRlZExpbmVzPXRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6cmFuZ2Uuc3RhcnQsZW5kOnJhbmdlLmVuZCxhY3Rpb246InJlbW92ZSIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKX0pLGRlbGV0ZWRMaW5lc30sdGhpcy5yZW1vdmVOZXdMaW5lPWZ1bmN0aW9uKHJvdyl7dGhpcy5nZXRMZW5ndGgoKS0xPnJvdyYmcm93Pj0wJiZ0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMucG9zKHJvdyx0aGlzLmdldExpbmUocm93KS5sZW5ndGgpLGVuZDp0aGlzLnBvcyhyb3crMSwwKSxhY3Rpb246InJlbW92ZSIsbGluZXM6WyIiLCIiXX0pfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24ocmFuZ2UsdGV4dCl7aWYocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZXx8KHJhbmdlPVJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQscmFuZ2UuZW5kKSksMD09PXRleHQubGVuZ3RoJiZyYW5nZS5pc0VtcHR5KCkpcmV0dXJuIHJhbmdlLnN0YXJ0O2lmKHRleHQ9PXRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlyZXR1cm4gcmFuZ2UuZW5kO3RoaXMucmVtb3ZlKHJhbmdlKTt2YXIgZW5kO3JldHVybiBlbmQ9dGV4dD90aGlzLmluc2VydChyYW5nZS5zdGFydCx0ZXh0KTpyYW5nZS5zdGFydH0sdGhpcy5hcHBseURlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT0wO2RlbHRhcy5sZW5ndGg+aTtpKyspdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSl9LHRoaXMucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPWRlbHRhcy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSl9LHRoaXMuYXBwbHlEZWx0YT1mdW5jdGlvbihkZWx0YSxkb05vdFZhbGlkYXRlKXt2YXIgaXNJbnNlcnQ9Imluc2VydCI9PWRlbHRhLmFjdGlvbjsoaXNJbnNlcnQ/MT49ZGVsdGEubGluZXMubGVuZ3RoJiYhZGVsdGEubGluZXNbMF06IVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsZGVsdGEuZW5kKSl8fChpc0luc2VydCYmZGVsdGEubGluZXMubGVuZ3RoPjJlNCYmdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsMmU0KSxhcHBseURlbHRhKHRoaXMuJGxpbmVzLGRlbHRhLGRvTm90VmFsaWRhdGUpLHRoaXMuX3NpZ25hbCgiY2hhbmdlIixkZWx0YSkpfSx0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YT1mdW5jdGlvbihkZWx0YSxNQVgpe2Zvcih2YXIgbGluZXM9ZGVsdGEubGluZXMsbD1saW5lcy5sZW5ndGgscm93PWRlbHRhLnN0YXJ0LnJvdyxjb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGZyb209MCx0bz0wOzspe2Zyb209dG8sdG8rPU1BWC0xO3ZhciBjaHVuaz1saW5lcy5zbGljZShmcm9tLHRvKTtpZih0bz5sKXtkZWx0YS5saW5lcz1jaHVuayxkZWx0YS5zdGFydC5yb3c9cm93K2Zyb20sZGVsdGEuc3RhcnQuY29sdW1uPWNvbHVtbjticmVha31jaHVuay5wdXNoKCIiKSx0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMucG9zKHJvdytmcm9tLGNvbHVtbiksZW5kOnRoaXMucG9zKHJvdyt0byxjb2x1bW49MCksYWN0aW9uOmRlbHRhLmFjdGlvbixsaW5lczpjaHVua30sITApfX0sdGhpcy5yZXZlcnREZWx0YT1mdW5jdGlvbihkZWx0YSl7dGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSxlbmQ6dGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLGFjdGlvbjoiaW5zZXJ0Ij09ZGVsdGEuYWN0aW9uPyJyZW1vdmUiOiJpbnNlcnQiLGxpbmVzOmRlbHRhLmxpbmVzLnNsaWNlKCl9KX0sdGhpcy5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oaW5kZXgsc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpPXN0YXJ0Um93fHwwLGw9bGluZXMubGVuZ3RoO2w+aTtpKyspaWYoaW5kZXgtPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoLDA+aW5kZXgpcmV0dXJue3JvdzppLGNvbHVtbjppbmRleCtsaW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aH07cmV0dXJue3JvdzpsLTEsY29sdW1uOmxpbmVzW2wtMV0ubGVuZ3RofX0sdGhpcy5wb3NpdGlvblRvSW5kZXg9ZnVuY3Rpb24ocG9zLHN0YXJ0Um93KXtmb3IodmFyIGxpbmVzPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCksbmV3bGluZUxlbmd0aD10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaW5kZXg9MCxyb3c9TWF0aC5taW4ocG9zLnJvdyxsaW5lcy5sZW5ndGgpLGk9c3RhcnRSb3d8fDA7cm93Pmk7KytpKWluZGV4Kz1saW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aDtyZXR1cm4gaW5kZXgrcG9zLmNvbHVtbn19KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSksZXhwb3J0cy5Eb2N1bWVudD1Eb2N1bWVudH0pLGFjZS5kZWZpbmUoImFjZS93b3JrZXIvbWlycm9yIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3JhbmdlIiwiYWNlL2RvY3VtZW50IiwiYWNlL2xpYi9sYW5nIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2FjZXF1aXJlKCIuLi9yYW5nZSIpLlJhbmdlO3ZhciBEb2N1bWVudD1hY2VxdWlyZSgiLi4vZG9jdW1lbnQiKS5Eb2N1bWVudCxsYW5nPWFjZXF1aXJlKCIuLi9saWIvbGFuZyIpLE1pcnJvcj1leHBvcnRzLk1pcnJvcj1mdW5jdGlvbihzZW5kZXIpe3RoaXMuc2VuZGVyPXNlbmRlcjt2YXIgZG9jPXRoaXMuZG9jPW5ldyBEb2N1bWVudCgiIiksZGVmZXJyZWRVcGRhdGU9dGhpcy5kZWZlcnJlZFVwZGF0ZT1sYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSksX3NlbGY9dGhpcztzZW5kZXIub24oImNoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIGRhdGE9ZS5kYXRhO2lmKGRhdGFbMF0uc3RhcnQpZG9jLmFwcGx5RGVsdGFzKGRhdGEpO2Vsc2UgZm9yKHZhciBpPTA7ZGF0YS5sZW5ndGg+aTtpKz0yKXtpZihBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpdmFyIGQ9e2FjdGlvbjoiaW5zZXJ0IixzdGFydDpkYXRhW2ldLGxpbmVzOmRhdGFbaSsxXX07ZWxzZSB2YXIgZD17YWN0aW9uOiJyZW1vdmUiLHN0YXJ0OmRhdGFbaV0sZW5kOmRhdGFbaSsxXX07ZG9jLmFwcGx5RGVsdGEoZCwhMCl9cmV0dXJuIF9zZWxmLiR0aW1lb3V0P2RlZmVycmVkVXBkYXRlLnNjaGVkdWxlKF9zZWxmLiR0aW1lb3V0KTooX3NlbGYub25VcGRhdGUoKSx2b2lkIDApfSl9OyhmdW5jdGlvbigpe3RoaXMuJHRpbWVvdXQ9NTAwLHRoaXMuc2V0VGltZW91dD1mdW5jdGlvbih0aW1lb3V0KXt0aGlzLiR0aW1lb3V0PXRpbWVvdXR9LHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odmFsdWUpe3RoaXMuZG9jLnNldFZhbHVlKHZhbHVlKSx0aGlzLmRlZmVycmVkVXBkYXRlLnNjaGVkdWxlKHRoaXMuJHRpbWVvdXQpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKGNhbGxiYWNrSWQpe3RoaXMuc2VuZGVyLmNhbGxiYWNrKHRoaXMuZG9jLmdldFZhbHVlKCksY2FsbGJhY2tJZCl9LHRoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt9LHRoaXMuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmZXJyZWRVcGRhdGUuaXNQZW5kaW5nKCl9fSkuY2FsbChNaXJyb3IucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoImFjZS9tb2RlL3htbC9zYXgiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIFhNTFJlYWRlcigpe31mdW5jdGlvbiBwYXJzZShzb3VyY2UsZGVmYXVsdE5TTWFwQ29weSxlbnRpdHlNYXAsZG9tQnVpbGRlcixlcnJvckhhbmRsZXIpe2Z1bmN0aW9uIGZpeGVkRnJvbUNoYXJDb2RlKGNvZGUpe2lmKGNvZGU+NjU1MzUpe2NvZGUtPTY1NTM2O3ZhciBzdXJyb2dhdGUxPTU1Mjk2Kyhjb2RlPj4xMCksc3Vycm9nYXRlMj01NjMyMCsoMTAyMyZjb2RlKTtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShzdXJyb2dhdGUxLHN1cnJvZ2F0ZTIpfXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUpfWZ1bmN0aW9uIGVudGl0eVJlcGxhY2VyKGEpe3ZhciBrPWEuc2xpY2UoMSwtMSk7cmV0dXJuIGsgaW4gZW50aXR5TWFwP2VudGl0eU1hcFtrXToiIyI9PT1rLmNoYXJBdCgwKT9maXhlZEZyb21DaGFyQ29kZShwYXJzZUludChrLnN1YnN0cigxKS5yZXBsYWNlKCJ4IiwiMHgiKSkpOihlcnJvckhhbmRsZXIuZXJyb3IoImVudGl0eSBub3QgZm91bmQ6IithKSxhKX1mdW5jdGlvbiBhcHBlbmRUZXh0KGVuZCl7dmFyIHh0PXNvdXJjZS5zdWJzdHJpbmcoc3RhcnQsZW5kKS5yZXBsYWNlKC8mIz9cXHcrOy9nLGVudGl0eVJlcGxhY2VyKTtsb2NhdG9yJiZwb3NpdGlvbihzdGFydCksZG9tQnVpbGRlci5jaGFyYWN0ZXJzKHh0LDAsZW5kLXN0YXJ0KSxzdGFydD1lbmR9ZnVuY3Rpb24gcG9zaXRpb24oc3RhcnQsbSl7Zm9yKDtzdGFydD49ZW5kUG9zJiYobT1saW5lUGF0dGVybi5leGVjKHNvdXJjZSkpOylzdGFydFBvcz1tLmluZGV4LGVuZFBvcz1zdGFydFBvcyttWzBdLmxlbmd0aCxsb2NhdG9yLmxpbmVOdW1iZXIrKztsb2NhdG9yLmNvbHVtbk51bWJlcj1zdGFydC1zdGFydFBvcysxfWZvcih2YXIgc3RhcnRQb3M9MCxlbmRQb3M9MCxsaW5lUGF0dGVybj0vLisoPzpcXHJcXG4/fFxcbil8LiokL2csbG9jYXRvcj1kb21CdWlsZGVyLmxvY2F0b3IscGFyc2VTdGFjaz1be2N1cnJlbnROU01hcDpkZWZhdWx0TlNNYXBDb3B5fV0sY2xvc2VNYXA9e30sc3RhcnQ9MDs7KXt2YXIgaT1zb3VyY2UuaW5kZXhPZigiPCIsc3RhcnQpO2lmKDA+aSl7aWYoIXNvdXJjZS5zdWJzdHIoc3RhcnQpLm1hdGNoKC9eXFxzKiQvKSl7dmFyIGRvYz1kb21CdWlsZGVyLmRvY3VtZW50LHRleHQ9ZG9jLmNyZWF0ZVRleHROb2RlKHNvdXJjZS5zdWJzdHIoc3RhcnQpKTtkb2MuYXBwZW5kQ2hpbGQodGV4dCksZG9tQnVpbGRlci5jdXJyZW50RWxlbWVudD10ZXh0fXJldHVybn1zd2l0Y2goaT5zdGFydCYmYXBwZW5kVGV4dChpKSxzb3VyY2UuY2hhckF0KGkrMSkpe2Nhc2UiLyI6dmFyIGNvbmZpZyxlbmQ9c291cmNlLmluZGV4T2YoIj4iLGkrMyksdGFnTmFtZT1zb3VyY2Uuc3Vic3RyaW5nKGkrMixlbmQpO2lmKCEocGFyc2VTdGFjay5sZW5ndGg+MSkpe2Vycm9ySGFuZGxlci5mYXRhbEVycm9yKCJlbmQgdGFnIG5hbWUgbm90IGZvdW5kIGZvcjogIit0YWdOYW1lKTticmVha31jb25maWc9cGFyc2VTdGFjay5wb3AoKTt2YXIgbG9jYWxOU01hcD1jb25maWcubG9jYWxOU01hcDtpZihjb25maWcudGFnTmFtZSE9dGFnTmFtZSYmZXJyb3JIYW5kbGVyLmZhdGFsRXJyb3IoImVuZCB0YWcgbmFtZTogIit0YWdOYW1lKyIgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgc3RhcnQgdGFnTmFtZTogIitjb25maWcudGFnTmFtZSksZG9tQnVpbGRlci5lbmRFbGVtZW50KGNvbmZpZy51cmksY29uZmlnLmxvY2FsTmFtZSx0YWdOYW1lKSxsb2NhbE5TTWFwKWZvcih2YXIgcHJlZml4IGluIGxvY2FsTlNNYXApZG9tQnVpbGRlci5lbmRQcmVmaXhNYXBwaW5nKHByZWZpeCk7ZW5kKys7YnJlYWs7Y2FzZSI/Ijpsb2NhdG9yJiZwb3NpdGlvbihpKSxlbmQ9cGFyc2VJbnN0cnVjdGlvbihzb3VyY2UsaSxkb21CdWlsZGVyKTticmVhaztjYXNlIiEiOmxvY2F0b3ImJnBvc2l0aW9uKGkpLGVuZD1wYXJzZURDQyhzb3VyY2UsaSxkb21CdWlsZGVyLGVycm9ySGFuZGxlcik7YnJlYWs7ZGVmYXVsdDp0cnl7bG9jYXRvciYmcG9zaXRpb24oaSk7dmFyIGVsPW5ldyBFbGVtZW50QXR0cmlidXRlcyxlbmQ9cGFyc2VFbGVtZW50U3RhcnRQYXJ0KHNvdXJjZSxpLGVsLGVudGl0eVJlcGxhY2VyLGVycm9ySGFuZGxlciksbGVuPWVsLmxlbmd0aDtpZihsZW4mJmxvY2F0b3Ipe2Zvcih2YXIgYmFja3VwPWNvcHlMb2NhdG9yKGxvY2F0b3Ise30pLGk9MDtsZW4+aTtpKyspe3ZhciBhPWVsW2ldO3Bvc2l0aW9uKGEub2Zmc2V0KSxhLm9mZnNldD1jb3B5TG9jYXRvcihsb2NhdG9yLHt9KX1jb3B5TG9jYXRvcihiYWNrdXAsbG9jYXRvcil9IWVsLmNsb3NlZCYmZml4U2VsZkNsb3NlZChzb3VyY2UsZW5kLGVsLnRhZ05hbWUsY2xvc2VNYXApJiYoZWwuY2xvc2VkPSEwLGVudGl0eU1hcC5uYnNwfHxlcnJvckhhbmRsZXIud2FybmluZygidW5jbG9zZWQgeG1sIGF0dHJpYnV0ZSIpKSxhcHBlbmRFbGVtZW50KGVsLGRvbUJ1aWxkZXIscGFyc2VTdGFjayksImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiIT09ZWwudXJpfHxlbC5jbG9zZWQ/ZW5kKys6ZW5kPXBhcnNlSHRtbFNwZWNpYWxDb250ZW50KHNvdXJjZSxlbmQsZWwudGFnTmFtZSxlbnRpdHlSZXBsYWNlcixkb21CdWlsZGVyKX1jYXRjaChlKXtlcnJvckhhbmRsZXIuZXJyb3IoImVsZW1lbnQgcGFyc2UgZXJyb3I6ICIrZSksZW5kPS0xfX0wPmVuZD9hcHBlbmRUZXh0KGkrMSk6c3RhcnQ9ZW5kfX1mdW5jdGlvbiBjb3B5TG9jYXRvcihmLHQpe3JldHVybiB0LmxpbmVOdW1iZXI9Zi5saW5lTnVtYmVyLHQuY29sdW1uTnVtYmVyPWYuY29sdW1uTnVtYmVyLHR9ZnVuY3Rpb24gcGFyc2VFbGVtZW50U3RhcnRQYXJ0KHNvdXJjZSxzdGFydCxlbCxlbnRpdHlSZXBsYWNlcixlcnJvckhhbmRsZXIpe2Zvcih2YXIgYXR0ck5hbWUsdmFsdWUscD0rK3N0YXJ0LHM9U19UQUc7Oyl7dmFyIGM9c291cmNlLmNoYXJBdChwKTtzd2l0Y2goYyl7Y2FzZSI9IjppZihzPT09U19BVFRSKWF0dHJOYW1lPXNvdXJjZS5zbGljZShzdGFydCxwKSxzPVNfRVE7ZWxzZXtpZihzIT09U19BVFRSX1MpdGhyb3cgRXJyb3IoImF0dHJpYnV0ZSBlcXVhbCBtdXN0IGFmdGVyIGF0dHJOYW1lIik7cz1TX0VRfWJyZWFrO2Nhc2UiXCciOmNhc2VcJyJcJzppZihzPT09U19FUSl7aWYoc3RhcnQ9cCsxLHA9c291cmNlLmluZGV4T2YoYyxzdGFydCksIShwPjApKXRocm93IEVycm9yKCJhdHRyaWJ1dGUgdmFsdWUgbm8gZW5kIFwnIitjKyJcJyBtYXRjaCIpO3ZhbHVlPXNvdXJjZS5zbGljZShzdGFydCxwKS5yZXBsYWNlKC8mIz9cXHcrOy9nLGVudGl0eVJlcGxhY2VyKSxlbC5hZGQoYXR0ck5hbWUsdmFsdWUsc3RhcnQtMSkscz1TX0V9ZWxzZXtpZihzIT1TX1YpdGhyb3cgRXJyb3IoXCdhdHRyaWJ1dGUgdmFsdWUgbXVzdCBhZnRlciAiPSJcJyk7dmFsdWU9c291cmNlLnNsaWNlKHN0YXJ0LHApLnJlcGxhY2UoLyYjP1xcdys7L2csZW50aXR5UmVwbGFjZXIpLGVsLmFkZChhdHRyTmFtZSx2YWx1ZSxzdGFydCksZXJyb3JIYW5kbGVyLndhcm5pbmcoXCdhdHRyaWJ1dGUgIlwnK2F0dHJOYW1lK1wnIiBtaXNzZWQgc3RhcnQgcXVvdChcJytjKyIpISEiKSxzdGFydD1wKzEscz1TX0V9YnJlYWs7Y2FzZSIvIjpzd2l0Y2gocyl7Y2FzZSBTX1RBRzplbC5zZXRUYWdOYW1lKHNvdXJjZS5zbGljZShzdGFydCxwKSk7Y2FzZSBTX0U6Y2FzZSBTX1M6Y2FzZSBTX0M6cz1TX0MsZWwuY2xvc2VkPSEwO2Nhc2UgU19WOmNhc2UgU19BVFRSOmNhc2UgU19BVFRSX1M6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiYXR0cmlidXRlIGludmFsaWQgY2xvc2UgY2hhcihcJy9cJykiKX1icmVhaztjYXNlIiI6ZXJyb3JIYW5kbGVyLmVycm9yKCJ1bmV4cGVjdGVkIGVuZCBvZiBpbnB1dCIpO2Nhc2UiPiI6c3dpdGNoKHMpe2Nhc2UgU19UQUc6ZWwuc2V0VGFnTmFtZShzb3VyY2Uuc2xpY2Uoc3RhcnQscCkpO2Nhc2UgU19FOmNhc2UgU19TOmNhc2UgU19DOmJyZWFrO2Nhc2UgU19WOmNhc2UgU19BVFRSOnZhbHVlPXNvdXJjZS5zbGljZShzdGFydCxwKSwiLyI9PT12YWx1ZS5zbGljZSgtMSkmJihlbC5jbG9zZWQ9ITAsdmFsdWU9dmFsdWUuc2xpY2UoMCwtMSkpO2Nhc2UgU19BVFRSX1M6cz09PVNfQVRUUl9TJiYodmFsdWU9YXR0ck5hbWUpLHM9PVNfVj8oZXJyb3JIYW5kbGVyLndhcm5pbmcoXCdhdHRyaWJ1dGUgIlwnK3ZhbHVlK1wnIiBtaXNzZWQgcXVvdCgiKSEhXCcpLGVsLmFkZChhdHRyTmFtZSx2YWx1ZS5yZXBsYWNlKC8mIz9cXHcrOy9nLGVudGl0eVJlcGxhY2VyKSxzdGFydCkpOihlcnJvckhhbmRsZXIud2FybmluZyhcJ2F0dHJpYnV0ZSAiXCcrdmFsdWUrXCciIG1pc3NlZCB2YWx1ZSEhICJcJyt2YWx1ZStcJyIgaW5zdGVhZCEhXCcpLGVsLmFkZCh2YWx1ZSx2YWx1ZSxzdGFydCkpO2JyZWFrO2Nhc2UgU19FUTp0aHJvdyBFcnJvcigiYXR0cmlidXRlIHZhbHVlIG1pc3NlZCEhIil9cmV0dXJuIHA7Y2FzZSLCgCI6Yz0iICI7ZGVmYXVsdDppZigiICI+PWMpc3dpdGNoKHMpe2Nhc2UgU19UQUc6ZWwuc2V0VGFnTmFtZShzb3VyY2Uuc2xpY2Uoc3RhcnQscCkpLHM9U19TO2JyZWFrO2Nhc2UgU19BVFRSOmF0dHJOYW1lPXNvdXJjZS5zbGljZShzdGFydCxwKSxzPVNfQVRUUl9TO2JyZWFrO2Nhc2UgU19WOnZhciB2YWx1ZT1zb3VyY2Uuc2xpY2Uoc3RhcnQscCkucmVwbGFjZSgvJiM/XFx3KzsvZyxlbnRpdHlSZXBsYWNlcik7ZXJyb3JIYW5kbGVyLndhcm5pbmcoXCdhdHRyaWJ1dGUgIlwnK3ZhbHVlK1wnIiBtaXNzZWQgcXVvdCgiKSEhXCcpLGVsLmFkZChhdHRyTmFtZSx2YWx1ZSxzdGFydCk7Y2FzZSBTX0U6cz1TX1N9ZWxzZSBzd2l0Y2gocyl7Y2FzZSBTX0FUVFJfUzplcnJvckhhbmRsZXIud2FybmluZyhcJ2F0dHJpYnV0ZSAiXCcrYXR0ck5hbWUrXCciIG1pc3NlZCB2YWx1ZSEhICJcJythdHRyTmFtZStcJyIgaW5zdGVhZCEhXCcpLGVsLmFkZChhdHRyTmFtZSxhdHRyTmFtZSxzdGFydCksc3RhcnQ9cCxzPVNfQVRUUjtcbmJyZWFrO2Nhc2UgU19FOmVycm9ySGFuZGxlci53YXJuaW5nKFwnYXR0cmlidXRlIHNwYWNlIGlzIGFjZXF1aXJlZCJcJythdHRyTmFtZStcJyIhIVwnKTtjYXNlIFNfUzpzPVNfQVRUUixzdGFydD1wO2JyZWFrO2Nhc2UgU19FUTpzPVNfVixzdGFydD1wO2JyZWFrO2Nhc2UgU19DOnRocm93IEVycm9yKCJlbGVtZW50cyBjbG9zZWQgY2hhcmFjdGVyIFwnL1wnIGFuZCBcJz5cJyBtdXN0IGJlIGNvbm5lY3RlZCB0byIpfX1wKyt9fWZ1bmN0aW9uIGFwcGVuZEVsZW1lbnQoZWwsZG9tQnVpbGRlcixwYXJzZVN0YWNrKXtmb3IodmFyIHRhZ05hbWU9ZWwudGFnTmFtZSxsb2NhbE5TTWFwPW51bGwsY3VycmVudE5TTWFwPXBhcnNlU3RhY2tbcGFyc2VTdGFjay5sZW5ndGgtMV0uY3VycmVudE5TTWFwLGk9ZWwubGVuZ3RoO2ktLTspe3ZhciBhPWVsW2ldLHFOYW1lPWEucU5hbWUsdmFsdWU9YS52YWx1ZSxuc3A9cU5hbWUuaW5kZXhPZigiOiIpO2lmKG5zcD4wKXZhciBwcmVmaXg9YS5wcmVmaXg9cU5hbWUuc2xpY2UoMCxuc3ApLGxvY2FsTmFtZT1xTmFtZS5zbGljZShuc3ArMSksbnNQcmVmaXg9InhtbG5zIj09PXByZWZpeCYmbG9jYWxOYW1lO2Vsc2UgbG9jYWxOYW1lPXFOYW1lLHByZWZpeD1udWxsLG5zUHJlZml4PSJ4bWxucyI9PT1xTmFtZSYmIiI7YS5sb2NhbE5hbWU9bG9jYWxOYW1lLG5zUHJlZml4IT09ITEmJihudWxsPT1sb2NhbE5TTWFwJiYobG9jYWxOU01hcD17fSxfY29weShjdXJyZW50TlNNYXAsY3VycmVudE5TTWFwPXt9KSksY3VycmVudE5TTWFwW25zUHJlZml4XT1sb2NhbE5TTWFwW25zUHJlZml4XT12YWx1ZSxhLnVyaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8iLGRvbUJ1aWxkZXIuc3RhcnRQcmVmaXhNYXBwaW5nKG5zUHJlZml4LHZhbHVlKSl9Zm9yKHZhciBpPWVsLmxlbmd0aDtpLS07KXthPWVsW2ldO3ZhciBwcmVmaXg9YS5wcmVmaXg7cHJlZml4JiYoInhtbCI9PT1wcmVmaXgmJihhLnVyaT0iaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIiksInhtbG5zIiE9PXByZWZpeCYmKGEudXJpPWN1cnJlbnROU01hcFtwcmVmaXhdKSl9dmFyIG5zcD10YWdOYW1lLmluZGV4T2YoIjoiKTtuc3A+MD8ocHJlZml4PWVsLnByZWZpeD10YWdOYW1lLnNsaWNlKDAsbnNwKSxsb2NhbE5hbWU9ZWwubG9jYWxOYW1lPXRhZ05hbWUuc2xpY2UobnNwKzEpKToocHJlZml4PW51bGwsbG9jYWxOYW1lPWVsLmxvY2FsTmFtZT10YWdOYW1lKTt2YXIgbnM9ZWwudXJpPWN1cnJlbnROU01hcFtwcmVmaXh8fCIiXTtpZihkb21CdWlsZGVyLnN0YXJ0RWxlbWVudChucyxsb2NhbE5hbWUsdGFnTmFtZSxlbCksZWwuY2xvc2VkKXtpZihkb21CdWlsZGVyLmVuZEVsZW1lbnQobnMsbG9jYWxOYW1lLHRhZ05hbWUpLGxvY2FsTlNNYXApZm9yKHByZWZpeCBpbiBsb2NhbE5TTWFwKWRvbUJ1aWxkZXIuZW5kUHJlZml4TWFwcGluZyhwcmVmaXgpfWVsc2UgZWwuY3VycmVudE5TTWFwPWN1cnJlbnROU01hcCxlbC5sb2NhbE5TTWFwPWxvY2FsTlNNYXAscGFyc2VTdGFjay5wdXNoKGVsKX1mdW5jdGlvbiBwYXJzZUh0bWxTcGVjaWFsQ29udGVudChzb3VyY2UsZWxTdGFydEVuZCx0YWdOYW1lLGVudGl0eVJlcGxhY2VyLGRvbUJ1aWxkZXIpe2lmKC9eKD86c2NyaXB0fHRleHRhcmVhKSQvaS50ZXN0KHRhZ05hbWUpKXt2YXIgZWxFbmRTdGFydD1zb3VyY2UuaW5kZXhPZigiPC8iK3RhZ05hbWUrIj4iLGVsU3RhcnRFbmQpLHRleHQ9c291cmNlLnN1YnN0cmluZyhlbFN0YXJ0RW5kKzEsZWxFbmRTdGFydCk7aWYoL1smPF0vLnRlc3QodGV4dCkpcmV0dXJuL15zY3JpcHQkL2kudGVzdCh0YWdOYW1lKT8oZG9tQnVpbGRlci5jaGFyYWN0ZXJzKHRleHQsMCx0ZXh0Lmxlbmd0aCksZWxFbmRTdGFydCk6KHRleHQ9dGV4dC5yZXBsYWNlKC8mIz9cXHcrOy9nLGVudGl0eVJlcGxhY2VyKSxkb21CdWlsZGVyLmNoYXJhY3RlcnModGV4dCwwLHRleHQubGVuZ3RoKSxlbEVuZFN0YXJ0KX1yZXR1cm4gZWxTdGFydEVuZCsxfWZ1bmN0aW9uIGZpeFNlbGZDbG9zZWQoc291cmNlLGVsU3RhcnRFbmQsdGFnTmFtZSxjbG9zZU1hcCl7dmFyIHBvcz1jbG9zZU1hcFt0YWdOYW1lXTtyZXR1cm4gbnVsbD09cG9zJiYocG9zPWNsb3NlTWFwW3RhZ05hbWVdPXNvdXJjZS5sYXN0SW5kZXhPZigiPC8iK3RhZ05hbWUrIj4iKSksZWxTdGFydEVuZD5wb3N9ZnVuY3Rpb24gX2NvcHkoc291cmNlLHRhcmdldCl7Zm9yKHZhciBuIGluIHNvdXJjZSl0YXJnZXRbbl09c291cmNlW25dfWZ1bmN0aW9uIHBhcnNlRENDKHNvdXJjZSxzdGFydCxkb21CdWlsZGVyLGVycm9ySGFuZGxlcil7dmFyIG5leHQ9c291cmNlLmNoYXJBdChzdGFydCsyKTtzd2l0Y2gobmV4dCl7Y2FzZSItIjppZigiLSI9PT1zb3VyY2UuY2hhckF0KHN0YXJ0KzMpKXt2YXIgZW5kPXNvdXJjZS5pbmRleE9mKCItLVx4M2UiLHN0YXJ0KzQpO3JldHVybiBlbmQ+c3RhcnQ/KGRvbUJ1aWxkZXIuY29tbWVudChzb3VyY2Usc3RhcnQrNCxlbmQtc3RhcnQtNCksZW5kKzMpOihlcnJvckhhbmRsZXIuZXJyb3IoIlVuY2xvc2VkIGNvbW1lbnQiKSwtMSl9cmV0dXJuLTE7ZGVmYXVsdDppZigiQ0RBVEFbIj09c291cmNlLnN1YnN0cihzdGFydCszLDYpKXt2YXIgZW5kPXNvdXJjZS5pbmRleE9mKCJdXT4iLHN0YXJ0KzkpO3JldHVybiBkb21CdWlsZGVyLnN0YXJ0Q0RBVEEoKSxkb21CdWlsZGVyLmNoYXJhY3RlcnMoc291cmNlLHN0YXJ0KzksZW5kLXN0YXJ0LTkpLGRvbUJ1aWxkZXIuZW5kQ0RBVEEoKSxlbmQrM312YXIgbWF0Y2hzPXNwbGl0KHNvdXJjZSxzdGFydCksbGVuPW1hdGNocy5sZW5ndGg7aWYobGVuPjEmJi8hZG9jdHlwZS9pLnRlc3QobWF0Y2hzWzBdWzBdKSl7dmFyIG5hbWU9bWF0Y2hzWzFdWzBdLHB1YmlkPWxlbj4zJiYvXnB1YmxpYyQvaS50ZXN0KG1hdGNoc1syXVswXSkmJm1hdGNoc1szXVswXSxzeXNpZD1sZW4+NCYmbWF0Y2hzWzRdWzBdLGxhc3RNYXRjaD1tYXRjaHNbbGVuLTFdO3JldHVybiBkb21CdWlsZGVyLnN0YXJ0RFREKG5hbWUscHViaWQmJnB1YmlkLnJlcGxhY2UoL14oW1wnIl0pKC4qPylcXDEkLywiJDIiKSxzeXNpZCYmc3lzaWQucmVwbGFjZSgvXihbXCciXSkoLio/KVxcMSQvLCIkMiIpKSxkb21CdWlsZGVyLmVuZERURCgpLGxhc3RNYXRjaC5pbmRleCtsYXN0TWF0Y2hbMF0ubGVuZ3RofX1yZXR1cm4tMX1mdW5jdGlvbiBwYXJzZUluc3RydWN0aW9uKHNvdXJjZSxzdGFydCxkb21CdWlsZGVyKXt2YXIgZW5kPXNvdXJjZS5pbmRleE9mKCI/PiIsc3RhcnQpO2lmKGVuZCl7dmFyIG1hdGNoPXNvdXJjZS5zdWJzdHJpbmcoc3RhcnQsZW5kKS5tYXRjaCgvXjxcXD8oXFxTKilcXHMqKFtcXHNcXFNdKj8pXFxzKiQvKTtyZXR1cm4gbWF0Y2g/KG1hdGNoWzBdLmxlbmd0aCxkb21CdWlsZGVyLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihtYXRjaFsxXSxtYXRjaFsyXSksZW5kKzIpOi0xfXJldHVybi0xfWZ1bmN0aW9uIEVsZW1lbnRBdHRyaWJ1dGVzKCl7fWZ1bmN0aW9uIF9zZXRfcHJvdG9fKHRoaXoscGFyZW50KXtyZXR1cm4gdGhpei5fX3Byb3RvX189cGFyZW50LHRoaXp9ZnVuY3Rpb24gc3BsaXQoc291cmNlLHN0YXJ0KXt2YXIgbWF0Y2gsYnVmPVtdLHJlZz0vXCdbXlwnXStcJ3wiW14iXSsifFteXFxzPD5cXC89XSs9P3woXFwvP1xccyo+fDwpL2c7Zm9yKHJlZy5sYXN0SW5kZXg9c3RhcnQscmVnLmV4ZWMoc291cmNlKTttYXRjaD1yZWcuZXhlYyhzb3VyY2UpOylpZihidWYucHVzaChtYXRjaCksbWF0Y2hbMV0pcmV0dXJuIGJ1Zn12YXIgbmFtZVN0YXJ0Q2hhcj0vW0EtWl9hLXpcXHhDMC1cXHhENlxceEQ4LVxceEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXS8sbmFtZUNoYXI9UmVnRXhwKCJbXFxcXC1cXFxcLjAtOSIrbmFtZVN0YXJ0Q2hhci5zb3VyY2Uuc2xpY2UoMSwtMSkrIsK3zIAtza9cXFxcdXgyMDNGLeKBgF0iKSx0YWdOYW1lUGF0dGVybj1SZWdFeHAoIl4iK25hbWVTdGFydENoYXIuc291cmNlK25hbWVDaGFyLnNvdXJjZSsiKig/OjoiK25hbWVTdGFydENoYXIuc291cmNlK25hbWVDaGFyLnNvdXJjZSsiKik/JCIpLFNfVEFHPTAsU19BVFRSPTEsU19BVFRSX1M9MixTX0VRPTMsU19WPTQsU19FPTUsU19TPTYsU19DPTc7cmV0dXJuIFhNTFJlYWRlci5wcm90b3R5cGU9e3BhcnNlOmZ1bmN0aW9uKHNvdXJjZSxkZWZhdWx0TlNNYXAsZW50aXR5TWFwKXt2YXIgZG9tQnVpbGRlcj10aGlzLmRvbUJ1aWxkZXI7ZG9tQnVpbGRlci5zdGFydERvY3VtZW50KCksX2NvcHkoZGVmYXVsdE5TTWFwLGRlZmF1bHROU01hcD17fSkscGFyc2Uoc291cmNlLGRlZmF1bHROU01hcCxlbnRpdHlNYXAsZG9tQnVpbGRlcix0aGlzLmVycm9ySGFuZGxlciksZG9tQnVpbGRlci5lbmREb2N1bWVudCgpfX0sRWxlbWVudEF0dHJpYnV0ZXMucHJvdG90eXBlPXtzZXRUYWdOYW1lOmZ1bmN0aW9uKHRhZ05hbWUpe2lmKCF0YWdOYW1lUGF0dGVybi50ZXN0KHRhZ05hbWUpKXRocm93IEVycm9yKCJpbnZhbGlkIHRhZ05hbWU6Iit0YWdOYW1lKTt0aGlzLnRhZ05hbWU9dGFnTmFtZX0sYWRkOmZ1bmN0aW9uKHFOYW1lLHZhbHVlLG9mZnNldCl7aWYoIXRhZ05hbWVQYXR0ZXJuLnRlc3QocU5hbWUpKXRocm93IEVycm9yKCJpbnZhbGlkIGF0dHJpYnV0ZToiK3FOYW1lKTt0aGlzW3RoaXMubGVuZ3RoKytdPXtxTmFtZTpxTmFtZSx2YWx1ZTp2YWx1ZSxvZmZzZXQ6b2Zmc2V0fX0sbGVuZ3RoOjAsZ2V0TG9jYWxOYW1lOmZ1bmN0aW9uKGkpe3JldHVybiB0aGlzW2ldLmxvY2FsTmFtZX0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGkpe3JldHVybiB0aGlzW2ldLm9mZnNldH0sZ2V0UU5hbWU6ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXNbaV0ucU5hbWV9LGdldFVSSTpmdW5jdGlvbihpKXtyZXR1cm4gdGhpc1tpXS51cml9LGdldFZhbHVlOmZ1bmN0aW9uKGkpe3JldHVybiB0aGlzW2ldLnZhbHVlfX0sX3NldF9wcm90b18oe30sX3NldF9wcm90b18ucHJvdG90eXBlKWluc3RhbmNlb2YgX3NldF9wcm90b198fChfc2V0X3Byb3RvXz1mdW5jdGlvbih0aGl6LHBhcmVudCl7ZnVuY3Rpb24gcCgpe31wLnByb3RvdHlwZT1wYXJlbnQscD1uZXcgcDtmb3IocGFyZW50IGluIHRoaXopcFtwYXJlbnRdPXRoaXpbcGFyZW50XTtyZXR1cm4gcH0pLFhNTFJlYWRlcn0pLGFjZS5kZWZpbmUoImFjZS9tb2RlL3htbC9kb20iLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIGNvcHkoc3JjLGRlc3Qpe2Zvcih2YXIgcCBpbiBzcmMpZGVzdFtwXT1zcmNbcF19ZnVuY3Rpb24gX2V4dGVuZHMoQ2xhc3MsU3VwZXIpe2Z1bmN0aW9uIHQoKXt9dmFyIHB0PUNsYXNzLnByb3RvdHlwZTtpZihPYmplY3QuY3JlYXRlKXt2YXIgcHB0PU9iamVjdC5jcmVhdGUoU3VwZXIucHJvdG90eXBlKTtwdC5fX3Byb3RvX189cHB0fXB0IGluc3RhbmNlb2YgU3VwZXJ8fCh0LnByb3RvdHlwZT1TdXBlci5wcm90b3R5cGUsdD1uZXcgdCxjb3B5KHB0LHQpLENsYXNzLnByb3RvdHlwZT1wdD10KSxwdC5jb25zdHJ1Y3RvciE9Q2xhc3MmJigiZnVuY3Rpb24iIT10eXBlb2YgQ2xhc3MmJmNvbnNvbGUuZXJyb3IoInVua25vdyBDbGFzczoiK0NsYXNzKSxwdC5jb25zdHJ1Y3Rvcj1DbGFzcyl9ZnVuY3Rpb24gRE9NRXhjZXB0aW9uKGNvZGUsbWVzc2FnZSl7aWYobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKXZhciBlcnJvcj1tZXNzYWdlO2Vsc2UgZXJyb3I9dGhpcyxFcnJvci5jYWxsKHRoaXMsRXhjZXB0aW9uTWVzc2FnZVtjb2RlXSksdGhpcy5tZXNzYWdlPUV4Y2VwdGlvbk1lc3NhZ2VbY29kZV0sRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UmJkVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsRE9NRXhjZXB0aW9uKTtyZXR1cm4gZXJyb3IuY29kZT1jb2RlLG1lc3NhZ2UmJih0aGlzLm1lc3NhZ2U9dGhpcy5tZXNzYWdlKyI6ICIrbWVzc2FnZSksZXJyb3J9ZnVuY3Rpb24gTm9kZUxpc3QoKXt9ZnVuY3Rpb24gTGl2ZU5vZGVMaXN0KG5vZGUscmVmcmVzaCl7dGhpcy5fbm9kZT1ub2RlLHRoaXMuX3JlZnJlc2g9cmVmcmVzaCxfdXBkYXRlTGl2ZUxpc3QodGhpcyl9ZnVuY3Rpb24gX3VwZGF0ZUxpdmVMaXN0KGxpc3Qpe3ZhciBpbmM9bGlzdC5fbm9kZS5faW5jfHxsaXN0Ll9ub2RlLm93bmVyRG9jdW1lbnQuX2luYztpZihsaXN0Ll9pbmMhPWluYyl7dmFyIGxzPWxpc3QuX3JlZnJlc2gobGlzdC5fbm9kZSk7X19zZXRfXyhsaXN0LCJsZW5ndGgiLGxzLmxlbmd0aCksY29weShscyxsaXN0KSxsaXN0Ll9pbmM9aW5jfX1mdW5jdGlvbiBOYW1lZE5vZGVNYXAoKXt9ZnVuY3Rpb24gX2ZpbmROb2RlSW5kZXgobGlzdCxub2RlKXtmb3IodmFyIGk9bGlzdC5sZW5ndGg7aS0tOylpZihsaXN0W2ldPT09bm9kZSlyZXR1cm4gaX1mdW5jdGlvbiBfYWRkTmFtZWROb2RlKGVsLGxpc3QsbmV3QXR0cixvbGRBdHRyKXtpZihvbGRBdHRyP2xpc3RbX2ZpbmROb2RlSW5kZXgobGlzdCxvbGRBdHRyKV09bmV3QXR0cjpsaXN0W2xpc3QubGVuZ3RoKytdPW5ld0F0dHIsZWwpe25ld0F0dHIub3duZXJFbGVtZW50PWVsO3ZhciBkb2M9ZWwub3duZXJEb2N1bWVudDtkb2MmJihvbGRBdHRyJiZfb25SZW1vdmVBdHRyaWJ1dGUoZG9jLGVsLG9sZEF0dHIpLF9vbkFkZEF0dHJpYnV0ZShkb2MsZWwsbmV3QXR0cikpfX1mdW5jdGlvbiBfcmVtb3ZlTmFtZWROb2RlKGVsLGxpc3QsYXR0cil7dmFyIGk9X2ZpbmROb2RlSW5kZXgobGlzdCxhdHRyKTtpZighKGk+PTApKXRocm93IERPTUV4Y2VwdGlvbihOT1RfRk9VTkRfRVJSLEVycm9yKCkpO2Zvcih2YXIgbGFzdEluZGV4PWxpc3QubGVuZ3RoLTE7bGFzdEluZGV4Pmk7KWxpc3RbaV09bGlzdFsrK2ldO2lmKGxpc3QubGVuZ3RoPWxhc3RJbmRleCxlbCl7dmFyIGRvYz1lbC5vd25lckRvY3VtZW50O2RvYyYmKF9vblJlbW92ZUF0dHJpYnV0ZShkb2MsZWwsYXR0ciksYXR0ci5vd25lckVsZW1lbnQ9bnVsbCl9fWZ1bmN0aW9uIERPTUltcGxlbWVudGF0aW9uKGZlYXR1cmVzKXtpZih0aGlzLl9mZWF0dXJlcz17fSxmZWF0dXJlcylmb3IodmFyIGZlYXR1cmUgaW4gZmVhdHVyZXMpdGhpcy5fZmVhdHVyZXM9ZmVhdHVyZXNbZmVhdHVyZV19ZnVuY3Rpb24gTm9kZSgpe31mdW5jdGlvbiBfeG1sRW5jb2RlcihjKXtyZXR1cm4iPCI9PWMmJiImbHQ7Inx8Ij4iPT1jJiYiJmd0OyJ8fCImIj09YyYmIiZhbXA7Inx8XCciXCc9PWMmJiImcXVvdDsifHwiJiMiK2MuY2hhckNvZGVBdCgpKyI7In1mdW5jdGlvbiBfdmlzaXROb2RlKG5vZGUsY2FsbGJhY2spe2lmKGNhbGxiYWNrKG5vZGUpKXJldHVybiEwO2lmKG5vZGU9bm9kZS5maXJzdENoaWxkKWRvIGlmKF92aXNpdE5vZGUobm9kZSxjYWxsYmFjaykpcmV0dXJuITA7d2hpbGUobm9kZT1ub2RlLm5leHRTaWJsaW5nKX1mdW5jdGlvbiBEb2N1bWVudCgpe31mdW5jdGlvbiBfb25BZGRBdHRyaWJ1dGUoZG9jLGVsLG5ld0F0dHIpe2RvYyYmZG9jLl9pbmMrKzt2YXIgbnM9bmV3QXR0ci5uYW1lc3BhY2VVUkk7Imh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIj09bnMmJihlbC5fbnNNYXBbbmV3QXR0ci5wcmVmaXg/bmV3QXR0ci5sb2NhbE5hbWU6IiJdPW5ld0F0dHIudmFsdWUpfWZ1bmN0aW9uIF9vblJlbW92ZUF0dHJpYnV0ZShkb2MsZWwsbmV3QXR0cil7ZG9jJiZkb2MuX2luYysrO3ZhciBucz1uZXdBdHRyLm5hbWVzcGFjZVVSSTsiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy8iPT1ucyYmZGVsZXRlIGVsLl9uc01hcFtuZXdBdHRyLnByZWZpeD9uZXdBdHRyLmxvY2FsTmFtZToiIl19ZnVuY3Rpb24gX29uVXBkYXRlQ2hpbGQoZG9jLGVsLG5ld0NoaWxkKXtpZihkb2MmJmRvYy5faW5jKXtkb2MuX2luYysrO3ZhciBjcz1lbC5jaGlsZE5vZGVzO2lmKG5ld0NoaWxkKWNzW2NzLmxlbmd0aCsrXT1uZXdDaGlsZDtlbHNle2Zvcih2YXIgY2hpbGQ9ZWwuZmlyc3RDaGlsZCxpPTA7Y2hpbGQ7KWNzW2krK109Y2hpbGQsY2hpbGQ9Y2hpbGQubmV4dFNpYmxpbmc7Y3MubGVuZ3RoPWl9fX1mdW5jdGlvbiBfcmVtb3ZlQ2hpbGQocGFyZW50Tm9kZSxjaGlsZCl7dmFyIHByZXZpb3VzPWNoaWxkLnByZXZpb3VzU2libGluZyxuZXh0PWNoaWxkLm5leHRTaWJsaW5nO3JldHVybiBwcmV2aW91cz9wcmV2aW91cy5uZXh0U2libGluZz1uZXh0OnBhcmVudE5vZGUuZmlyc3RDaGlsZD1uZXh0LG5leHQ/bmV4dC5wcmV2aW91c1NpYmxpbmc9cHJldmlvdXM6cGFyZW50Tm9kZS5sYXN0Q2hpbGQ9cHJldmlvdXMsX29uVXBkYXRlQ2hpbGQocGFyZW50Tm9kZS5vd25lckRvY3VtZW50LHBhcmVudE5vZGUpLGNoaWxkfWZ1bmN0aW9uIF9pbnNlcnRCZWZvcmUocGFyZW50Tm9kZSxuZXdDaGlsZCxuZXh0Q2hpbGQpe3ZhciBjcD1uZXdDaGlsZC5wYXJlbnROb2RlO2lmKGNwJiZjcC5yZW1vdmVDaGlsZChuZXdDaGlsZCksbmV3Q2hpbGQubm9kZVR5cGU9PT1ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXt2YXIgbmV3Rmlyc3Q9bmV3Q2hpbGQuZmlyc3RDaGlsZDtpZihudWxsPT1uZXdGaXJzdClyZXR1cm4gbmV3Q2hpbGQ7dmFyIG5ld0xhc3Q9bmV3Q2hpbGQubGFzdENoaWxkfWVsc2UgbmV3Rmlyc3Q9bmV3TGFzdD1uZXdDaGlsZDt2YXIgcHJlPW5leHRDaGlsZD9uZXh0Q2hpbGQucHJldmlvdXNTaWJsaW5nOnBhcmVudE5vZGUubGFzdENoaWxkO25ld0ZpcnN0LnByZXZpb3VzU2libGluZz1wcmUsbmV3TGFzdC5uZXh0U2libGluZz1uZXh0Q2hpbGQscHJlP3ByZS5uZXh0U2libGluZz1uZXdGaXJzdDpwYXJlbnROb2RlLmZpcnN0Q2hpbGQ9bmV3Rmlyc3QsbnVsbD09bmV4dENoaWxkP3BhcmVudE5vZGUubGFzdENoaWxkPW5ld0xhc3Q6bmV4dENoaWxkLnByZXZpb3VzU2libGluZz1uZXdMYXN0O2RvIG5ld0ZpcnN0LnBhcmVudE5vZGU9cGFyZW50Tm9kZTt3aGlsZShuZXdGaXJzdCE9PW5ld0xhc3QmJihuZXdGaXJzdD1uZXdGaXJzdC5uZXh0U2libGluZykpO3JldHVybiBfb25VcGRhdGVDaGlsZChwYXJlbnROb2RlLm93bmVyRG9jdW1lbnR8fHBhcmVudE5vZGUscGFyZW50Tm9kZSksbmV3Q2hpbGQubm9kZVR5cGU9PURPQ1VNRU5UX0ZSQUdNRU5UX05PREUmJihuZXdDaGlsZC5maXJzdENoaWxkPW5ld0NoaWxkLmxhc3RDaGlsZD1udWxsKSxuZXdDaGlsZH1mdW5jdGlvbiBfYXBwZW5kU2luZ2xlQ2hpbGQocGFyZW50Tm9kZSxuZXdDaGlsZCl7dmFyIGNwPW5ld0NoaWxkLnBhcmVudE5vZGU7aWYoY3Ape3ZhciBwcmU9cGFyZW50Tm9kZS5sYXN0Q2hpbGQ7Y3AucmVtb3ZlQ2hpbGQobmV3Q2hpbGQpO3ZhciBwcmU9cGFyZW50Tm9kZS5sYXN0Q2hpbGR9dmFyIHByZT1wYXJlbnROb2RlLmxhc3RDaGlsZDtyZXR1cm4gbmV3Q2hpbGQucGFyZW50Tm9kZT1wYXJlbnROb2RlLG5ld0NoaWxkLnByZXZpb3VzU2libGluZz1wcmUsbmV3Q2hpbGQubmV4dFNpYmxpbmc9bnVsbCxwcmU/cHJlLm5leHRTaWJsaW5nPW5ld0NoaWxkOnBhcmVudE5vZGUuZmlyc3RDaGlsZD1uZXdDaGlsZCxwYXJlbnROb2RlLmxhc3RDaGlsZD1uZXdDaGlsZCxfb25VcGRhdGVDaGlsZChwYXJlbnROb2RlLm93bmVyRG9jdW1lbnQscGFyZW50Tm9kZSxuZXdDaGlsZCksbmV3Q2hpbGR9ZnVuY3Rpb24gRWxlbWVudCgpe3RoaXMuX25zTWFwPXt9fWZ1bmN0aW9uIEF0dHIoKXt9ZnVuY3Rpb24gQ2hhcmFjdGVyRGF0YSgpe31mdW5jdGlvbiBUZXh0KCl7fWZ1bmN0aW9uIENvbW1lbnQoKXt9ZnVuY3Rpb24gQ0RBVEFTZWN0aW9uKCl7fWZ1bmN0aW9uIERvY3VtZW50VHlwZSgpe31mdW5jdGlvbiBOb3RhdGlvbigpe31mdW5jdGlvbiBFbnRpdHkoKXt9ZnVuY3Rpb24gRW50aXR5UmVmZXJlbmNlKCl7fWZ1bmN0aW9uIERvY3VtZW50RnJhZ21lbnQoKXt9ZnVuY3Rpb24gUHJvY2Vzc2luZ0luc3RydWN0aW9uKCl7fWZ1bmN0aW9uIFhNTFNlcmlhbGl6ZXIoKXt9ZnVuY3Rpb24gc2VyaWFsaXplVG9TdHJpbmcobm9kZSxidWYpe3N3aXRjaChub2RlLm5vZGVUeXBlKXtjYXNlIEVMRU1FTlRfTk9ERTp2YXIgYXR0cnM9bm9kZS5hdHRyaWJ1dGVzLGxlbj1hdHRycy5sZW5ndGgsY2hpbGQ9bm9kZS5maXJzdENoaWxkLG5vZGVOYW1lPW5vZGUudGFnTmFtZSxpc0hUTUw9aHRtbG5zPT09bm9kZS5uYW1lc3BhY2VVUkk7YnVmLnB1c2goIjwiLG5vZGVOYW1lKTtmb3IodmFyIGk9MDtsZW4+aTtpKyspc2VyaWFsaXplVG9TdHJpbmcoYXR0cnMuaXRlbShpKSxidWYsaXNIVE1MKTtpZihjaGlsZHx8aXNIVE1MJiYhL14oPzptZXRhfGxpbmt8aW1nfGJyfGhyfGlucHV0fGJ1dHRvbikkL2kudGVzdChub2RlTmFtZSkpe2lmKGJ1Zi5wdXNoKCI+IiksaXNIVE1MJiYvXnNjcmlwdCQvaS50ZXN0KG5vZGVOYW1lKSljaGlsZCYmYnVmLnB1c2goY2hpbGQuZGF0YSk7ZWxzZSBmb3IoO2NoaWxkOylzZXJpYWxpemVUb1N0cmluZyhjaGlsZCxidWYpLGNoaWxkPWNoaWxkLm5leHRTaWJsaW5nO2J1Zi5wdXNoKCI8LyIsbm9kZU5hbWUsIj4iKX1lbHNlIGJ1Zi5wdXNoKCIvPiIpO3JldHVybjtjYXNlIERPQ1VNRU5UX05PREU6Y2FzZSBET0NVTUVOVF9GUkFHTUVOVF9OT0RFOmZvcih2YXIgY2hpbGQ9bm9kZS5maXJzdENoaWxkO2NoaWxkOylzZXJpYWxpemVUb1N0cmluZyhjaGlsZCxidWYpLGNoaWxkPWNoaWxkLm5leHRTaWJsaW5nO3JldHVybjtjYXNlIEFUVFJJQlVURV9OT0RFOnJldHVybiBidWYucHVzaCgiICIsbm9kZS5uYW1lLFwnPSJcJyxub2RlLnZhbHVlLnJlcGxhY2UoL1s8JiJdL2csX3htbEVuY29kZXIpLFwnIlwnKTtjYXNlIFRFWFRfTk9ERTpyZXR1cm4gYnVmLnB1c2gobm9kZS5kYXRhLnJlcGxhY2UoL1s8Jl0vZyxfeG1sRW5jb2RlcikpO2Nhc2UgQ0RBVEFfU0VDVElPTl9OT0RFOnJldHVybiBidWYucHVzaCgiPCFbQ0RBVEFbIixub2RlLmRhdGEsIl1dPiIpO2Nhc2UgQ09NTUVOVF9OT0RFOnJldHVybiBidWYucHVzaCgiXHgzYyEtLSIsbm9kZS5kYXRhLCItLVx4M2UiKTtjYXNlIERPQ1VNRU5UX1RZUEVfTk9ERTp2YXIgcHViaWQ9bm9kZS5wdWJsaWNJZCxzeXNpZD1ub2RlLnN5c3RlbUlkO2lmKGJ1Zi5wdXNoKCI8IURPQ1RZUEUgIixub2RlLm5hbWUpLHB1YmlkKWJ1Zi5wdXNoKFwnIFBVQkxJQyAiXCcscHViaWQpLHN5c2lkJiYiLiIhPXN5c2lkJiZidWYucHVzaChcJyIgIlwnLHN5c2lkKSxidWYucHVzaChcJyI+XCcpO2Vsc2UgaWYoc3lzaWQmJiIuIiE9c3lzaWQpYnVmLnB1c2goXCcgU1lTVEVNICJcJyxzeXNpZCxcJyI+XCcpO2Vsc2V7dmFyIHN1Yj1ub2RlLmludGVybmFsU3Vic2V0O3N1YiYmYnVmLnB1c2goIiBbIixzdWIsIl0iKSxidWYucHVzaCgiPiIpfXJldHVybjtjYXNlIFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTpyZXR1cm4gYnVmLnB1c2goIjw/Iixub2RlLnRhcmdldCwiICIsbm9kZS5kYXRhLCI/PiIpO2Nhc2UgRU5USVRZX1JFRkVSRU5DRV9OT0RFOnJldHVybiBidWYucHVzaCgiJiIsbm9kZS5ub2RlTmFtZSwiOyIpO2RlZmF1bHQ6YnVmLnB1c2goIj8/Iixub2RlLm5vZGVOYW1lKX19ZnVuY3Rpb24gaW1wb3J0Tm9kZShkb2Msbm9kZSxkZWVwKXt2YXIgbm9kZTI7c3dpdGNoKG5vZGUubm9kZVR5cGUpe2Nhc2UgRUxFTUVOVF9OT0RFOm5vZGUyPW5vZGUuY2xvbmVOb2RlKCExKSxub2RlMi5vd25lckRvY3VtZW50PWRvYztjYXNlIERPQ1VNRU5UX0ZSQUdNRU5UX05PREU6YnJlYWs7Y2FzZSBBVFRSSUJVVEVfTk9ERTpkZWVwPSEwfWlmKG5vZGUyfHwobm9kZTI9bm9kZS5jbG9uZU5vZGUoITEpKSxub2RlMi5vd25lckRvY3VtZW50PWRvYyxub2RlMi5wYXJlbnROb2RlPW51bGwsZGVlcClmb3IodmFyIGNoaWxkPW5vZGUuZmlyc3RDaGlsZDtjaGlsZDspbm9kZTIuYXBwZW5kQ2hpbGQoaW1wb3J0Tm9kZShkb2MsY2hpbGQsZGVlcCkpLGNoaWxkPWNoaWxkLm5leHRTaWJsaW5nO3JldHVybiBub2RlMn1mdW5jdGlvbiBjbG9uZU5vZGUoZG9jLG5vZGUsZGVlcCl7dmFyIG5vZGUyPW5ldyBub2RlLmNvbnN0cnVjdG9yO2Zvcih2YXIgbiBpbiBub2RlKXt2YXIgdj1ub2RlW25dOyJvYmplY3QiIT10eXBlb2YgdiYmdiE9bm9kZTJbbl0mJihub2RlMltuXT12KX1zd2l0Y2gobm9kZS5jaGlsZE5vZGVzJiYobm9kZTIuY2hpbGROb2Rlcz1uZXcgTm9kZUxpc3QpLG5vZGUyLm93bmVyRG9jdW1lbnQ9ZG9jLG5vZGUyLm5vZGVUeXBlKXtjYXNlIEVMRU1FTlRfTk9ERTp2YXIgYXR0cnM9bm9kZS5hdHRyaWJ1dGVzLGF0dHJzMj1ub2RlMi5hdHRyaWJ1dGVzPW5ldyBOYW1lZE5vZGVNYXAsbGVuPWF0dHJzLmxlbmd0aDthdHRyczIuX293bmVyRWxlbWVudD1ub2RlMjtmb3IodmFyIGk9MDtsZW4+aTtpKyspbm9kZTIuc2V0QXR0cmlidXRlTm9kZShjbG9uZU5vZGUoZG9jLGF0dHJzLml0ZW0oaSksITApKTticmVhaztjYXNlIEFUVFJJQlVURV9OT0RFOmRlZXA9ITB9aWYoZGVlcClmb3IodmFyIGNoaWxkPW5vZGUuZmlyc3RDaGlsZDtjaGlsZDspbm9kZTIuYXBwZW5kQ2hpbGQoY2xvbmVOb2RlKGRvYyxjaGlsZCxkZWVwKSksY2hpbGQ9Y2hpbGQubmV4dFNpYmxpbmc7cmV0dXJuIG5vZGUyfWZ1bmN0aW9uIF9fc2V0X18ob2JqZWN0LGtleSx2YWx1ZSl7b2JqZWN0W2tleV09dmFsdWV9ZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQobm9kZSl7c3dpdGNoKG5vZGUubm9kZVR5cGUpe2Nhc2UgMTpjYXNlIDExOnZhciBidWY9W107Zm9yKG5vZGU9bm9kZS5maXJzdENoaWxkO25vZGU7KTchPT1ub2RlLm5vZGVUeXBlJiY4IT09bm9kZS5ub2RlVHlwZSYmYnVmLnB1c2goZ2V0VGV4dENvbnRlbnQobm9kZSkpLG5vZGU9bm9kZS5uZXh0U2libGluZztyZXR1cm4gYnVmLmpvaW4oIiIpO2RlZmF1bHQ6cmV0dXJuIG5vZGUubm9kZVZhbHVlfX12YXIgaHRtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIixOb2RlVHlwZT17fSxFTEVNRU5UX05PREU9Tm9kZVR5cGUuRUxFTUVOVF9OT0RFPTEsQVRUUklCVVRFX05PREU9Tm9kZVR5cGUuQVRUUklCVVRFX05PREU9MixURVhUX05PREU9Tm9kZVR5cGUuVEVYVF9OT0RFPTMsQ0RBVEFfU0VDVElPTl9OT0RFPU5vZGVUeXBlLkNEQVRBX1NFQ1RJT05fTk9ERT00LEVOVElUWV9SRUZFUkVOQ0VfTk9ERT1Ob2RlVHlwZS5FTlRJVFlfUkVGRVJFTkNFX05PREU9NSxFTlRJVFlfTk9ERT1Ob2RlVHlwZS5FTlRJVFlfTk9ERT02LFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERT1Ob2RlVHlwZS5QUk9DRVNTSU5HX0lOU1RSVUNUSU9OX05PREU9NyxDT01NRU5UX05PREU9Tm9kZVR5cGUuQ09NTUVOVF9OT0RFPTgsRE9DVU1FTlRfTk9ERT1Ob2RlVHlwZS5ET0NVTUVOVF9OT0RFPTksRE9DVU1FTlRfVFlQRV9OT0RFPU5vZGVUeXBlLkRPQ1VNRU5UX1RZUEVfTk9ERT0xMCxET0NVTUVOVF9GUkFHTUVOVF9OT0RFPU5vZGVUeXBlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU9MTEsTk9UQVRJT05fTk9ERT1Ob2RlVHlwZS5OT1RBVElPTl9OT0RFPTEyLEV4Y2VwdGlvbkNvZGU9e30sRXhjZXB0aW9uTWVzc2FnZT17fTtFeGNlcHRpb25Db2RlLklOREVYX1NJWkVfRVJSPShFeGNlcHRpb25NZXNzYWdlWzFdPSJJbmRleCBzaXplIGVycm9yIiwxKSxFeGNlcHRpb25Db2RlLkRPTVNUUklOR19TSVpFX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVsyXT0iRE9NU3RyaW5nIHNpemUgZXJyb3IiLDIpLEV4Y2VwdGlvbkNvZGUuSElFUkFSQ0hZX1JFUVVFU1RfRVJSPShFeGNlcHRpb25NZXNzYWdlWzNdPSJIaWVyYXJjaHkgcmVxdWVzdCBlcnJvciIsMyksRXhjZXB0aW9uQ29kZS5XUk9OR19ET0NVTUVOVF9FUlI9KEV4Y2VwdGlvbk1lc3NhZ2VbNF09Ildyb25nIGRvY3VtZW50Iiw0KSxFeGNlcHRpb25Db2RlLklOVkFMSURfQ0hBUkFDVEVSX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVs1XT0iSW52YWxpZCBjaGFyYWN0ZXIiLDUpLEV4Y2VwdGlvbkNvZGUuTk9fREFUQV9BTExPV0VEX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVs2XT0iTm8gZGF0YSBhbGxvd2VkIiw2KSxFeGNlcHRpb25Db2RlLk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVs3XT0iTm8gbW9kaWZpY2F0aW9uIGFsbG93ZWQiLDcpO3ZhciBOT1RfRk9VTkRfRVJSPUV4Y2VwdGlvbkNvZGUuTk9UX0ZPVU5EX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVs4XT0iTm90IGZvdW5kIiw4KTtFeGNlcHRpb25Db2RlLk5PVF9TVVBQT1JURURfRVJSPShFeGNlcHRpb25NZXNzYWdlWzldPSJOb3Qgc3VwcG9ydGVkIiw5KTt2YXIgSU5VU0VfQVRUUklCVVRFX0VSUj1FeGNlcHRpb25Db2RlLklOVVNFX0FUVFJJQlVURV9FUlI9KEV4Y2VwdGlvbk1lc3NhZ2VbMTBdPSJBdHRyaWJ1dGUgaW4gdXNlIiwxMCk7RXhjZXB0aW9uQ29kZS5JTlZBTElEX1NUQVRFX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVsxMV09IkludmFsaWQgc3RhdGUiLDExKSxFeGNlcHRpb25Db2RlLlNZTlRBWF9FUlI9KEV4Y2VwdGlvbk1lc3NhZ2VbMTJdPSJTeW50YXggZXJyb3IiLDEyKSxFeGNlcHRpb25Db2RlLklOVkFMSURfTU9ESUZJQ0FUSU9OX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVsxM109IkludmFsaWQgbW9kaWZpY2F0aW9uIiwxMyksRXhjZXB0aW9uQ29kZS5OQU1FU1BBQ0VfRVJSPShFeGNlcHRpb25NZXNzYWdlWzE0XT0iSW52YWxpZCBuYW1lc3BhY2UiLDE0KSxFeGNlcHRpb25Db2RlLklOVkFMSURfQUNDRVNTX0VSUj0oRXhjZXB0aW9uTWVzc2FnZVsxNV09IkludmFsaWQgYWNjZXNzIiwxNSksRE9NRXhjZXB0aW9uLnByb3RvdHlwZT1FcnJvci5wcm90b3R5cGUsY29weShFeGNlcHRpb25Db2RlLERPTUV4Y2VwdGlvbiksTm9kZUxpc3QucHJvdG90eXBlPXtsZW5ndGg6MCxpdGVtOmZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gdGhpc1tpbmRleF18fG51bGx9fSxMaXZlTm9kZUxpc3QucHJvdG90eXBlLml0ZW09ZnVuY3Rpb24oaSl7cmV0dXJuIF91cGRhdGVMaXZlTGlzdCh0aGlzKSx0aGlzW2ldfSxfZXh0ZW5kcyhMaXZlTm9kZUxpc3QsTm9kZUxpc3QpLE5hbWVkTm9kZU1hcC5wcm90b3R5cGU9e2xlbmd0aDowLGl0ZW06Tm9kZUxpc3QucHJvdG90eXBlLml0ZW0sZ2V0TmFtZWRJdGVtOmZ1bmN0aW9uKGtleSl7Zm9yKHZhciBpPXRoaXMubGVuZ3RoO2ktLTspe3ZhciBhdHRyPXRoaXNbaV07aWYoYXR0ci5ub2RlTmFtZT09a2V5KXJldHVybiBhdHRyfX0sc2V0TmFtZWRJdGVtOmZ1bmN0aW9uKGF0dHIpe3ZhciBlbD1hdHRyLm93bmVyRWxlbWVudDtpZihlbCYmZWwhPXRoaXMuX293bmVyRWxlbWVudCl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKElOVVNFX0FUVFJJQlVURV9FUlIpO3ZhciBvbGRBdHRyPXRoaXMuZ2V0TmFtZWRJdGVtKGF0dHIubm9kZU5hbWUpO3JldHVybiBfYWRkTmFtZWROb2RlKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLGF0dHIsb2xkQXR0ciksb2xkQXR0cn0sc2V0TmFtZWRJdGVtTlM6ZnVuY3Rpb24oYXR0cil7dmFyIG9sZEF0dHIsZWw9YXR0ci5vd25lckVsZW1lbnQ7aWYoZWwmJmVsIT10aGlzLl9vd25lckVsZW1lbnQpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihJTlVTRV9BVFRSSUJVVEVfRVJSKTtyZXR1cm4gb2xkQXR0cj10aGlzLmdldE5hbWVkSXRlbU5TKGF0dHIubmFtZXNwYWNlVVJJLGF0dHIubG9jYWxOYW1lKSxfYWRkTmFtZWROb2RlKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLGF0dHIsb2xkQXR0ciksb2xkQXR0cn0scmVtb3ZlTmFtZWRJdGVtOmZ1bmN0aW9uKGtleSl7dmFyIGF0dHI9dGhpcy5nZXROYW1lZEl0ZW0oa2V5KTtyZXR1cm4gX3JlbW92ZU5hbWVkTm9kZSh0aGlzLl9vd25lckVsZW1lbnQsdGhpcyxhdHRyKSxhdHRyfSxyZW1vdmVOYW1lZEl0ZW1OUzpmdW5jdGlvbihuYW1lc3BhY2VVUkksbG9jYWxOYW1lKXt2YXIgYXR0cj10aGlzLmdldE5hbWVkSXRlbU5TKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUpO3JldHVybiBfcmVtb3ZlTmFtZWROb2RlKHRoaXMuX293bmVyRWxlbWVudCx0aGlzLGF0dHIpLGF0dHJ9LGdldE5hbWVkSXRlbU5TOmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUpe2Zvcih2YXIgaT10aGlzLmxlbmd0aDtpLS07KXt2YXIgbm9kZT10aGlzW2ldO2lmKG5vZGUubG9jYWxOYW1lPT1sb2NhbE5hbWUmJm5vZGUubmFtZXNwYWNlVVJJPT1uYW1lc3BhY2VVUkkpcmV0dXJuIG5vZGV9cmV0dXJuIG51bGx9fSxET01JbXBsZW1lbnRhdGlvbi5wcm90b3R5cGU9e2hhc0ZlYXR1cmU6ZnVuY3Rpb24oZmVhdHVyZSx2ZXJzaW9uKXt2YXIgdmVyc2lvbnM9dGhpcy5fZmVhdHVyZXNbZmVhdHVyZS50b0xvd2VyQ2FzZSgpXTtyZXR1cm4gdmVyc2lvbnMmJighdmVyc2lvbnx8dmVyc2lvbiBpbiB2ZXJzaW9ucyk/ITA6ITF9LGNyZWF0ZURvY3VtZW50OmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxxdWFsaWZpZWROYW1lLGRvY3R5cGUpe3ZhciBkb2M9bmV3IERvY3VtZW50O2lmKGRvYy5pbXBsZW1lbnRhdGlvbj10aGlzLGRvYy5jaGlsZE5vZGVzPW5ldyBOb2RlTGlzdCxkb2MuZG9jdHlwZT1kb2N0eXBlLGRvY3R5cGUmJmRvYy5hcHBlbmRDaGlsZChkb2N0eXBlKSxxdWFsaWZpZWROYW1lKXt2YXIgcm9vdD1kb2MuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSxxdWFsaWZpZWROYW1lKTtkb2MuYXBwZW5kQ2hpbGQocm9vdCl9cmV0dXJuIGRvY30sY3JlYXRlRG9jdW1lbnRUeXBlOmZ1bmN0aW9uKHF1YWxpZmllZE5hbWUscHVibGljSWQsc3lzdGVtSWQpe3ZhciBub2RlPW5ldyBEb2N1bWVudFR5cGU7cmV0dXJuIG5vZGUubmFtZT1xdWFsaWZpZWROYW1lLG5vZGUubm9kZU5hbWU9cXVhbGlmaWVkTmFtZSxub2RlLnB1YmxpY0lkPXB1YmxpY0lkLG5vZGUuc3lzdGVtSWQ9c3lzdGVtSWQsbm9kZX19LE5vZGUucHJvdG90eXBlPXtmaXJzdENoaWxkOm51bGwsbGFzdENoaWxkOm51bGwscHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxhdHRyaWJ1dGVzOm51bGwscGFyZW50Tm9kZTpudWxsLGNoaWxkTm9kZXM6bnVsbCxvd25lckRvY3VtZW50Om51bGwsbm9kZVZhbHVlOm51bGwsbmFtZXNwYWNlVVJJOm51bGwscHJlZml4Om51bGwsbG9jYWxOYW1lOm51bGwsaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKG5ld0NoaWxkLHJlZkNoaWxkKXtyZXR1cm4gX2luc2VydEJlZm9yZSh0aGlzLG5ld0NoaWxkLHJlZkNoaWxkKX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKG5ld0NoaWxkLG9sZENoaWxkKXt0aGlzLmluc2VydEJlZm9yZShuZXdDaGlsZCxvbGRDaGlsZCksb2xkQ2hpbGQmJnRoaXMucmVtb3ZlQ2hpbGQob2xkQ2hpbGQpfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihvbGRDaGlsZCl7cmV0dXJuIF9yZW1vdmVDaGlsZCh0aGlzLG9sZENoaWxkKX0sYXBwZW5kQ2hpbGQ6ZnVuY3Rpb24obmV3Q2hpbGQpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShuZXdDaGlsZCxudWxsKX0saGFzQ2hpbGROb2RlczpmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmZpcnN0Q2hpbGR9LGNsb25lTm9kZTpmdW5jdGlvbihkZWVwKXtyZXR1cm4gY2xvbmVOb2RlKHRoaXMub3duZXJEb2N1bWVudHx8dGhpcyx0aGlzLGRlZXApfSxub3JtYWxpemU6ZnVuY3Rpb24oKXtmb3IodmFyIGNoaWxkPXRoaXMuZmlyc3RDaGlsZDtjaGlsZDspe3ZhciBuZXh0PWNoaWxkLm5leHRTaWJsaW5nO25leHQmJm5leHQubm9kZVR5cGU9PVRFWFRfTk9ERSYmY2hpbGQubm9kZVR5cGU9PVRFWFRfTk9ERT8odGhpcy5yZW1vdmVDaGlsZChuZXh0KSxjaGlsZC5hcHBlbmREYXRhKG5leHQuZGF0YSkpOihjaGlsZC5ub3JtYWxpemUoKSxjaGlsZD1uZXh0KX19LGlzU3VwcG9ydGVkOmZ1bmN0aW9uKGZlYXR1cmUsdmVyc2lvbil7cmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKGZlYXR1cmUsdmVyc2lvbil9LGhhc0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aD4wfSxsb29rdXBQcmVmaXg6ZnVuY3Rpb24obmFtZXNwYWNlVVJJKXtmb3IodmFyIGVsPXRoaXM7ZWw7KXt2YXIgbWFwPWVsLl9uc01hcDtpZihtYXApZm9yKHZhciBuIGluIG1hcClpZihtYXBbbl09PW5hbWVzcGFjZVVSSSlyZXR1cm4gbjtlbD0yPT1lbC5ub2RlVHlwZT9lbC5vd25lckRvY3VtZW50OmVsLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGxvb2t1cE5hbWVzcGFjZVVSSTpmdW5jdGlvbihwcmVmaXgpe2Zvcih2YXIgZWw9dGhpcztlbDspe3ZhciBtYXA9ZWwuX25zTWFwO2lmKG1hcCYmcHJlZml4IGluIG1hcClyZXR1cm4gbWFwW3ByZWZpeF07ZWw9Mj09ZWwubm9kZVR5cGU/ZWwub3duZXJEb2N1bWVudDplbC5wYXJlbnROb2RlfXJldHVybiBudWxsfSxpc0RlZmF1bHROYW1lc3BhY2U6ZnVuY3Rpb24obmFtZXNwYWNlVVJJKXt2YXIgcHJlZml4PXRoaXMubG9va3VwUHJlZml4KG5hbWVzcGFjZVVSSSk7cmV0dXJuIG51bGw9PXByZWZpeH19LGNvcHkoTm9kZVR5cGUsTm9kZSksY29weShOb2RlVHlwZSxOb2RlLnByb3RvdHlwZSksRG9jdW1lbnQucHJvdG90eXBlPXtub2RlTmFtZToiI2RvY3VtZW50Iixub2RlVHlwZTpET0NVTUVOVF9OT0RFLGRvY3R5cGU6bnVsbCxkb2N1bWVudEVsZW1lbnQ6bnVsbCxfaW5jOjEsaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKG5ld0NoaWxkLHJlZkNoaWxkKXtpZihuZXdDaGlsZC5ub2RlVHlwZT09RE9DVU1FTlRfRlJBR01FTlRfTk9ERSl7Zm9yKHZhciBjaGlsZD1uZXdDaGlsZC5maXJzdENoaWxkO2NoaWxkOyl7dmFyIG5leHQ9Y2hpbGQubmV4dFNpYmxpbmc7dGhpcy5pbnNlcnRCZWZvcmUoY2hpbGQscmVmQ2hpbGQpLGNoaWxkPW5leHR9cmV0dXJuIG5ld0NoaWxkfXJldHVybiBudWxsPT10aGlzLmRvY3VtZW50RWxlbWVudCYmMT09bmV3Q2hpbGQubm9kZVR5cGUmJih0aGlzLmRvY3VtZW50RWxlbWVudD1uZXdDaGlsZCksX2luc2VydEJlZm9yZSh0aGlzLG5ld0NoaWxkLHJlZkNoaWxkKSxuZXdDaGlsZC5vd25lckRvY3VtZW50PXRoaXMsbmV3Q2hpbGR9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKG9sZENoaWxkKXtyZXR1cm4gdGhpcy5kb2N1bWVudEVsZW1lbnQ9PW9sZENoaWxkJiYodGhpcy5kb2N1bWVudEVsZW1lbnQ9bnVsbCksX3JlbW92ZUNoaWxkKHRoaXMsb2xkQ2hpbGQpfSxpbXBvcnROb2RlOmZ1bmN0aW9uKGltcG9ydGVkTm9kZSxkZWVwKXtyZXR1cm4gaW1wb3J0Tm9kZSh0aGlzLGltcG9ydGVkTm9kZSxkZWVwKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24oaWQpe3ZhciBydHY9bnVsbDtyZXR1cm4gX3Zpc2l0Tm9kZSh0aGlzLmRvY3VtZW50RWxlbWVudCxmdW5jdGlvbihub2RlKXtyZXR1cm4gMT09bm9kZS5ub2RlVHlwZSYmbm9kZS5nZXRBdHRyaWJ1dGUoImlkIik9PWlkPyhydHY9bm9kZSwhMCk6dm9pZCAwfSkscnR2fSxjcmVhdGVFbGVtZW50OmZ1bmN0aW9uKHRhZ05hbWUpe3ZhciBub2RlPW5ldyBFbGVtZW50O25vZGUub3duZXJEb2N1bWVudD10aGlzLG5vZGUubm9kZU5hbWU9dGFnTmFtZSxub2RlLnRhZ05hbWU9dGFnTmFtZSxub2RlLmNoaWxkTm9kZXM9bmV3IE5vZGVMaXN0O3ZhciBhdHRycz1ub2RlLmF0dHJpYnV0ZXM9bmV3IE5hbWVkTm9kZU1hcDtyZXR1cm4gYXR0cnMuX293bmVyRWxlbWVudD1ub2RlLG5vZGV9LGNyZWF0ZURvY3VtZW50RnJhZ21lbnQ6ZnVuY3Rpb24oKXt2YXIgbm9kZT1uZXcgRG9jdW1lbnRGcmFnbWVudDtyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50PXRoaXMsbm9kZS5jaGlsZE5vZGVzPW5ldyBOb2RlTGlzdCxub2RlfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbihkYXRhKXt2YXIgbm9kZT1uZXcgVGV4dDtyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50PXRoaXMsbm9kZS5hcHBlbmREYXRhKGRhdGEpLG5vZGV9LGNyZWF0ZUNvbW1lbnQ6ZnVuY3Rpb24oZGF0YSl7dmFyIG5vZGU9bmV3IENvbW1lbnQ7cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudD10aGlzLG5vZGUuYXBwZW5kRGF0YShkYXRhKSxub2RlfSxjcmVhdGVDREFUQVNlY3Rpb246ZnVuY3Rpb24oZGF0YSl7dmFyIG5vZGU9bmV3IENEQVRBU2VjdGlvbjtyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50PXRoaXMsbm9kZS5hcHBlbmREYXRhKGRhdGEpLG5vZGV9LGNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbjpmdW5jdGlvbih0YXJnZXQsZGF0YSl7dmFyIG5vZGU9bmV3IFByb2Nlc3NpbmdJbnN0cnVjdGlvbjtyZXR1cm4gbm9kZS5vd25lckRvY3VtZW50PXRoaXMsbm9kZS50YWdOYW1lPW5vZGUudGFyZ2V0PXRhcmdldCxub2RlLm5vZGVWYWx1ZT1ub2RlLmRhdGE9ZGF0YSxub2RlfSxjcmVhdGVBdHRyaWJ1dGU6ZnVuY3Rpb24obmFtZSl7dmFyIG5vZGU9bmV3IEF0dHI7cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudD10aGlzLG5vZGUubmFtZT1uYW1lLG5vZGUubm9kZU5hbWU9bmFtZSxub2RlLmxvY2FsTmFtZT1uYW1lLG5vZGUuc3BlY2lmaWVkPSEwLG5vZGV9LGNyZWF0ZUVudGl0eVJlZmVyZW5jZTpmdW5jdGlvbihuYW1lKXt2YXIgbm9kZT1uZXcgRW50aXR5UmVmZXJlbmNlO3JldHVybiBub2RlLm93bmVyRG9jdW1lbnQ9dGhpcyxub2RlLm5vZGVOYW1lPW5hbWUsbm9kZX0sY3JlYXRlRWxlbWVudE5TOmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxxdWFsaWZpZWROYW1lKXt2YXIgbm9kZT1uZXcgRWxlbWVudCxwbD1xdWFsaWZpZWROYW1lLnNwbGl0KCI6IiksYXR0cnM9bm9kZS5hdHRyaWJ1dGVzPW5ldyBOYW1lZE5vZGVNYXA7cmV0dXJuIG5vZGUuY2hpbGROb2Rlcz1uZXcgTm9kZUxpc3Qsbm9kZS5vd25lckRvY3VtZW50PXRoaXMsbm9kZS5ub2RlTmFtZT1xdWFsaWZpZWROYW1lLG5vZGUudGFnTmFtZT1xdWFsaWZpZWROYW1lLG5vZGUubmFtZXNwYWNlVVJJPW5hbWVzcGFjZVVSSSwyPT1wbC5sZW5ndGg/KG5vZGUucHJlZml4PXBsWzBdLG5vZGUubG9jYWxOYW1lPXBsWzFdKTpub2RlLmxvY2FsTmFtZT1xdWFsaWZpZWROYW1lLGF0dHJzLl9vd25lckVsZW1lbnQ9bm9kZSxub2RlfSxjcmVhdGVBdHRyaWJ1dGVOUzpmdW5jdGlvbihuYW1lc3BhY2VVUkkscXVhbGlmaWVkTmFtZSl7dmFyIG5vZGU9bmV3IEF0dHIscGw9cXVhbGlmaWVkTmFtZS5zcGxpdCgiOiIpO3JldHVybiBub2RlLm93bmVyRG9jdW1lbnQ9dGhpcyxub2RlLm5vZGVOYW1lPXF1YWxpZmllZE5hbWUsbm9kZS5uYW1lPXF1YWxpZmllZE5hbWUsbm9kZS5uYW1lc3BhY2VVUkk9bmFtZXNwYWNlVVJJLG5vZGUuc3BlY2lmaWVkPSEwLDI9PXBsLmxlbmd0aD8obm9kZS5wcmVmaXg9cGxbMF0sbm9kZS5sb2NhbE5hbWU9cGxbMV0pOm5vZGUubG9jYWxOYW1lPXF1YWxpZmllZE5hbWUsbm9kZX19LF9leHRlbmRzKERvY3VtZW50LE5vZGUpLEVsZW1lbnQucHJvdG90eXBlPXtub2RlVHlwZTpFTEVNRU5UX05PREUsaGFzQXR0cmlidXRlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiBudWxsIT10aGlzLmdldEF0dHJpYnV0ZU5vZGUobmFtZSl9LGdldEF0dHJpYnV0ZTpmdW5jdGlvbihuYW1lKXt2YXIgYXR0cj10aGlzLmdldEF0dHJpYnV0ZU5vZGUobmFtZSk7cmV0dXJuIGF0dHImJmF0dHIudmFsdWV8fCIifSxnZXRBdHRyaWJ1dGVOb2RlOmZ1bmN0aW9uKG5hbWUpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKG5hbWUpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7dmFyIGF0dHI9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShuYW1lKTthdHRyLnZhbHVlPWF0dHIubm9kZVZhbHVlPSIiK3ZhbHVlLHRoaXMuc2V0QXR0cmlidXRlTm9kZShhdHRyKX0scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKG5hbWUpe3ZhciBhdHRyPXRoaXMuZ2V0QXR0cmlidXRlTm9kZShuYW1lKTthdHRyJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYXR0cil9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKG5ld0NoaWxkKXtyZXR1cm4gbmV3Q2hpbGQubm9kZVR5cGU9PT1ET0NVTUVOVF9GUkFHTUVOVF9OT0RFP3RoaXMuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLG51bGwpOl9hcHBlbmRTaW5nbGVDaGlsZCh0aGlzLG5ld0NoaWxkKX0sc2V0QXR0cmlidXRlTm9kZTpmdW5jdGlvbihuZXdBdHRyKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShuZXdBdHRyKX0sc2V0QXR0cmlidXRlTm9kZU5TOmZ1bmN0aW9uKG5ld0F0dHIpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtTlMobmV3QXR0cil9LHJlbW92ZUF0dHJpYnV0ZU5vZGU6ZnVuY3Rpb24ob2xkQXR0cil7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5yZW1vdmVOYW1lZEl0ZW0ob2xkQXR0ci5ub2RlTmFtZSl9LHJlbW92ZUF0dHJpYnV0ZU5TOmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUpe3ZhciBvbGQ9dGhpcy5nZXRBdHRyaWJ1dGVOb2RlTlMobmFtZXNwYWNlVVJJLGxvY2FsTmFtZSk7b2xkJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZU5vZGUob2xkKX0saGFzQXR0cmlidXRlTlM6ZnVuY3Rpb24obmFtZXNwYWNlVVJJLGxvY2FsTmFtZSl7cmV0dXJuIG51bGwhPXRoaXMuZ2V0QXR0cmlidXRlTm9kZU5TKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUpfSxnZXRBdHRyaWJ1dGVOUzpmdW5jdGlvbihuYW1lc3BhY2VVUkksbG9jYWxOYW1lKXt2YXIgYXR0cj10aGlzLmdldEF0dHJpYnV0ZU5vZGVOUyhuYW1lc3BhY2VVUkksbG9jYWxOYW1lKTtyZXR1cm4gYXR0ciYmYXR0ci52YWx1ZXx8IiJ9LHNldEF0dHJpYnV0ZU5TOmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxxdWFsaWZpZWROYW1lLHZhbHVlKXt2YXIgYXR0cj10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlTlMobmFtZXNwYWNlVVJJLHF1YWxpZmllZE5hbWUpO2F0dHIudmFsdWU9YXR0ci5ub2RlVmFsdWU9IiIrdmFsdWUsdGhpcy5zZXRBdHRyaWJ1dGVOb2RlKGF0dHIpfSxnZXRBdHRyaWJ1dGVOb2RlTlM6ZnVuY3Rpb24obmFtZXNwYWNlVVJJLGxvY2FsTmFtZSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW1OUyhuYW1lc3BhY2VVUkksbG9jYWxOYW1lKX0sZ2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24odGFnTmFtZSl7cmV0dXJuIG5ldyBMaXZlTm9kZUxpc3QodGhpcyxmdW5jdGlvbihiYXNlKXt2YXIgbHM9W107cmV0dXJuIF92aXNpdE5vZGUoYmFzZSxmdW5jdGlvbihub2RlKXtub2RlPT09YmFzZXx8bm9kZS5ub2RlVHlwZSE9RUxFTUVOVF9OT0RFfHwiKiIhPT10YWdOYW1lJiZub2RlLnRhZ05hbWUhPXRhZ05hbWV8fGxzLnB1c2gobm9kZSl9KSxsc30pfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUpe3JldHVybiBuZXcgTGl2ZU5vZGVMaXN0KHRoaXMsZnVuY3Rpb24oYmFzZSl7dmFyIGxzPVtdO3JldHVybiBfdmlzaXROb2RlKGJhc2UsZnVuY3Rpb24obm9kZSl7bm9kZT09PWJhc2V8fG5vZGUubm9kZVR5cGUhPT1FTEVNRU5UX05PREV8fCIqIiE9PW5hbWVzcGFjZVVSSSYmbm9kZS5uYW1lc3BhY2VVUkkhPT1uYW1lc3BhY2VVUkl8fCIqIiE9PWxvY2FsTmFtZSYmbm9kZS5sb2NhbE5hbWUhPWxvY2FsTmFtZXx8bHMucHVzaChub2RlKX0pLGxzfSl9fSxEb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9RWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUsRG9jdW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lTlM9RWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxfZXh0ZW5kcyhFbGVtZW50LE5vZGUpLEF0dHIucHJvdG90eXBlLm5vZGVUeXBlPUFUVFJJQlVURV9OT0RFLF9leHRlbmRzKEF0dHIsTm9kZSksQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGU9e2RhdGE6IiIsc3Vic3RyaW5nRGF0YTpmdW5jdGlvbihvZmZzZXQsY291bnQpe3JldHVybiB0aGlzLmRhdGEuc3Vic3RyaW5nKG9mZnNldCxvZmZzZXQrY291bnQpfSxhcHBlbmREYXRhOmZ1bmN0aW9uKHRleHQpe3RleHQ9dGhpcy5kYXRhK3RleHQsdGhpcy5ub2RlVmFsdWU9dGhpcy5kYXRhPXRleHQsdGhpcy5sZW5ndGg9dGV4dC5sZW5ndGh9LGluc2VydERhdGE6ZnVuY3Rpb24ob2Zmc2V0LHRleHQpe3RoaXMucmVwbGFjZURhdGEob2Zmc2V0LDAsdGV4dCl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoRXhjZXB0aW9uTWVzc2FnZVszXSl9LGRlbGV0ZURhdGE6ZnVuY3Rpb24ob2Zmc2V0LGNvdW50KXt0aGlzLnJlcGxhY2VEYXRhKG9mZnNldCxjb3VudCwiIil9LHJlcGxhY2VEYXRhOmZ1bmN0aW9uKG9mZnNldCxjb3VudCx0ZXh0KXt2YXIgc3RhcnQ9dGhpcy5kYXRhLnN1YnN0cmluZygwLG9mZnNldCksZW5kPXRoaXMuZGF0YS5zdWJzdHJpbmcob2Zmc2V0K2NvdW50KTt0ZXh0PXN0YXJ0K3RleHQrZW5kLHRoaXMubm9kZVZhbHVlPXRoaXMuZGF0YT10ZXh0LHRoaXMubGVuZ3RoPXRleHQubGVuZ3RofX0sX2V4dGVuZHMoQ2hhcmFjdGVyRGF0YSxOb2RlKSxUZXh0LnByb3RvdHlwZT17bm9kZU5hbWU6IiN0ZXh0Iixub2RlVHlwZTpURVhUX05PREUsc3BsaXRUZXh0OmZ1bmN0aW9uKG9mZnNldCl7dmFyIHRleHQ9dGhpcy5kYXRhLG5ld1RleHQ9dGV4dC5zdWJzdHJpbmcob2Zmc2V0KTt0ZXh0PXRleHQuc3Vic3RyaW5nKDAsb2Zmc2V0KSx0aGlzLmRhdGE9dGhpcy5ub2RlVmFsdWU9dGV4dCx0aGlzLmxlbmd0aD10ZXh0Lmxlbmd0aDt2YXIgbmV3Tm9kZT10aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobmV3VGV4dCk7cmV0dXJuIHRoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLHRoaXMubmV4dFNpYmxpbmcpLG5ld05vZGV9fSxfZXh0ZW5kcyhUZXh0LENoYXJhY3RlckRhdGEpLENvbW1lbnQucHJvdG90eXBlPXtub2RlTmFtZToiI2NvbW1lbnQiLG5vZGVUeXBlOkNPTU1FTlRfTk9ERX0sX2V4dGVuZHMoQ29tbWVudCxDaGFyYWN0ZXJEYXRhKSxDREFUQVNlY3Rpb24ucHJvdG90eXBlPXtub2RlTmFtZToiI2NkYXRhLXNlY3Rpb24iLG5vZGVUeXBlOkNEQVRBX1NFQ1RJT05fTk9ERX0sX2V4dGVuZHMoQ0RBVEFTZWN0aW9uLENoYXJhY3RlckRhdGEpLERvY3VtZW50VHlwZS5wcm90b3R5cGUubm9kZVR5cGU9RE9DVU1FTlRfVFlQRV9OT0RFLF9leHRlbmRzKERvY3VtZW50VHlwZSxOb2RlKSxOb3RhdGlvbi5wcm90b3R5cGUubm9kZVR5cGU9Tk9UQVRJT05fTk9ERSxfZXh0ZW5kcyhOb3RhdGlvbixOb2RlKSxFbnRpdHkucHJvdG90eXBlLm5vZGVUeXBlPUVOVElUWV9OT0RFLF9leHRlbmRzKEVudGl0eSxOb2RlKSxFbnRpdHlSZWZlcmVuY2UucHJvdG90eXBlLm5vZGVUeXBlPUVOVElUWV9SRUZFUkVOQ0VfTk9ERSxfZXh0ZW5kcyhFbnRpdHlSZWZlcmVuY2UsTm9kZSksRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUubm9kZU5hbWU9IiNkb2N1bWVudC1mcmFnbWVudCIsRG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUubm9kZVR5cGU9RE9DVU1FTlRfRlJBR01FTlRfTk9ERSxfZXh0ZW5kcyhEb2N1bWVudEZyYWdtZW50LE5vZGUpLFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUubm9kZVR5cGU9UFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFLF9leHRlbmRzKFByb2Nlc3NpbmdJbnN0cnVjdGlvbixOb2RlKSxYTUxTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVUb1N0cmluZz1mdW5jdGlvbihub2RlKXt2YXIgYnVmPVtdO3JldHVybiBzZXJpYWxpemVUb1N0cmluZyhub2RlLGJ1ZiksYnVmLmpvaW4oIiIpfSxOb2RlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBYTUxTZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemVUb1N0cmluZyh0aGlzKX07dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaXZlTm9kZUxpc3QucHJvdG90eXBlLCJsZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX3VwZGF0ZUxpdmVMaXN0KHRoaXMpLHRoaXMuJCRsZW5ndGh9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGUucHJvdG90eXBlLCJ0ZXh0Q29udGVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBnZXRUZXh0Q29udGVudCh0aGlzKX0sc2V0OmZ1bmN0aW9uKGRhdGEpe3N3aXRjaCh0aGlzLm5vZGVUeXBlKXtjYXNlIDE6Y2FzZSAxMTpmb3IoO3RoaXMuZmlyc3RDaGlsZDspdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmZpcnN0Q2hpbGQpOyhkYXRhfHxkYXRhKyIiKSYmdGhpcy5hcHBlbmRDaGlsZCh0aGlzLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSkpO2JyZWFrO2RlZmF1bHQ6dGhpcy5kYXRhPWRhdGEsdGhpcy52YWx1ZT12YWx1ZSx0aGlzLm5vZGVWYWx1ZT1kYXRhfX19KSxfX3NldF9fPWZ1bmN0aW9uKG9iamVjdCxrZXksdmFsdWUpe29iamVjdFsiJCQiK2tleV09dmFsdWV9KX1jYXRjaChlKXt9cmV0dXJuIERPTUltcGxlbWVudGF0aW9ufSksYWNlLmRlZmluZSgiYWNlL21vZGUveG1sL2RvbS1wYXJzZXIiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbW9kZS94bWwvc2F4IiwiYWNlL21vZGUveG1sL2RvbSJdLGZ1bmN0aW9uKGFjZXF1aXJlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gRE9NUGFyc2VyKG9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zfHx7bG9jYXRvcjp7fX19ZnVuY3Rpb24gYnVpbGRFcnJvckhhbmRsZXIoZXJyb3JJbXBsLGRvbUJ1aWxkZXIsbG9jYXRvcil7ZnVuY3Rpb24gYnVpbGQoa2V5KXt2YXIgZm49ZXJyb3JJbXBsW2tleV07aWYoIWZuKWlmKGlzQ2FsbGJhY2spZm49Mj09ZXJyb3JJbXBsLmxlbmd0aD9mdW5jdGlvbihtc2cpe2Vycm9ySW1wbChrZXksbXNnKX06ZXJyb3JJbXBsO2Vsc2UgZm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGg7LS1pJiYhKGZuPWVycm9ySW1wbFthcmd1bWVudHNbaV1dKTspO2Vycm9ySGFuZGxlcltrZXldPWZuJiZmdW5jdGlvbihtc2cpe2ZuKG1zZytfbG9jYXRvcihsb2NhdG9yKSxtc2csbG9jYXRvcil9fHxmdW5jdGlvbigpe319aWYoIWVycm9ySW1wbCl7aWYoZG9tQnVpbGRlciBpbnN0YW5jZW9mIERPTUhhbmRsZXIpcmV0dXJuIGRvbUJ1aWxkZXI7ZXJyb3JJbXBsPWRvbUJ1aWxkZXJ9dmFyIGVycm9ySGFuZGxlcj17fSxpc0NhbGxiYWNrPWVycm9ySW1wbCBpbnN0YW5jZW9mIEZ1bmN0aW9uO3JldHVybiBsb2NhdG9yPWxvY2F0b3J8fHt9LGJ1aWxkKCJ3YXJuaW5nIiwid2FybiIpLGJ1aWxkKCJlcnJvciIsIndhcm4iLCJ3YXJuaW5nIiksYnVpbGQoImZhdGFsRXJyb3IiLCJ3YXJuIiwid2FybmluZyIsImVycm9yIiksZXJyb3JIYW5kbGVyfWZ1bmN0aW9uIERPTUhhbmRsZXIoKXt0aGlzLmNkYXRhPSExfWZ1bmN0aW9uIHBvc2l0aW9uKGxvY2F0b3Isbm9kZSl7bm9kZS5saW5lTnVtYmVyPWxvY2F0b3IubGluZU51bWJlcixub2RlLmNvbHVtbk51bWJlcj1sb2NhdG9yLmNvbHVtbk51bWJlcn1mdW5jdGlvbiBfbG9jYXRvcihsKXtyZXR1cm4gbD8iXFxuQCIrKGwuc3lzdGVtSWR8fCIiKSsiI1tsaW5lOiIrbC5saW5lTnVtYmVyKyIsY29sOiIrbC5jb2x1bW5OdW1iZXIrIl0iOnZvaWQgMH1mdW5jdGlvbiBfdG9TdHJpbmcoY2hhcnMsc3RhcnQsbGVuZ3RoKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGNoYXJzP2NoYXJzLnN1YnN0cihzdGFydCxsZW5ndGgpOmNoYXJzLmxlbmd0aD49c3RhcnQrbGVuZ3RofHxzdGFydD9uZXcgamF2YS5sYW5nLlN0cmluZyhjaGFycyxzdGFydCxsZW5ndGgpKyIiOmNoYXJzfWZ1bmN0aW9uIGFwcGVuZEVsZW1lbnQoaGFuZGVyLG5vZGUpe2hhbmRlci5jdXJyZW50RWxlbWVudD9oYW5kZXIuY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobm9kZSk6aGFuZGVyLmRvY3VtZW50LmFwcGVuZENoaWxkKG5vZGUpfXZhciBYTUxSZWFkZXI9YWNlcXVpcmUoIi4vc2F4IiksRE9NSW1wbGVtZW50YXRpb249YWNlcXVpcmUoIi4vZG9tIik7cmV0dXJuIERPTVBhcnNlci5wcm90b3R5cGUucGFyc2VGcm9tU3RyaW5nPWZ1bmN0aW9uKHNvdXJjZSxtaW1lVHlwZSl7dmFyIG9wdGlvbnM9dGhpcy5vcHRpb25zLHNheD1uZXcgWE1MUmVhZGVyLGRvbUJ1aWxkZXI9b3B0aW9ucy5kb21CdWlsZGVyfHxuZXcgRE9NSGFuZGxlcixlcnJvckhhbmRsZXI9b3B0aW9ucy5lcnJvckhhbmRsZXIsbG9jYXRvcj1vcHRpb25zLmxvY2F0b3IsZGVmYXVsdE5TTWFwPW9wdGlvbnMueG1sbnN8fHt9LGVudGl0eU1hcD17bHQ6IjwiLGd0OiI+IixhbXA6IiYiLHF1b3Q6XCciXCcsYXBvczoiXCcifTtyZXR1cm4gbG9jYXRvciYmZG9tQnVpbGRlci5zZXREb2N1bWVudExvY2F0b3IobG9jYXRvciksc2F4LmVycm9ySGFuZGxlcj1idWlsZEVycm9ySGFuZGxlcihlcnJvckhhbmRsZXIsZG9tQnVpbGRlcixsb2NhdG9yKSxzYXguZG9tQnVpbGRlcj1vcHRpb25zLmRvbUJ1aWxkZXJ8fGRvbUJ1aWxkZXIsL1xcL3g/aHRtbD8kLy50ZXN0KG1pbWVUeXBlKSYmKGVudGl0eU1hcC5uYnNwPSLCoCIsZW50aXR5TWFwLmNvcHk9IsKpIixkZWZhdWx0TlNNYXBbIiJdPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiksc291cmNlP3NheC5wYXJzZShzb3VyY2UsZGVmYXVsdE5TTWFwLGVudGl0eU1hcCk6c2F4LmVycm9ySGFuZGxlci5lcnJvcigiaW52YWxpZCBkb2N1bWVudCBzb3VyY2UiKSxkb21CdWlsZGVyLmRvY3VtZW50fSxET01IYW5kbGVyLnByb3RvdHlwZT17c3RhcnREb2N1bWVudDpmdW5jdGlvbigpe3RoaXMuZG9jdW1lbnQ9KG5ldyBET01JbXBsZW1lbnRhdGlvbikuY3JlYXRlRG9jdW1lbnQobnVsbCxudWxsLG51bGwpLHRoaXMubG9jYXRvciYmKHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRVUkk9dGhpcy5sb2NhdG9yLnN5c3RlbUlkKX0sc3RhcnRFbGVtZW50OmZ1bmN0aW9uKG5hbWVzcGFjZVVSSSxsb2NhbE5hbWUscU5hbWUsYXR0cnMpe3ZhciBkb2M9dGhpcy5kb2N1bWVudCxlbD1kb2MuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZVVSSSxxTmFtZXx8bG9jYWxOYW1lKSxsZW49YXR0cnMubGVuZ3RoO2FwcGVuZEVsZW1lbnQodGhpcyxlbCksdGhpcy5jdXJyZW50RWxlbWVudD1lbCx0aGlzLmxvY2F0b3ImJnBvc2l0aW9uKHRoaXMubG9jYXRvcixlbCk7Zm9yKHZhciBpPTA7bGVuPmk7aSsrKXt2YXIgbmFtZXNwYWNlVVJJPWF0dHJzLmdldFVSSShpKSx2YWx1ZT1hdHRycy5nZXRWYWx1ZShpKSxxTmFtZT1hdHRycy5nZXRRTmFtZShpKSxhdHRyPWRvYy5jcmVhdGVBdHRyaWJ1dGVOUyhuYW1lc3BhY2VVUkkscU5hbWUpO2F0dHIuZ2V0T2Zmc2V0JiZwb3NpdGlvbihhdHRyLmdldE9mZnNldCgxKSxhdHRyKSxhdHRyLnZhbHVlPWF0dHIubm9kZVZhbHVlPXZhbHVlLGVsLnNldEF0dHJpYnV0ZU5vZGUoYXR0cil9fSxlbmRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGN1cnJlbnQ9dGhpcy5jdXJyZW50RWxlbWVudDtjdXJyZW50LnRhZ05hbWUsdGhpcy5jdXJyZW50RWxlbWVudD1jdXJyZW50LnBhcmVudE5vZGV9LHN0YXJ0UHJlZml4TWFwcGluZzpmdW5jdGlvbigpe30sZW5kUHJlZml4TWFwcGluZzpmdW5jdGlvbigpe30scHJvY2Vzc2luZ0luc3RydWN0aW9uOmZ1bmN0aW9uKHRhcmdldCxkYXRhKXt2YXIgaW5zPXRoaXMuZG9jdW1lbnQuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKHRhcmdldCxkYXRhKTt0aGlzLmxvY2F0b3ImJnBvc2l0aW9uKHRoaXMubG9jYXRvcixpbnMpLGFwcGVuZEVsZW1lbnQodGhpcyxpbnMpfSxpZ25vcmFibGVXaGl0ZXNwYWNlOmZ1bmN0aW9uKCl7fSxjaGFyYWN0ZXJzOmZ1bmN0aW9uKGNoYXJzKXtpZihjaGFycz1fdG9TdHJpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuY3VycmVudEVsZW1lbnQmJmNoYXJzKXtpZih0aGlzLmNkYXRhKXt2YXIgY2hhck5vZGU9dGhpcy5kb2N1bWVudC5jcmVhdGVDREFUQVNlY3Rpb24oY2hhcnMpO3RoaXMuY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hhck5vZGUpfWVsc2V7dmFyIGNoYXJOb2RlPXRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY2hhcnMpO3RoaXMuY3VycmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hhck5vZGUpfXRoaXMubG9jYXRvciYmcG9zaXRpb24odGhpcy5sb2NhdG9yLGNoYXJOb2RlKX19LHNraXBwZWRFbnRpdHk6ZnVuY3Rpb24oKXt9LGVuZERvY3VtZW50OmZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5ub3JtYWxpemUoKX0sc2V0RG9jdW1lbnRMb2NhdG9yOmZ1bmN0aW9uKGxvY2F0b3Ipeyh0aGlzLmxvY2F0b3I9bG9jYXRvcikmJihsb2NhdG9yLmxpbmVOdW1iZXI9MCl9LGNvbW1lbnQ6ZnVuY3Rpb24oY2hhcnMpe2NoYXJzPV90b1N0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGNvbW09dGhpcy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNoYXJzKTt0aGlzLmxvY2F0b3ImJnBvc2l0aW9uKHRoaXMubG9jYXRvcixjb21tKSxhcHBlbmRFbGVtZW50KHRoaXMsY29tbSl9LHN0YXJ0Q0RBVEE6ZnVuY3Rpb24oKXt0aGlzLmNkYXRhPSEwfSxlbmRDREFUQTpmdW5jdGlvbigpe3RoaXMuY2RhdGE9ITF9LHN0YXJ0RFREOmZ1bmN0aW9uKG5hbWUscHVibGljSWQsc3lzdGVtSWQpe3ZhciBpbXBsPXRoaXMuZG9jdW1lbnQuaW1wbGVtZW50YXRpb247aWYoaW1wbCYmaW1wbC5jcmVhdGVEb2N1bWVudFR5cGUpe3ZhciBkdD1pbXBsLmNyZWF0ZURvY3VtZW50VHlwZShuYW1lLHB1YmxpY0lkLHN5c3RlbUlkKTt0aGlzLmxvY2F0b3ImJnBvc2l0aW9uKHRoaXMubG9jYXRvcixkdCksYXBwZW5kRWxlbWVudCh0aGlzLGR0KX19LHdhcm5pbmc6ZnVuY3Rpb24oZXJyb3Ipe2NvbnNvbGUud2FybihlcnJvcixfbG9jYXRvcih0aGlzLmxvY2F0b3IpKX0sZXJyb3I6ZnVuY3Rpb24oZXJyb3Ipe2NvbnNvbGUuZXJyb3IoZXJyb3IsX2xvY2F0b3IodGhpcy5sb2NhdG9yKSl9LGZhdGFsRXJyb3I6ZnVuY3Rpb24oZXJyb3Ipe3Rocm93IGNvbnNvbGUuZXJyb3IoZXJyb3IsX2xvY2F0b3IodGhpcy5sb2NhdG9yKSksZXJyb3J9fSwiZW5kRFRELHN0YXJ0RW50aXR5LGVuZEVudGl0eSxhdHRyaWJ1dGVEZWNsLGVsZW1lbnREZWNsLGV4dGVybmFsRW50aXR5RGVjbCxpbnRlcm5hbEVudGl0eURlY2wscmVzb2x2ZUVudGl0eSxnZXRFeHRlcm5hbFN1YnNldCxub3RhdGlvbkRlY2wsdW5wYXJzZWRFbnRpdHlEZWNsIi5yZXBsYWNlKC9cXHcrL2csZnVuY3Rpb24oa2V5KXtET01IYW5kbGVyLnByb3RvdHlwZVtrZXldPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSkse0RPTVBhcnNlcjpET01QYXJzZXJ9fSksYWNlLmRlZmluZSgiYWNlL21vZGUveG1sX3dvcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9sYW5nIiwiYWNlL3dvcmtlci9taXJyb3IiLCJhY2UvbW9kZS94bWwvZG9tLXBhcnNlciJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0Ijt2YXIgb29wPWFjZXF1aXJlKCIuLi9saWIvb29wIik7YWNlcXVpcmUoIi4uL2xpYi9sYW5nIik7dmFyIE1pcnJvcj1hY2VxdWlyZSgiLi4vd29ya2VyL21pcnJvciIpLk1pcnJvcixET01QYXJzZXI9YWNlcXVpcmUoIi4veG1sL2RvbS1wYXJzZXIiKS5ET01QYXJzZXIsV29ya2VyPWV4cG9ydHMuV29ya2VyPWZ1bmN0aW9uKHNlbmRlcil7TWlycm9yLmNhbGwodGhpcyxzZW5kZXIpLHRoaXMuc2V0VGltZW91dCg0MDApLHRoaXMuY29udGV4dD1udWxsfTtvb3AuaW5oZXJpdHMoV29ya2VyLE1pcnJvciksZnVuY3Rpb24oKXt0aGlzLnNldE9wdGlvbnM9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5jb250ZXh0PW9wdGlvbnMuY29udGV4dH0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe3ZhciB2YWx1ZT10aGlzLmRvYy5nZXRWYWx1ZSgpO2lmKHZhbHVlKXt2YXIgcGFyc2VyPW5ldyBET01QYXJzZXIsZXJyb3JzPVtdO3BhcnNlci5vcHRpb25zLmVycm9ySGFuZGxlcj17ZmF0YWxFcnJvcjpmdW5jdGlvbihmdWxsTXNnLGVycm9yTXNnLGxvY2F0b3Ipe2Vycm9ycy5wdXNoKHtyb3c6bG9jYXRvci5saW5lTnVtYmVyLGNvbHVtbjpsb2NhdG9yLmNvbHVtbk51bWJlcix0ZXh0OmVycm9yTXNnLHR5cGU6ImVycm9yIn0pfSxlcnJvcjpmdW5jdGlvbihmdWxsTXNnLGVycm9yTXNnLGxvY2F0b3Ipe2Vycm9ycy5wdXNoKHtyb3c6bG9jYXRvci5saW5lTnVtYmVyLGNvbHVtbjpsb2NhdG9yLmNvbHVtbk51bWJlcix0ZXh0OmVycm9yTXNnLHR5cGU6ImVycm9yIn0pfSx3YXJuaW5nOmZ1bmN0aW9uKGZ1bGxNc2csZXJyb3JNc2csbG9jYXRvcil7ZXJyb3JzLnB1c2goe3Jvdzpsb2NhdG9yLmxpbmVOdW1iZXIsY29sdW1uOmxvY2F0b3IuY29sdW1uTnVtYmVyLHRleHQ6ZXJyb3JNc2csdHlwZToid2FybmluZyJ9KX19LHBhcnNlci5wYXJzZUZyb21TdHJpbmcodmFsdWUpLHRoaXMuc2VuZGVyLmVtaXQoImVycm9yIixlcnJvcnMpfX19LmNhbGwoV29ya2VyLnByb3RvdHlwZSl9KSxhY2UuZGVmaW5lKCJhY2UvbGliL2VzNS1zaGltIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXtmdW5jdGlvbiBFbXB0eSgpe31mdW5jdGlvbiBkb2VzRGVmaW5lUHJvcGVydHlXb3JrKG9iamVjdCl7dHJ5e3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCJzZW50aW5lbCIse30pLCJzZW50aW5lbCJpbiBvYmplY3Rcbn1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LCJfX2RlZmluZUdldHRlcl9fIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLCJYWFgiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwfSgpKXt2YXIgYXJyYXlfc3BsaWNlPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7QXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihzdGFydCxkZWxldGVDb3VudCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/YXJyYXlfc3BsaWNlLmFwcGx5KHRoaXMsW3ZvaWQgMD09PXN0YXJ0PzA6c3RhcnQsdm9pZCAwPT09ZGVsZXRlQ291bnQ/dGhpcy5sZW5ndGgtc3RhcnQ6ZGVsZXRlQ291bnRdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywyKSkpOltdfX1lbHNlIEFycmF5LnByb3RvdHlwZS5zcGxpY2U9ZnVuY3Rpb24ocG9zLHJlbW92ZUNvdW50KXt2YXIgbGVuZ3RoPXRoaXMubGVuZ3RoO3Bvcz4wP3Bvcz5sZW5ndGgmJihwb3M9bGVuZ3RoKTp2b2lkIDA9PXBvcz9wb3M9MDowPnBvcyYmKHBvcz1NYXRoLm1heChsZW5ndGgrcG9zLDApKSxsZW5ndGg+cG9zK3JlbW92ZUNvdW50fHwocmVtb3ZlQ291bnQ9bGVuZ3RoLXBvcyk7dmFyIHJlbW92ZWQ9dGhpcy5zbGljZShwb3MscG9zK3JlbW92ZUNvdW50KSxpbnNlcnQ9c2xpY2UuY2FsbChhcmd1bWVudHMsMiksYWRkPWluc2VydC5sZW5ndGg7aWYocG9zPT09bGVuZ3RoKWFkZCYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNle3ZhciByZW1vdmU9TWF0aC5taW4ocmVtb3ZlQ291bnQsbGVuZ3RoLXBvcyksdGFpbE9sZFBvcz1wb3MrcmVtb3ZlLHRhaWxOZXdQb3M9dGFpbE9sZFBvcythZGQtcmVtb3ZlLHRhaWxDb3VudD1sZW5ndGgtdGFpbE9sZFBvcyxsZW5ndGhBZnRlclJlbW92ZT1sZW5ndGgtcmVtb3ZlO2lmKHRhaWxPbGRQb3M+dGFpbE5ld1Bvcylmb3IodmFyIGk9MDt0YWlsQ291bnQ+aTsrK2kpdGhpc1t0YWlsTmV3UG9zK2ldPXRoaXNbdGFpbE9sZFBvcytpXTtlbHNlIGlmKHRhaWxOZXdQb3M+dGFpbE9sZFBvcylmb3IoaT10YWlsQ291bnQ7aS0tOyl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2lmKGFkZCYmcG9zPT09bGVuZ3RoQWZ0ZXJSZW1vdmUpdGhpcy5sZW5ndGg9bGVuZ3RoQWZ0ZXJSZW1vdmUsdGhpcy5wdXNoLmFwcGx5KHRoaXMsaW5zZXJ0KTtlbHNlIGZvcih0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSthZGQsaT0wO2FkZD5pOysraSl0aGlzW3BvcytpXT1pbnNlcnRbaV19cmV0dXJuIHJlbW92ZWR9O0FycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKG9iail7cmV0dXJuIltvYmplY3QgQXJyYXldIj09X3RvU3RyaW5nKG9iail9KTt2YXIgYm94ZWRTdHJpbmc9T2JqZWN0KCJhIiksc3BsaXRTdHJpbmc9ImEiIT1ib3hlZFN0cmluZ1swXXx8ISgwIGluIGJveGVkU3RyaW5nKTtpZihBcnJheS5wcm90b3R5cGUuZm9yRWFjaHx8KEFycmF5LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm9iamVjdCx0aGlzcD1hcmd1bWVudHNbMV0saT0tMSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKDtsZW5ndGg+KytpOylpIGluIHNlbGYmJmZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpfSksQXJyYXkucHJvdG90eXBlLm1hcHx8KEFycmF5LnByb3RvdHlwZS5tYXA9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PUFycmF5KGxlbmd0aCksdGhpc3A9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0W2ldPWZ1bi5jYWxsKHRoaXNwLHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmZpbHRlcnx8KEFycmF5LnByb3RvdHlwZS5maWx0ZXI9ZnVuY3Rpb24oZnVuKXt2YXIgdmFsdWUsb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAscmVzdWx0PVtdLHRoaXNwPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bisiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHZhbHVlPXNlbGZbaV0sZnVuLmNhbGwodGhpc3AsdmFsdWUsaSxvYmplY3QpJiZyZXN1bHQucHVzaCh2YWx1ZSkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZXZlcnl8fChBcnJheS5wcm90b3R5cGUuZXZlcnk9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiYhZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITE7cmV0dXJuITB9KSxBcnJheS5wcm90b3R5cGUuc29tZXx8KEFycmF5LnByb3RvdHlwZS5zb21lPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wLHRoaXNwPWFyZ3VtZW50c1sxXTtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bisiIGlzIG5vdCBhIGZ1bmN0aW9uIik7Zm9yKHZhciBpPTA7bGVuZ3RoPmk7aSsrKWlmKGkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpcmV0dXJuITA7cmV0dXJuITF9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlfHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmIltvYmplY3QgU3RyaW5nXSI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KCIiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZigiW29iamVjdCBGdW5jdGlvbl0iIT1fdG9TdHJpbmcoZnVuKSl0aHJvdyBuZXcgVHlwZUVycm9yKGZ1bisiIGlzIG5vdCBhIGZ1bmN0aW9uIik7aWYoIWxlbmd0aCYmMT09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7dmFyIHJlc3VsdCxpPTA7aWYoYXJndW1lbnRzLmxlbmd0aD49MilyZXN1bHQ9YXJndW1lbnRzWzFdO2Vsc2UgZm9yKDs7KXtpZihpIGluIHNlbGYpe3Jlc3VsdD1zZWxmW2krK107YnJlYWt9aWYoKytpPj1sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWZvcig7bGVuZ3RoPmk7aSsrKWkgaW4gc2VsZiYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0fHwoQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0PWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO3ZhciByZXN1bHQsaT1sZW5ndGgtMTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaS0tXTticmVha31pZigwPi0taSl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2VSaWdodCBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKX1kbyBpIGluIHRoaXMmJihyZXN1bHQ9ZnVuLmNhbGwodm9pZCAwLHJlc3VsdCxzZWxmW2ldLGksb2JqZWN0KSk7d2hpbGUoaS0tKTtyZXR1cm4gcmVzdWx0fSksQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJi0xPT1bMCwxXS5pbmRleE9mKDEsMil8fChBcnJheS5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT0wO2Zvcihhcmd1bWVudHMubGVuZ3RoPjEmJihpPXRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSxpPWk+PTA/aTpNYXRoLm1heCgwLGxlbmd0aCtpKTtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZzZWxmW2ldPT09c291Z2h0KXJldHVybiBpO3JldHVybi0xfSksQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiYtMT09WzAsMV0ubGFzdEluZGV4T2YoMCwtMyl8fChBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24oc291Z2h0KXt2YXIgc2VsZj1zcGxpdFN0cmluZyYmIltvYmplY3QgU3RyaW5nXSI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KCIiKTp0b09iamVjdCh0aGlzKSxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCFsZW5ndGgpcmV0dXJuLTE7dmFyIGk9bGVuZ3RoLTE7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9TWF0aC5taW4oaSx0b0ludGVnZXIoYXJndW1lbnRzWzFdKSkpLGk9aT49MD9pOmxlbmd0aC1NYXRoLmFicyhpKTtpPj0wO2ktLSlpZihpIGluIHNlbGYmJnNvdWdodD09PXNlbGZbaV0pcmV0dXJuIGk7cmV0dXJuLTF9KSxPYmplY3QuZ2V0UHJvdG90eXBlT2Z8fChPYmplY3QuZ2V0UHJvdG90eXBlT2Y9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0Ll9fcHJvdG9fX3x8KG9iamVjdC5jb25zdHJ1Y3Rvcj9vYmplY3QuY29uc3RydWN0b3IucHJvdG90eXBlOnByb3RvdHlwZU9mT2JqZWN0KX0pLCFPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKXt2YXIgRVJSX05PTl9PQkpFQ1Q9Ik9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgY2FsbGVkIG9uIGEgbm9uLW9iamVjdDogIjtPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSl7aWYoIm9iamVjdCIhPXR5cGVvZiBvYmplY3QmJiJmdW5jdGlvbiIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVCtvYmplY3QpO2lmKG93bnMob2JqZWN0LHByb3BlcnR5KSl7dmFyIGRlc2NyaXB0b3IsZ2V0dGVyLHNldHRlcjtpZihkZXNjcmlwdG9yPXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0sc3VwcG9ydHNBY2Nlc3NvcnMpe3ZhciBwcm90b3R5cGU9b2JqZWN0Ll9fcHJvdG9fXztvYmplY3QuX19wcm90b19fPXByb3RvdHlwZU9mT2JqZWN0O3ZhciBnZXR0ZXI9bG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSksc2V0dGVyPWxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpO2lmKG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlLGdldHRlcnx8c2V0dGVyKXJldHVybiBnZXR0ZXImJihkZXNjcmlwdG9yLmdldD1nZXR0ZXIpLHNldHRlciYmKGRlc2NyaXB0b3Iuc2V0PXNldHRlciksZGVzY3JpcHRvcn1yZXR1cm4gZGVzY3JpcHRvci52YWx1ZT1vYmplY3RbcHJvcGVydHldLGRlc2NyaXB0b3J9fX1pZihPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8KE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCl9KSwhT2JqZWN0LmNyZWF0ZSl7dmFyIGNyZWF0ZUVtcHR5O2NyZWF0ZUVtcHR5PW51bGw9PT1PYmplY3QucHJvdG90eXBlLl9fcHJvdG9fXz9mdW5jdGlvbigpe3JldHVybntfX3Byb3RvX186bnVsbH19OmZ1bmN0aW9uKCl7dmFyIGVtcHR5PXt9O2Zvcih2YXIgaSBpbiBlbXB0eSllbXB0eVtpXT1udWxsO3JldHVybiBlbXB0eS5jb25zdHJ1Y3Rvcj1lbXB0eS5oYXNPd25Qcm9wZXJ0eT1lbXB0eS5wcm9wZXJ0eUlzRW51bWVyYWJsZT1lbXB0eS5pc1Byb3RvdHlwZU9mPWVtcHR5LnRvTG9jYWxlU3RyaW5nPWVtcHR5LnRvU3RyaW5nPWVtcHR5LnZhbHVlT2Y9ZW1wdHkuX19wcm90b19fPW51bGwsZW1wdHl9LE9iamVjdC5jcmVhdGU9ZnVuY3Rpb24ocHJvdG90eXBlLHByb3BlcnRpZXMpe3ZhciBvYmplY3Q7aWYobnVsbD09PXByb3RvdHlwZSlvYmplY3Q9Y3JlYXRlRW1wdHkoKTtlbHNle2lmKCJvYmplY3QiIT10eXBlb2YgcHJvdG90eXBlKXRocm93IG5ldyBUeXBlRXJyb3IoInR5cGVvZiBwcm90b3R5cGVbIit0eXBlb2YgcHJvdG90eXBlKyJdICE9IFwnb2JqZWN0XCciKTt2YXIgVHlwZT1mdW5jdGlvbigpe307VHlwZS5wcm90b3R5cGU9cHJvdG90eXBlLG9iamVjdD1uZXcgVHlwZSxvYmplY3QuX19wcm90b19fPXByb3RvdHlwZX1yZXR1cm4gdm9pZCAwIT09cHJvcGVydGllcyYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqZWN0LHByb3BlcnRpZXMpLG9iamVjdH19aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXt2YXIgZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0PWRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoe30pLGRlZmluZVByb3BlcnR5V29ya3NPbkRvbT0idW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50fHxkb2VzRGVmaW5lUHJvcGVydHlXb3JrKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtpZighZGVmaW5lUHJvcGVydHlXb3Jrc09uT2JqZWN0fHwhZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tKXZhciBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrPU9iamVjdC5kZWZpbmVQcm9wZXJ0eX1pZighT2JqZWN0LmRlZmluZVByb3BlcnR5fHxkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXt2YXIgRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUj0iUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3Q6ICIsRVJSX05PTl9PQkpFQ1RfVEFSR0VUPSJPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3Q6ICIsRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEPSJnZXR0ZXJzICYgc2V0dGVycyBjYW4gbm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZSI7T2JqZWN0LmRlZmluZVByb3BlcnR5PWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKXtpZigib2JqZWN0IiE9dHlwZW9mIG9iamVjdCYmImZ1bmN0aW9uIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUX1RBUkdFVCtvYmplY3QpO2lmKCJvYmplY3QiIT10eXBlb2YgZGVzY3JpcHRvciYmImZ1bmN0aW9uIiE9dHlwZW9mIGRlc2NyaXB0b3J8fG51bGw9PT1kZXNjcmlwdG9yKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfREVTQ1JJUFRPUitkZXNjcmlwdG9yKTtpZihkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrKXRyeXtyZXR1cm4gZGVmaW5lUHJvcGVydHlGYWxsYmFjay5jYWxsKE9iamVjdCxvYmplY3QscHJvcGVydHksZGVzY3JpcHRvcil9Y2F0Y2goZXhjZXB0aW9uKXt9aWYob3ducyhkZXNjcmlwdG9yLCJ2YWx1ZSIpKWlmKHN1cHBvcnRzQWNjZXNzb3JzJiYobG9va3VwR2V0dGVyKG9iamVjdCxwcm9wZXJ0eSl8fGxvb2t1cFNldHRlcihvYmplY3QscHJvcGVydHkpKSl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3QsZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV0sb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfWVsc2Ugb2JqZWN0W3Byb3BlcnR5XT1kZXNjcmlwdG9yLnZhbHVlO2Vsc2V7aWYoIXN1cHBvcnRzQWNjZXNzb3JzKXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtvd25zKGRlc2NyaXB0b3IsImdldCIpJiZkZWZpbmVHZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3IuZ2V0KSxvd25zKGRlc2NyaXB0b3IsInNldCIpJiZkZWZpbmVTZXR0ZXIob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Iuc2V0KX1yZXR1cm4gb2JqZWN0fX1PYmplY3QuZGVmaW5lUHJvcGVydGllc3x8KE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzPWZ1bmN0aW9uKG9iamVjdCxwcm9wZXJ0aWVzKXtmb3IodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpb3ducyhwcm9wZXJ0aWVzLHByb3BlcnR5KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCxwcm9wZXJ0eSxwcm9wZXJ0aWVzW3Byb3BlcnR5XSk7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5zZWFsfHwoT2JqZWN0LnNlYWw9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LmZyZWV6ZXx8KE9iamVjdC5mcmVlemU9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gb2JqZWN0fSk7dHJ5e09iamVjdC5mcmVlemUoZnVuY3Rpb24oKXt9KX1jYXRjaChleGNlcHRpb24pe09iamVjdC5mcmVlemU9ZnVuY3Rpb24oZnJlZXplT2JqZWN0KXtyZXR1cm4gZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygb2JqZWN0P29iamVjdDpmcmVlemVPYmplY3Qob2JqZWN0KX19KE9iamVjdC5mcmVlemUpfWlmKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9uc3x8KE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuaXNTZWFsZWR8fChPYmplY3QuaXNTZWFsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRXh0ZW5zaWJsZXx8KE9iamVjdC5pc0V4dGVuc2libGU9ZnVuY3Rpb24ob2JqZWN0KXtpZihPYmplY3Qob2JqZWN0KT09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yO2Zvcih2YXIgbmFtZT0iIjtvd25zKG9iamVjdCxuYW1lKTspbmFtZSs9Ij8iO29iamVjdFtuYW1lXT0hMDt2YXIgcmV0dXJuVmFsdWU9b3ducyhvYmplY3QsbmFtZSk7cmV0dXJuIGRlbGV0ZSBvYmplY3RbbmFtZV0scmV0dXJuVmFsdWV9KSwhT2JqZWN0LmtleXMpe3ZhciBoYXNEb250RW51bUJ1Zz0hMCxkb250RW51bXM9WyJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc3RydWN0b3IiXSxkb250RW51bXNMZW5ndGg9ZG9udEVudW1zLmxlbmd0aDtmb3IodmFyIGtleSBpbnt0b1N0cmluZzpudWxsfSloYXNEb250RW51bUJ1Zz0hMTtPYmplY3Qua2V5cz1mdW5jdGlvbihvYmplY3Qpe2lmKCJvYmplY3QiIT10eXBlb2Ygb2JqZWN0JiYiZnVuY3Rpb24iIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBhIG5vbi1vYmplY3QiKTt2YXIga2V5cz1bXTtmb3IodmFyIG5hbWUgaW4gb2JqZWN0KW93bnMob2JqZWN0LG5hbWUpJiZrZXlzLnB1c2gobmFtZSk7aWYoaGFzRG9udEVudW1CdWcpZm9yKHZhciBpPTAsaWk9ZG9udEVudW1zTGVuZ3RoO2lpPmk7aSsrKXt2YXIgZG9udEVudW09ZG9udEVudW1zW2ldO293bnMob2JqZWN0LGRvbnRFbnVtKSYma2V5cy5wdXNoKGRvbnRFbnVtKX1yZXR1cm4ga2V5c319RGF0ZS5ub3d8fChEYXRlLm5vdz1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSk7dmFyIHdzPSJcdFxcblx2XFxmXFxyIMKg4ZqA4aCO4oCA4oCB4oCC4oCD4oCE4oCF4oCG4oCH4oCI4oCJ4oCK4oCv4oGf44CAXFx1MjAyOFxcdTIwMjlcdWZlZmYiO2lmKCFTdHJpbmcucHJvdG90eXBlLnRyaW18fHdzLnRyaW0oKSl7d3M9IlsiK3dzKyJdIjt2YXIgdHJpbUJlZ2luUmVnZXhwPVJlZ0V4cCgiXiIrd3Mrd3MrIioiKSx0cmltRW5kUmVnZXhwPVJlZ0V4cCh3cyt3cysiKiQiKTtTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4odGhpcysiIikucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsIiIpLnJlcGxhY2UodHJpbUVuZFJlZ2V4cCwiIil9fXZhciB0b09iamVjdD1mdW5jdGlvbihvKXtpZihudWxsPT1vKXRocm93IG5ldyBUeXBlRXJyb3IoImNhblwndCBjb252ZXJ0ICIrbysiIHRvIG9iamVjdCIpO3JldHVybiBPYmplY3Qobyl9fSk7J30sIjgxOGIiOmZ1bmN0aW9uKGUsdCxuKXthY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uX2hpZ2hsaWdodF9ydWxlcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXMiXSwoZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lKCIuLi9saWIvb29wIiksbz1lKCIuL3RleHRfaGlnaGxpZ2h0X3J1bGVzIikuVGV4dEhpZ2hsaWdodFJ1bGVzLGk9ZnVuY3Rpb24oKXt0aGlzLiRydWxlcz17c3RhcnQ6W3t0b2tlbjoidmFyaWFibGUiLHJlZ2V4OidbIl0oPzooPzpcXFxcLil8KD86W14iXFxcXF0pKSo/WyJdXFxzKig/PTopJ30se3Rva2VuOiJzdHJpbmciLHJlZ2V4OiciJyxuZXh0OiJzdHJpbmcifSx7dG9rZW46ImNvbnN0YW50Lm51bWVyaWMiLHJlZ2V4OiIwW3hYXVswLTlhLWZBLUZdK1xcYiJ9LHt0b2tlbjoiY29uc3RhbnQubnVtZXJpYyIscmVnZXg6IlsrLV0/XFxkKyg/Oig/OlxcLlxcZCopPyg/OltlRV1bKy1dP1xcZCspPyk/XFxiIn0se3Rva2VuOiJjb25zdGFudC5sYW5ndWFnZS5ib29sZWFuIixyZWdleDoiKD86dHJ1ZXxmYWxzZSlcXGIifSx7dG9rZW46InRleHQiLHJlZ2V4OiJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIn0se3Rva2VuOiJjb21tZW50IixyZWdleDoiXFwvXFwvLiokIn0se3Rva2VuOiJjb21tZW50LnN0YXJ0IixyZWdleDoiXFwvXFwqIixuZXh0OiJjb21tZW50In0se3Rva2VuOiJwYXJlbi5scGFyZW4iLHJlZ2V4OiJbWyh7XSJ9LHt0b2tlbjoicGFyZW4ucnBhcmVuIixyZWdleDoiW1xcXSl9XSJ9LHt0b2tlbjoidGV4dCIscmVnZXg6IlxccysifV0sc3RyaW5nOlt7dG9rZW46ImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIscmVnZXg6L1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pL30se3Rva2VuOiJzdHJpbmciLHJlZ2V4OicifCQnLG5leHQ6InN0YXJ0In0se2RlZmF1bHRUb2tlbjoic3RyaW5nIn1dLGNvbW1lbnQ6W3t0b2tlbjoiY29tbWVudC5lbmQiLHJlZ2V4OiJcXCpcXC8iLG5leHQ6InN0YXJ0In0se2RlZmF1bHRUb2tlbjoiY29tbWVudCJ9XX19O3IuaW5oZXJpdHMoaSxvKSx0Lkpzb25IaWdobGlnaHRSdWxlcz1pfSkpLGFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwoZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lKCIuLi9yYW5nZSIpLlJhbmdlLG89ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe3RoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuISEvXlxzKyQvLnRlc3QoZSkmJi9eXHMqXH0vLnRlc3QodCl9LHRoaXMuYXV0b091dGRlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldExpbmUodCkubWF0Y2goL14oXHMqXH0pLyk7aWYoIW4pcmV0dXJuIDA7dmFyIG89blsxXS5sZW5ndGgsaT1lLmZpbmRNYXRjaGluZ0JyYWNrZXQoe3Jvdzp0LGNvbHVtbjpvfSk7aWYoIWl8fGkucm93PT10KXJldHVybiAwO3ZhciBhPXRoaXMuJGdldEluZGVudChlLmdldExpbmUoaS5yb3cpKTtlLnJlcGxhY2UobmV3IHIodCwwLHQsby0xKSxhKX0sdGhpcy4kZ2V0SW5kZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hdGNoKC9eXHMqLylbMF19fSkuY2FsbChvLnByb3RvdHlwZSksdC5NYXRjaGluZ0JyYWNlT3V0ZGVudD1vfSkpLGFjZS5kZWZpbmUoImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvcmFuZ2UiLCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZSJdLChmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPWUoIi4uLy4uL2xpYi9vb3AiKSxvPWUoIi4uLy4uL3JhbmdlIikuUmFuZ2UsaT1lKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlLGE9dC5Gb2xkTW9kZT1mdW5jdGlvbihlKXtlJiYodGhpcy5mb2xkaW5nU3RhcnRNYXJrZXI9bmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywifCIrZS5zdGFydCkpLHRoaXMuZm9sZGluZ1N0b3BNYXJrZXI9bmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cfFtefF0qPyQvLCJ8IitlLmVuZCkpKX07ci5pbmhlcml0cyhhLGkpLGZ1bmN0aW9uKCl7dGhpcy5mb2xkaW5nU3RhcnRNYXJrZXI9LyhbXHtcW1woXSlbXlx9XF1cKV0qJHxeXHMqKFwvXCopLyx0aGlzLmZvbGRpbmdTdG9wTWFya2VyPS9eW15cW1x7XChdKihbXH1cXVwpXSl8Xltcc1wqXSooXCpcLykvLHRoaXMuc2luZ2xlTGluZUJsb2NrQ29tbWVudFJlPS9eXHMqKFwvXCopLipcKlwvXHMqJC8sdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmU9L15ccyooXC9cKlwqXCopLipcKlwvXHMqJC8sdGhpcy5zdGFydFJlZ2lvblJlPS9eXHMqKFwvXCp8XC9cLykjP3JlZ2lvblxiLyx0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZT10aGlzLmdldEZvbGRXaWRnZXQsdGhpcy5nZXRGb2xkV2lkZ2V0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1lLmdldExpbmUobik7aWYodGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmUudGVzdChyKSYmIXRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KHIpJiYhdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUudGVzdChyKSlyZXR1cm4iIjt2YXIgbz10aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZShlLHQsbik7cmV0dXJuIW8mJnRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KHIpPyJzdGFydCI6b30sdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2U9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5nZXRMaW5lKG4pO2lmKHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KG8pKXJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhlLG8sbik7dmFyIGk9by5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7aWYoaSl7dmFyIGE9aS5pbmRleDtpZihpWzFdKXJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soZSxpWzFdLG4sYSk7dmFyIHM9ZS5nZXRDb21tZW50Rm9sZFJhbmdlKG4sYStpWzBdLmxlbmd0aCwxKTtyZXR1cm4gcyYmIXMuaXNNdWx0aUxpbmUoKSYmKHI/cz10aGlzLmdldFNlY3Rpb25SYW5nZShlLG4pOiJhbGwiIT10JiYocz1udWxsKSksc31yZXR1cm4ibWFya2JlZ2luIiE9PXQmJihpPW8ubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcikpPyhhPWkuaW5kZXgraVswXS5sZW5ndGgsaVsxXT90aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soZSxpWzFdLG4sYSk6ZS5nZXRDb21tZW50Rm9sZFJhbmdlKG4sYSwtMSkpOnZvaWQgMH0sdGhpcy5nZXRTZWN0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5nZXRMaW5lKHQpLHI9bi5zZWFyY2goL1xTLyksaT10LGE9bi5sZW5ndGgscz10Kz0xLGw9ZS5nZXRMZW5ndGgoKTsrK3Q8bDspe3ZhciBjPShuPWUuZ2V0TGluZSh0KSkuc2VhcmNoKC9cUy8pO2lmKC0xIT09Yyl7aWYocj5jKWJyZWFrO3ZhciB1PXRoaXMuZ2V0Rm9sZFdpZGdldFJhbmdlKGUsImFsbCIsdCk7aWYodSl7aWYodS5zdGFydC5yb3c8PWkpYnJlYWs7aWYodS5pc011bHRpTGluZSgpKXQ9dS5lbmQucm93O2Vsc2UgaWYocj09YylicmVha31zPXR9fXJldHVybiBuZXcgbyhpLGEscyxlLmdldExpbmUocykubGVuZ3RoKX0sdGhpcy5nZXRDb21tZW50UmVnaW9uQmxvY2s9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj10LnNlYXJjaCgvXHMqJC8pLGk9ZS5nZXRMZW5ndGgoKSxhPW4scz0vXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLyxsPTE7KytuPGk7KXt0PWUuZ2V0TGluZShuKTt2YXIgYz1zLmV4ZWModCk7aWYoYyYmKGNbMV0/bC0tOmwrKywhbCkpYnJlYWt9aWYobj5hKXJldHVybiBuZXcgbyhhLHIsbix0Lmxlbmd0aCl9fS5jYWxsKGEucHJvdG90eXBlKX0pKSxhY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sKGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG89ZSgiLi4vbGliL29vcCIpLGk9ZSgiLi90ZXh0IikuTW9kZSxhPWUoIi4vanNvbl9oaWdobGlnaHRfcnVsZXMiKS5Kc29uSGlnaGxpZ2h0UnVsZXMscz1lKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudCxsPWUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cixjPWUoIi4vZm9sZGluZy9jc3R5bGUiKS5Gb2xkTW9kZSx1PWUoIi4uL3dvcmtlci93b3JrZXJfY2xpZW50IikuV29ya2VyQ2xpZW50LGQ9ZnVuY3Rpb24oKXt0aGlzLkhpZ2hsaWdodFJ1bGVzPWEsdGhpcy4kb3V0ZGVudD1uZXcgcyx0aGlzLiRiZWhhdmlvdXI9bmV3IGwsdGhpcy5mb2xkaW5nUnVsZXM9bmV3IGN9O28uaW5oZXJpdHMoZCxpKSxmdW5jdGlvbigpe3RoaXMuZ2V0TmV4dExpbmVJbmRlbnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMuJGdldEluZGVudCh0KTsic3RhcnQiPT1lJiYodC5tYXRjaCgvXi4qW1x7XChcW11ccyokLykmJihyKz1uKSk7cmV0dXJuIHJ9LHRoaXMuY2hlY2tPdXRkZW50PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy4kb3V0ZGVudC5jaGVja091dGRlbnQodCxuKX0sdGhpcy5hdXRvT3V0ZGVudD1mdW5jdGlvbihlLHQsbil7dGhpcy4kb3V0ZGVudC5hdXRvT3V0ZGVudCh0LG4pfSx0aGlzLmNyZWF0ZVdvcmtlcj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgdShbImFjZSJdLG4oImU4ZmYiKSwiSnNvbldvcmtlciIpO3JldHVybiB0LmF0dGFjaFRvRG9jdW1lbnQoZS5nZXREb2N1bWVudCgpKSx0Lm9uKCJhbm5vdGF0ZSIsKGZ1bmN0aW9uKHQpe2Uuc2V0QW5ub3RhdGlvbnModC5kYXRhKX0pKSx0Lm9uKCJ0ZXJtaW5hdGUiLChmdW5jdGlvbigpe2UuY2xlYXJBbm5vdGF0aW9ucygpfSkpLHR9LHRoaXMuJGlkPSJhY2UvbW9kZS9qc29uIn0uY2FsbChkLnByb3RvdHlwZSksdC5Nb2RlPWR9KSl9LGU4ZmY6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHMuaWQ9ImFjZS9tb2RlL2pzb25fd29ya2VyIixlLmV4cG9ydHMuc3JjPScibm8gdXNlIHN0cmljdCI7IWZ1bmN0aW9uKHdpbmRvdyl7ZnVuY3Rpb24gcmVzb2x2ZU1vZHVsZUlkKGlkLHBhdGhzKXtmb3IodmFyIHRlc3RQYXRoPWlkLHRhaWw9IiI7dGVzdFBhdGg7KXt2YXIgYWxpYXM9cGF0aHNbdGVzdFBhdGhdO2lmKCJzdHJpbmciPT10eXBlb2YgYWxpYXMpcmV0dXJuIGFsaWFzK3RhaWw7aWYoYWxpYXMpcmV0dXJuIGFsaWFzLmxvY2F0aW9uLnJlcGxhY2UoL1xcLyokLywiLyIpKyh0YWlsfHxhbGlhcy5tYWlufHxhbGlhcy5uYW1lKTtpZihhbGlhcz09PSExKXJldHVybiIiO3ZhciBpPXRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7aWYoLTE9PT1pKWJyZWFrO3RhaWw9dGVzdFBhdGguc3Vic3RyKGkpK3RhaWwsdGVzdFBhdGg9dGVzdFBhdGguc2xpY2UoMCxpKX1yZXR1cm4gaWR9aWYoISh2b2lkIDAhPT13aW5kb3cud2luZG93JiZ3aW5kb3cuZG9jdW1lbnR8fHdpbmRvdy5hY2VxdWlyZSYmd2luZG93LmRlZmluZSkpe3dpbmRvdy5jb25zb2xlfHwod2luZG93LmNvbnNvbGU9ZnVuY3Rpb24oKXt2YXIgbXNncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cG9zdE1lc3NhZ2Uoe3R5cGU6ImxvZyIsZGF0YTptc2dzfSl9LHdpbmRvdy5jb25zb2xlLmVycm9yPXdpbmRvdy5jb25zb2xlLndhcm49d2luZG93LmNvbnNvbGUubG9nPXdpbmRvdy5jb25zb2xlLnRyYWNlPXdpbmRvdy5jb25zb2xlKSx3aW5kb3cud2luZG93PXdpbmRvdyx3aW5kb3cuYWNlPXdpbmRvdyx3aW5kb3cub25lcnJvcj1mdW5jdGlvbihtZXNzYWdlLGZpbGUsbGluZSxjb2wsZXJyKXtwb3N0TWVzc2FnZSh7dHlwZToiZXJyb3IiLGRhdGE6e21lc3NhZ2U6bWVzc2FnZSxkYXRhOmVyci5kYXRhLGZpbGU6ZmlsZSxsaW5lOmxpbmUsY29sOmNvbCxzdGFjazplcnIuc3RhY2t9fSl9LHdpbmRvdy5ub3JtYWxpemVNb2R1bGU9ZnVuY3Rpb24ocGFyZW50SWQsbW9kdWxlTmFtZSl7aWYoLTEhPT1tb2R1bGVOYW1lLmluZGV4T2YoIiEiKSl7dmFyIGNodW5rcz1tb2R1bGVOYW1lLnNwbGl0KCIhIik7cmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsY2h1bmtzWzBdKSsiISIrd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCxjaHVua3NbMV0pfWlmKCIuIj09bW9kdWxlTmFtZS5jaGFyQXQoMCkpe3ZhciBiYXNlPXBhcmVudElkLnNwbGl0KCIvIikuc2xpY2UoMCwtMSkuam9pbigiLyIpO2Zvcihtb2R1bGVOYW1lPShiYXNlP2Jhc2UrIi8iOiIiKSttb2R1bGVOYW1lOy0xIT09bW9kdWxlTmFtZS5pbmRleE9mKCIuIikmJnByZXZpb3VzIT1tb2R1bGVOYW1lOyl7dmFyIHByZXZpb3VzPW1vZHVsZU5hbWU7bW9kdWxlTmFtZT1tb2R1bGVOYW1lLnJlcGxhY2UoL15cXC5cXC8vLCIiKS5yZXBsYWNlKC9cXC9cXC5cXC8vLCIvIikucmVwbGFjZSgvW15cXC9dK1xcL1xcLlxcLlxcLy8sIiIpfX1yZXR1cm4gbW9kdWxlTmFtZX0sd2luZG93LmFjZXF1aXJlPWZ1bmN0aW9uIGFjZXF1aXJlKHBhcmVudElkLGlkKXtpZihpZHx8KGlkPXBhcmVudElkLHBhcmVudElkPW51bGwpLCFpZC5jaGFyQXQpdGhyb3cgRXJyb3IoIndvcmtlci5qcyBhY2VxdWlyZSgpIGFjY2VwdHMgb25seSAocGFyZW50SWQsIGlkKSBhcyBhcmd1bWVudHMiKTtpZD13aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLGlkKTt2YXIgbW9kdWxlPXdpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXTtpZihtb2R1bGUpcmV0dXJuIG1vZHVsZS5pbml0aWFsaXplZHx8KG1vZHVsZS5pbml0aWFsaXplZD0hMCxtb2R1bGUuZXhwb3J0cz1tb2R1bGUuZmFjdG9yeSgpLmV4cG9ydHMpLG1vZHVsZS5leHBvcnRzO2lmKCF3aW5kb3cuYWNlcXVpcmUudGxucylyZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIraWQpO3ZhciBwYXRoPXJlc29sdmVNb2R1bGVJZChpZCx3aW5kb3cuYWNlcXVpcmUudGxucyk7cmV0dXJuIi5qcyIhPXBhdGguc2xpY2UoLTMpJiYocGF0aCs9Ii5qcyIpLHdpbmRvdy5hY2VxdWlyZS5pZD1pZCx3aW5kb3cuYWNlcXVpcmUubW9kdWxlc1tpZF09e30saW1wb3J0U2NyaXB0cyhwYXRoKSx3aW5kb3cuYWNlcXVpcmUocGFyZW50SWQsaWQpfSx3aW5kb3cuYWNlcXVpcmUubW9kdWxlcz17fSx3aW5kb3cuYWNlcXVpcmUudGxucz17fSx3aW5kb3cuZGVmaW5lPWZ1bmN0aW9uKGlkLGRlcHMsZmFjdG9yeSl7aWYoMj09YXJndW1lbnRzLmxlbmd0aD8oZmFjdG9yeT1kZXBzLCJzdHJpbmciIT10eXBlb2YgaWQmJihkZXBzPWlkLGlkPXdpbmRvdy5hY2VxdWlyZS5pZCkpOjE9PWFyZ3VtZW50cy5sZW5ndGgmJihmYWN0b3J5PWlkLGRlcHM9W10saWQ9d2luZG93LmFjZXF1aXJlLmlkKSwiZnVuY3Rpb24iIT10eXBlb2YgZmFjdG9yeSlyZXR1cm4gd2luZG93LmFjZXF1aXJlLm1vZHVsZXNbaWRdPXtleHBvcnRzOmZhY3RvcnksaW5pdGlhbGl6ZWQ6ITB9LHZvaWQgMDtkZXBzLmxlbmd0aHx8KGRlcHM9WyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdKTt2YXIgcmVxPWZ1bmN0aW9uKGNoaWxkSWQpe3JldHVybiB3aW5kb3cuYWNlcXVpcmUoaWQsY2hpbGRJZCl9O3dpbmRvdy5hY2VxdWlyZS5tb2R1bGVzW2lkXT17ZXhwb3J0czp7fSxmYWN0b3J5OmZ1bmN0aW9uKCl7dmFyIG1vZHVsZT10aGlzLHJldHVybkV4cG9ydHM9ZmFjdG9yeS5hcHBseSh0aGlzLGRlcHMubWFwKGZ1bmN0aW9uKGRlcCl7c3dpdGNoKGRlcCl7Y2FzZSJyZXF1aXJlIjpyZXR1cm4gcmVxO2Nhc2UiZXhwb3J0cyI6cmV0dXJuIG1vZHVsZS5leHBvcnRzO2Nhc2UibW9kdWxlIjpyZXR1cm4gbW9kdWxlO2RlZmF1bHQ6cmV0dXJuIHJlcShkZXApfX0pKTtyZXR1cm4gcmV0dXJuRXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXJldHVybkV4cG9ydHMpLG1vZHVsZX19fSx3aW5kb3cuZGVmaW5lLmFtZD17fSxhY2VxdWlyZS50bG5zPXt9LHdpbmRvdy5pbml0QmFzZVVybHM9ZnVuY3Rpb24odG9wTGV2ZWxOYW1lc3BhY2VzKXtmb3IodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKWFjZXF1aXJlLnRsbnNbaV09dG9wTGV2ZWxOYW1lc3BhY2VzW2ldfSx3aW5kb3cuaW5pdFNlbmRlcj1mdW5jdGlvbigpe3ZhciBFdmVudEVtaXR0ZXI9d2luZG93LmFjZXF1aXJlKCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXIsb29wPXdpbmRvdy5hY2VxdWlyZSgiYWNlL2xpYi9vb3AiKSxTZW5kZXI9ZnVuY3Rpb24oKXt9O3JldHVybiBmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuY2FsbGJhY2s9ZnVuY3Rpb24oZGF0YSxjYWxsYmFja0lkKXtwb3N0TWVzc2FnZSh7dHlwZToiY2FsbCIsaWQ6Y2FsbGJhY2tJZCxkYXRhOmRhdGF9KX0sdGhpcy5lbWl0PWZ1bmN0aW9uKG5hbWUsZGF0YSl7cG9zdE1lc3NhZ2Uoe3R5cGU6ImV2ZW50IixuYW1lOm5hbWUsZGF0YTpkYXRhfSl9fS5jYWxsKFNlbmRlci5wcm90b3R5cGUpLG5ldyBTZW5kZXJ9O3ZhciBtYWluPXdpbmRvdy5tYWluPW51bGwsc2VuZGVyPXdpbmRvdy5zZW5kZXI9bnVsbDt3aW5kb3cub25tZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciBtc2c9ZS5kYXRhO2lmKG1zZy5ldmVudCYmc2VuZGVyKXNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCxtc2cuZGF0YSk7ZWxzZSBpZihtc2cuY29tbWFuZClpZihtYWluW21zZy5jb21tYW5kXSltYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLG1zZy5hcmdzKTtlbHNle2lmKCF3aW5kb3dbbXNnLmNvbW1hbmRdKXRocm93IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6Iittc2cuY29tbWFuZCk7d2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csbXNnLmFyZ3MpfWVsc2UgaWYobXNnLmluaXQpe3dpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpLGFjZXF1aXJlKCJhY2UvbGliL2VzNS1zaGltIiksc2VuZGVyPXdpbmRvdy5zZW5kZXI9d2luZG93LmluaXRTZW5kZXIoKTt2YXIgY2xheno9YWNlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07bWFpbj13aW5kb3cubWFpbj1uZXcgY2xhenooc2VuZGVyKX19fX0odGhpcyksYWNlLmRlZmluZSgiYWNlL2xpYi9vb3AiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXsidXNlIHN0cmljdCI7ZXhwb3J0cy5pbmhlcml0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yLGN0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmN0b3IsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9LGV4cG9ydHMubWl4aW49ZnVuY3Rpb24ob2JqLG1peGluKXtmb3IodmFyIGtleSBpbiBtaXhpbilvYmpba2V5XT1taXhpbltrZXldO3JldHVybiBvYmp9LGV4cG9ydHMuaW1wbGVtZW50PWZ1bmN0aW9uKHByb3RvLG1peGluKXtleHBvcnRzLm1peGluKHByb3RvLG1peGluKX19KSxhY2UuZGVmaW5lKCJhY2UvcmFuZ2UiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIGNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxSYW5nZT1mdW5jdGlvbihzdGFydFJvdyxzdGFydENvbHVtbixlbmRSb3csZW5kQ29sdW1uKXt0aGlzLnN0YXJ0PXtyb3c6c3RhcnRSb3csY29sdW1uOnN0YXJ0Q29sdW1ufSx0aGlzLmVuZD17cm93OmVuZFJvdyxjb2x1bW46ZW5kQ29sdW1ufX07KGZ1bmN0aW9uKCl7dGhpcy5pc0VxdWFsPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5zdGFydC5yb3c9PT1yYW5nZS5zdGFydC5yb3cmJnRoaXMuZW5kLnJvdz09PXJhbmdlLmVuZC5yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT09cmFuZ2Uuc3RhcnQuY29sdW1uJiZ0aGlzLmVuZC5jb2x1bW49PT1yYW5nZS5lbmQuY29sdW1ufSx0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIlJhbmdlOiBbIit0aGlzLnN0YXJ0LnJvdysiLyIrdGhpcy5zdGFydC5jb2x1bW4rIl0gLT4gWyIrdGhpcy5lbmQucm93KyIvIit0aGlzLmVuZC5jb2x1bW4rIl0ifSx0aGlzLmNvbnRhaW5zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbil9LHRoaXMuY29tcGFyZVJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wLGVuZD1yYW5nZS5lbmQsc3RhcnQ9cmFuZ2Uuc3RhcnQ7cmV0dXJuIGNtcD10aGlzLmNvbXBhcmUoZW5kLnJvdyxlbmQuY29sdW1uKSwxPT1jbXA/KGNtcD10aGlzLmNvbXBhcmUoc3RhcnQucm93LHN0YXJ0LmNvbHVtbiksMT09Y21wPzI6MD09Y21wPzE6MCk6LTE9PWNtcD8tMjooY21wPXRoaXMuY29tcGFyZShzdGFydC5yb3csc3RhcnQuY29sdW1uKSwtMT09Y21wPy0xOjE9PWNtcD80MjowKX0sdGhpcy5jb21wYXJlUG9pbnQ9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdyxwLmNvbHVtbil9LHRoaXMuY29udGFpbnNSYW5nZT1mdW5jdGlvbihyYW5nZSl7cmV0dXJuIDA9PXRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSYmMD09dGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKX0sdGhpcy5pbnRlcnNlY3RzPWZ1bmN0aW9uKHJhbmdlKXt2YXIgY21wPXRoaXMuY29tcGFyZVJhbmdlKHJhbmdlKTtyZXR1cm4tMT09Y21wfHwwPT1jbXB8fDE9PWNtcH0sdGhpcy5pc0VuZD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gdGhpcy5lbmQucm93PT1yb3cmJnRoaXMuZW5kLmNvbHVtbj09Y29sdW1ufSx0aGlzLmlzU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW59LHRoaXMuc2V0U3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7Im9iamVjdCI9PXR5cGVvZiByb3c/KHRoaXMuc3RhcnQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5zdGFydC5yb3c9cm93LnJvdyk6KHRoaXMuc3RhcnQucm93PXJvdyx0aGlzLnN0YXJ0LmNvbHVtbj1jb2x1bW4pfSx0aGlzLnNldEVuZD1mdW5jdGlvbihyb3csY29sdW1uKXsib2JqZWN0Ij09dHlwZW9mIHJvdz8odGhpcy5lbmQuY29sdW1uPXJvdy5jb2x1bW4sdGhpcy5lbmQucm93PXJvdy5yb3cpOih0aGlzLmVuZC5yb3c9cm93LHRoaXMuZW5kLmNvbHVtbj1jb2x1bW4pfSx0aGlzLmluc2lkZT1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbil8fHRoaXMuaXNTdGFydChyb3csY29sdW1uKT8hMTohMDohMX0sdGhpcy5pbnNpZGVTdGFydD1mdW5jdGlvbihyb3csY29sdW1uKXtyZXR1cm4gMD09dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pP3RoaXMuaXNFbmQocm93LGNvbHVtbik/ITE6ITA6ITF9LHRoaXMuaW5zaWRlRW5kPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiAwPT10aGlzLmNvbXBhcmUocm93LGNvbHVtbik/dGhpcy5pc1N0YXJ0KHJvdyxjb2x1bW4pPyExOiEwOiExfSx0aGlzLmNvbXBhcmU9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuaXNNdWx0aUxpbmUoKXx8cm93IT09dGhpcy5zdGFydC5yb3c/dGhpcy5zdGFydC5yb3c+cm93Py0xOnJvdz50aGlzLmVuZC5yb3c/MTp0aGlzLnN0YXJ0LnJvdz09PXJvdz9jb2x1bW4+PXRoaXMuc3RhcnQuY29sdW1uPzA6LTE6dGhpcy5lbmQucm93PT09cm93P3RoaXMuZW5kLmNvbHVtbj49Y29sdW1uPzA6MTowOnRoaXMuc3RhcnQuY29sdW1uPmNvbHVtbj8tMTpjb2x1bW4+dGhpcy5lbmQuY29sdW1uPzE6MH0sdGhpcy5jb21wYXJlU3RhcnQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuc3RhcnQucm93PT1yb3cmJnRoaXMuc3RhcnQuY29sdW1uPT1jb2x1bW4/LTE6dGhpcy5jb21wYXJlKHJvdyxjb2x1bW4pfSx0aGlzLmNvbXBhcmVFbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJuIHRoaXMuZW5kLnJvdz09cm93JiZ0aGlzLmVuZC5jb2x1bW49PWNvbHVtbj8xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jb21wYXJlSW5zaWRlPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiB0aGlzLmVuZC5yb3c9PXJvdyYmdGhpcy5lbmQuY29sdW1uPT1jb2x1bW4/MTp0aGlzLnN0YXJ0LnJvdz09cm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09Y29sdW1uPy0xOnRoaXMuY29tcGFyZShyb3csY29sdW1uKX0sdGhpcy5jbGlwUm93cz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtpZih0aGlzLmVuZC5yb3c+bGFzdFJvdyl2YXIgZW5kPXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuZW5kLnJvdyl2YXIgZW5kPXtyb3c6Zmlyc3RSb3csY29sdW1uOjB9O2lmKHRoaXMuc3RhcnQucm93Pmxhc3RSb3cpdmFyIHN0YXJ0PXtyb3c6bGFzdFJvdysxLGNvbHVtbjowfTtlbHNlIGlmKGZpcnN0Um93PnRoaXMuc3RhcnQucm93KXZhciBzdGFydD17cm93OmZpcnN0Um93LGNvbHVtbjowfTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5leHRlbmQ9ZnVuY3Rpb24ocm93LGNvbHVtbil7dmFyIGNtcD10aGlzLmNvbXBhcmUocm93LGNvbHVtbik7aWYoMD09Y21wKXJldHVybiB0aGlzO2lmKC0xPT1jbXApdmFyIHN0YXJ0PXtyb3c6cm93LGNvbHVtbjpjb2x1bW59O2Vsc2UgdmFyIGVuZD17cm93OnJvdyxjb2x1bW46Y29sdW1ufTtyZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyhzdGFydHx8dGhpcy5zdGFydCxlbmR8fHRoaXMuZW5kKX0sdGhpcy5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQucm93PT09dGhpcy5lbmQucm93JiZ0aGlzLnN0YXJ0LmNvbHVtbj09PXRoaXMuZW5kLmNvbHVtbn0sdGhpcy5pc011bHRpTGluZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LnJvdyE9PXRoaXMuZW5kLnJvd30sdGhpcy5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsdGhpcy5lbmQpfSx0aGlzLmNvbGxhcHNlUm93cz1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmVuZC5jb2x1bW4/bmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LDAsTWF0aC5tYXgodGhpcy5zdGFydC5yb3csdGhpcy5lbmQucm93LTEpLDApOm5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywwLHRoaXMuZW5kLnJvdywwKX0sdGhpcy50b1NjcmVlblJhbmdlPWZ1bmN0aW9uKHNlc3Npb24pe3ZhciBzY3JlZW5Qb3NTdGFydD1zZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLnN0YXJ0KSxzY3JlZW5Qb3NFbmQ9c2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5lbmQpO3JldHVybiBuZXcgUmFuZ2Uoc2NyZWVuUG9zU3RhcnQucm93LHNjcmVlblBvc1N0YXJ0LmNvbHVtbixzY3JlZW5Qb3NFbmQucm93LHNjcmVlblBvc0VuZC5jb2x1bW4pfSx0aGlzLm1vdmVCeT1mdW5jdGlvbihyb3csY29sdW1uKXt0aGlzLnN0YXJ0LnJvdys9cm93LHRoaXMuc3RhcnQuY29sdW1uKz1jb2x1bW4sdGhpcy5lbmQucm93Kz1yb3csdGhpcy5lbmQuY29sdW1uKz1jb2x1bW59fSkuY2FsbChSYW5nZS5wcm90b3R5cGUpLFJhbmdlLmZyb21Qb2ludHM9ZnVuY3Rpb24oc3RhcnQsZW5kKXtyZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdyxzdGFydC5jb2x1bW4sZW5kLnJvdyxlbmQuY29sdW1uKX0sUmFuZ2UuY29tcGFyZVBvaW50cz1jb21wYXJlUG9pbnRzLFJhbmdlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24ocDEscDIpe3JldHVybiBwMS5yb3ctcDIucm93fHxwMS5jb2x1bW4tcDIuY29sdW1ufSxleHBvcnRzLlJhbmdlPVJhbmdlfSksYWNlLmRlZmluZSgiYWNlL2FwcGx5X2RlbHRhIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO2V4cG9ydHMuYXBwbHlEZWx0YT1mdW5jdGlvbihkb2NMaW5lcyxkZWx0YSl7dmFyIHJvdz1kZWx0YS5zdGFydC5yb3csc3RhcnRDb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGxpbmU9ZG9jTGluZXNbcm93XXx8IiI7c3dpdGNoKGRlbHRhLmFjdGlvbil7Y2FzZSJpbnNlcnQiOnZhciBsaW5lcz1kZWx0YS5saW5lcztpZigxPT09bGluZXMubGVuZ3RoKWRvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrZGVsdGEubGluZXNbMF0rbGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pO2Vsc2V7dmFyIGFyZ3M9W3JvdywxXS5jb25jYXQoZGVsdGEubGluZXMpO2RvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcyxhcmdzKSxkb2NMaW5lc1tyb3ddPWxpbmUuc3Vic3RyaW5nKDAsc3RhcnRDb2x1bW4pK2RvY0xpbmVzW3Jvd10sZG9jTGluZXNbcm93K2RlbHRhLmxpbmVzLmxlbmd0aC0xXSs9bGluZS5zdWJzdHJpbmcoc3RhcnRDb2x1bW4pfWJyZWFrO2Nhc2UicmVtb3ZlIjp2YXIgZW5kQ29sdW1uPWRlbHRhLmVuZC5jb2x1bW4sZW5kUm93PWRlbHRhLmVuZC5yb3c7cm93PT09ZW5kUm93P2RvY0xpbmVzW3Jvd109bGluZS5zdWJzdHJpbmcoMCxzdGFydENvbHVtbikrbGluZS5zdWJzdHJpbmcoZW5kQ29sdW1uKTpkb2NMaW5lcy5zcGxpY2Uocm93LGVuZFJvdy1yb3crMSxsaW5lLnN1YnN0cmluZygwLHN0YXJ0Q29sdW1uKStkb2NMaW5lc1tlbmRSb3ddLnN1YnN0cmluZyhlbmRDb2x1bW4pKX19fSksYWNlLmRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBFdmVudEVtaXR0ZXI9e30sc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7dGhpcy5wcm9wYWdhdGlvblN0b3BwZWQ9ITB9LHByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfTtFdmVudEVtaXR0ZXIuX2VtaXQ9RXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKGV2ZW50TmFtZSxlKXt0aGlzLl9ldmVudFJlZ2lzdHJ5fHwodGhpcy5fZXZlbnRSZWdpc3RyeT17fSksdGhpcy5fZGVmYXVsdEhhbmRsZXJzfHwodGhpcy5fZGVmYXVsdEhhbmRsZXJzPXt9KTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXXx8W10sZGVmYXVsdEhhbmRsZXI9dGhpcy5fZGVmYXVsdEhhbmRsZXJzW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzLmxlbmd0aHx8ZGVmYXVsdEhhbmRsZXIpeyJvYmplY3QiPT10eXBlb2YgZSYmZXx8KGU9e30pLGUudHlwZXx8KGUudHlwZT1ldmVudE5hbWUpLGUuc3RvcFByb3BhZ2F0aW9ufHwoZS5zdG9wUHJvcGFnYXRpb249c3RvcFByb3BhZ2F0aW9uKSxlLnByZXZlbnREZWZhdWx0fHwoZS5wcmV2ZW50RGVmYXVsdD1wcmV2ZW50RGVmYXVsdCksbGlzdGVuZXJzPWxpc3RlbmVycy5zbGljZSgpO2Zvcih2YXIgaT0wO2xpc3RlbmVycy5sZW5ndGg+aSYmKGxpc3RlbmVyc1tpXShlLHRoaXMpLCFlLnByb3BhZ2F0aW9uU3RvcHBlZCk7aSsrKTtyZXR1cm4gZGVmYXVsdEhhbmRsZXImJiFlLmRlZmF1bHRQcmV2ZW50ZWQ/ZGVmYXVsdEhhbmRsZXIoZSx0aGlzKTp2b2lkIDB9fSxFdmVudEVtaXR0ZXIuX3NpZ25hbD1mdW5jdGlvbihldmVudE5hbWUsZSl7dmFyIGxpc3RlbmVycz0odGhpcy5fZXZlbnRSZWdpc3RyeXx8e30pW2V2ZW50TmFtZV07aWYobGlzdGVuZXJzKXtsaXN0ZW5lcnM9bGlzdGVuZXJzLnNsaWNlKCk7Zm9yKHZhciBpPTA7bGlzdGVuZXJzLmxlbmd0aD5pO2krKylsaXN0ZW5lcnNbaV0oZSx0aGlzKX19LEV2ZW50RW1pdHRlci5vbmNlPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dmFyIF9zZWxmPXRoaXM7Y2FsbGJhY2smJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsZnVuY3Rpb24gbmV3Q2FsbGJhY2soKXtfc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSxuZXdDYWxsYmFjayksY2FsbGJhY2suYXBwbHkobnVsbCxhcmd1bWVudHMpfSl9LEV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnN8fChoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM9e19kaXNhYmxlZF86e319KSxoYW5kbGVyc1tldmVudE5hbWVdKXt2YXIgb2xkPWhhbmRsZXJzW2V2ZW50TmFtZV0sZGlzYWJsZWQ9aGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdO2Rpc2FibGVkfHwoaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdPWRpc2FibGVkPVtdKSxkaXNhYmxlZC5wdXNoKG9sZCk7dmFyIGk9ZGlzYWJsZWQuaW5kZXhPZihjYWxsYmFjayk7LTEhPWkmJmRpc2FibGVkLnNwbGljZShpLDEpfWhhbmRsZXJzW2V2ZW50TmFtZV09Y2FsbGJhY2t9LEV2ZW50RW1pdHRlci5yZW1vdmVEZWZhdWx0SGFuZGxlcj1mdW5jdGlvbihldmVudE5hbWUsY2FsbGJhY2spe3ZhciBoYW5kbGVycz10aGlzLl9kZWZhdWx0SGFuZGxlcnM7aWYoaGFuZGxlcnMpe3ZhciBkaXNhYmxlZD1oYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07aWYoaGFuZGxlcnNbZXZlbnROYW1lXT09Y2FsbGJhY2spaGFuZGxlcnNbZXZlbnROYW1lXSxkaXNhYmxlZCYmdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsZGlzYWJsZWQucG9wKCkpO2Vsc2UgaWYoZGlzYWJsZWQpe3ZhciBpPWRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOy0xIT1pJiZkaXNhYmxlZC5zcGxpY2UoaSwxKX19fSxFdmVudEVtaXR0ZXIub249RXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZXZlbnROYW1lLGNhbGxiYWNrLGNhcHR1cmluZyl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtyZXR1cm4gbGlzdGVuZXJzfHwobGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXT1bXSksLTE9PWxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSYmbGlzdGVuZXJzW2NhcHR1cmluZz8idW5zaGlmdCI6InB1c2giXShjYWxsYmFjayksY2FsbGJhY2t9LEV2ZW50RW1pdHRlci5vZmY9RXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyPUV2ZW50RW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGV2ZW50TmFtZSxjYWxsYmFjayl7dGhpcy5fZXZlbnRSZWdpc3RyeT10aGlzLl9ldmVudFJlZ2lzdHJ5fHx7fTt2YXIgbGlzdGVuZXJzPXRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTtpZihsaXN0ZW5lcnMpe3ZhciBpbmRleD1saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7LTEhPT1pbmRleCYmbGlzdGVuZXJzLnNwbGljZShpbmRleCwxKX19LEV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZXZlbnROYW1lKXt0aGlzLl9ldmVudFJlZ2lzdHJ5JiYodGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdPVtdKX0sZXhwb3J0cy5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyfSksYWNlLmRlZmluZSgiYWNlL2FuY2hvciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL2xpYi9ldmVudF9lbWl0dGVyIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBvb3A9YWNlcXVpcmUoIi4vbGliL29vcCIpLEV2ZW50RW1pdHRlcj1hY2VxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixBbmNob3I9ZXhwb3J0cy5BbmNob3I9ZnVuY3Rpb24oZG9jLHJvdyxjb2x1bW4pe3RoaXMuJG9uQ2hhbmdlPXRoaXMub25DaGFuZ2UuYmluZCh0aGlzKSx0aGlzLmF0dGFjaChkb2MpLGNvbHVtbj09PXZvaWQgMD90aGlzLnNldFBvc2l0aW9uKHJvdy5yb3cscm93LmNvbHVtbik6dGhpcy5zZXRQb3NpdGlvbihyb3csY29sdW1uKX07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLHBvaW50MixlcXVhbFBvaW50c0luT3JkZXIpe3ZhciBiQ29sSXNBZnRlcj1lcXVhbFBvaW50c0luT3JkZXI/cG9pbnQxLmNvbHVtbjw9cG9pbnQyLmNvbHVtbjpwb2ludDEuY29sdW1uPHBvaW50Mi5jb2x1bW47cmV0dXJuIHBvaW50MS5yb3c8cG9pbnQyLnJvd3x8cG9pbnQxLnJvdz09cG9pbnQyLnJvdyYmYkNvbElzQWZ0ZXJ9ZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEscG9pbnQsbW92ZUlmRXF1YWwpe3ZhciBkZWx0YUlzSW5zZXJ0PSJpbnNlcnQiPT1kZWx0YS5hY3Rpb24sZGVsdGFSb3dTaGlmdD0oZGVsdGFJc0luc2VydD8xOi0xKSooZGVsdGEuZW5kLnJvdy1kZWx0YS5zdGFydC5yb3cpLGRlbHRhQ29sU2hpZnQ9KGRlbHRhSXNJbnNlcnQ/MTotMSkqKGRlbHRhLmVuZC5jb2x1bW4tZGVsdGEuc3RhcnQuY29sdW1uKSxkZWx0YVN0YXJ0PWRlbHRhLnN0YXJ0LGRlbHRhRW5kPWRlbHRhSXNJbnNlcnQ/ZGVsdGFTdGFydDpkZWx0YS5lbmQ7cmV0dXJuICRwb2ludHNJbk9yZGVyKHBvaW50LGRlbHRhU3RhcnQsbW92ZUlmRXF1YWwpP3tyb3c6cG9pbnQucm93LGNvbHVtbjpwb2ludC5jb2x1bW59OiRwb2ludHNJbk9yZGVyKGRlbHRhRW5kLHBvaW50LCFtb3ZlSWZFcXVhbCk/e3Jvdzpwb2ludC5yb3crZGVsdGFSb3dTaGlmdCxjb2x1bW46cG9pbnQuY29sdW1uKyhwb2ludC5yb3c9PWRlbHRhRW5kLnJvdz9kZWx0YUNvbFNoaWZ0OjApfTp7cm93OmRlbHRhU3RhcnQucm93LGNvbHVtbjpkZWx0YVN0YXJ0LmNvbHVtbn19b29wLmltcGxlbWVudCh0aGlzLEV2ZW50RW1pdHRlciksdGhpcy5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHRoaXMucm93LHRoaXMuY29sdW1uKX0sdGhpcy5nZXREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50fSx0aGlzLiRpbnNlcnRSaWdodD0hMSx0aGlzLm9uQ2hhbmdlPWZ1bmN0aW9uKGRlbHRhKXtpZighKGRlbHRhLnN0YXJ0LnJvdz09ZGVsdGEuZW5kLnJvdyYmZGVsdGEuc3RhcnQucm93IT10aGlzLnJvd3x8ZGVsdGEuc3RhcnQucm93PnRoaXMucm93KSl7dmFyIHBvaW50PSRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLHtyb3c6dGhpcy5yb3csY29sdW1uOnRoaXMuY29sdW1ufSx0aGlzLiRpbnNlcnRSaWdodCk7dGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3cscG9pbnQuY29sdW1uLCEwKX19LHRoaXMuc2V0UG9zaXRpb249ZnVuY3Rpb24ocm93LGNvbHVtbixub0NsaXApe3ZhciBwb3M7aWYocG9zPW5vQ2xpcD97cm93OnJvdyxjb2x1bW46Y29sdW1ufTp0aGlzLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50KHJvdyxjb2x1bW4pLHRoaXMucm93IT1wb3Mucm93fHx0aGlzLmNvbHVtbiE9cG9zLmNvbHVtbil7dmFyIG9sZD17cm93OnRoaXMucm93LGNvbHVtbjp0aGlzLmNvbHVtbn07dGhpcy5yb3c9cG9zLnJvdyx0aGlzLmNvbHVtbj1wb3MuY29sdW1uLHRoaXMuX3NpZ25hbCgiY2hhbmdlIix7b2xkOm9sZCx2YWx1ZTpwb3N9KX19LHRoaXMuZGV0YWNoPWZ1bmN0aW9uKCl7dGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy5hdHRhY2g9ZnVuY3Rpb24oZG9jKXt0aGlzLmRvY3VtZW50PWRvY3x8dGhpcy5kb2N1bWVudCx0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLHRoaXMuJG9uQ2hhbmdlKX0sdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudD1mdW5jdGlvbihyb3csY29sdW1uKXt2YXIgcG9zPXt9O3JldHVybiByb3c+PXRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCk/KHBvcy5yb3c9TWF0aC5tYXgoMCx0aGlzLmRvY3VtZW50LmdldExlbmd0aCgpLTEpLHBvcy5jb2x1bW49dGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCk6MD5yb3c/KHBvcy5yb3c9MCxwb3MuY29sdW1uPTApOihwb3Mucm93PXJvdyxwb3MuY29sdW1uPU1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsTWF0aC5tYXgoMCxjb2x1bW4pKSksMD5jb2x1bW4mJihwb3MuY29sdW1uPTApLHBvc319KS5jYWxsKEFuY2hvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZSgiYWNlL2RvY3VtZW50IixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvYXBwbHlfZGVsdGEiLCJhY2UvbGliL2V2ZW50X2VtaXR0ZXIiLCJhY2UvcmFuZ2UiLCJhY2UvYW5jaG9yIl0sZnVuY3Rpb24oYWNlcXVpcmUsZXhwb3J0cyl7InVzZSBzdHJpY3QiO3ZhciBvb3A9YWNlcXVpcmUoIi4vbGliL29vcCIpLGFwcGx5RGVsdGE9YWNlcXVpcmUoIi4vYXBwbHlfZGVsdGEiKS5hcHBseURlbHRhLEV2ZW50RW1pdHRlcj1hY2VxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcixSYW5nZT1hY2VxdWlyZSgiLi9yYW5nZSIpLlJhbmdlLEFuY2hvcj1hY2VxdWlyZSgiLi9hbmNob3IiKS5BbmNob3IsRG9jdW1lbnQ9ZnVuY3Rpb24odGV4dE9yTGluZXMpe3RoaXMuJGxpbmVzPVsiIl0sMD09PXRleHRPckxpbmVzLmxlbmd0aD90aGlzLiRsaW5lcz1bIiJdOkFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpP3RoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyk6dGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0T3JMaW5lcyl9OyhmdW5jdGlvbigpe29vcC5pbXBsZW1lbnQodGhpcyxFdmVudEVtaXR0ZXIpLHRoaXMuc2V0VmFsdWU9ZnVuY3Rpb24odGV4dCl7dmFyIGxlbj10aGlzLmdldExlbmd0aCgpLTE7dGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsMCxsZW4sdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSksdGhpcy5pbnNlcnQoe3JvdzowLGNvbHVtbjowfSx0ZXh0KX0sdGhpcy5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSl9LHRoaXMuY3JlYXRlQW5jaG9yPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3JldHVybiBuZXcgQW5jaG9yKHRoaXMscm93LGNvbHVtbil9LHRoaXMuJHNwbGl0PTA9PT0iYWFhIi5zcGxpdCgvYS8pLmxlbmd0aD9mdW5jdGlvbih0ZXh0KXtyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHJcXG58XFxyL2csIlxcbiIpLnNwbGl0KCJcXG4iKX06ZnVuY3Rpb24odGV4dCl7cmV0dXJuIHRleHQuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyl9LHRoaXMuJGRldGVjdE5ld0xpbmU9ZnVuY3Rpb24odGV4dCl7dmFyIG1hdGNoPXRleHQubWF0Y2goL14uKj8oXFxyXFxufFxccnxcXG4pL20pO3RoaXMuJGF1dG9OZXdMaW5lPW1hdGNoP21hdGNoWzFdOiJcXG4iLHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKX0sdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyPWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuJG5ld0xpbmVNb2RlKXtjYXNlIndpbmRvd3MiOnJldHVybiJcXHJcXG4iO2Nhc2UidW5peCI6cmV0dXJuIlxcbiI7ZGVmYXVsdDpyZXR1cm4gdGhpcy4kYXV0b05ld0xpbmV8fCJcXG4ifX0sdGhpcy4kYXV0b05ld0xpbmU9IiIsdGhpcy4kbmV3TGluZU1vZGU9ImF1dG8iLHRoaXMuc2V0TmV3TGluZU1vZGU9ZnVuY3Rpb24obmV3TGluZU1vZGUpe3RoaXMuJG5ld0xpbmVNb2RlIT09bmV3TGluZU1vZGUmJih0aGlzLiRuZXdMaW5lTW9kZT1uZXdMaW5lTW9kZSx0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIikpfSx0aGlzLmdldE5ld0xpbmVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlfSx0aGlzLmlzTmV3TGluZT1mdW5jdGlvbih0ZXh0KXtyZXR1cm4iXFxyXFxuIj09dGV4dHx8IlxcciI9PXRleHR8fCJcXG4iPT10ZXh0fSx0aGlzLmdldExpbmU9ZnVuY3Rpb24ocm93KXtyZXR1cm4gdGhpcy4kbGluZXNbcm93XXx8IiJ9LHRoaXMuZ2V0TGluZXM9ZnVuY3Rpb24oZmlyc3RSb3csbGFzdFJvdyl7cmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSl9LHRoaXMuZ2V0QWxsTGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMaW5lcygwLHRoaXMuZ2V0TGVuZ3RoKCkpfSx0aGlzLmdldExlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRsaW5lcy5sZW5ndGh9LHRoaXMuZ2V0VGV4dFJhbmdlPWZ1bmN0aW9uKHJhbmdlKXtyZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKX0sdGhpcy5nZXRMaW5lc0ZvclJhbmdlPWZ1bmN0aW9uKHJhbmdlKXt2YXIgbGluZXM7aWYocmFuZ2Uuc3RhcnQucm93PT09cmFuZ2UuZW5kLnJvdylsaW5lcz1bdGhpcy5nZXRMaW5lKHJhbmdlLnN0YXJ0LnJvdykuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LmNvbHVtbixyYW5nZS5lbmQuY29sdW1uKV07ZWxzZXtsaW5lcz10aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdyxyYW5nZS5lbmQucm93KSxsaW5lc1swXT0obGluZXNbMF18fCIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTt2YXIgbD1saW5lcy5sZW5ndGgtMTtyYW5nZS5lbmQucm93LXJhbmdlLnN0YXJ0LnJvdz09bCYmKGxpbmVzW2xdPWxpbmVzW2xdLnN1YnN0cmluZygwLHJhbmdlLmVuZC5jb2x1bW4pKX1yZXR1cm4gbGluZXN9LHRoaXMuaW5zZXJ0TGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyZXR1cm4gY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIiksdGhpcy5pbnNlcnRGdWxsTGluZXMocm93LGxpbmVzKX0sdGhpcy5yZW1vdmVMaW5lcz1mdW5jdGlvbihmaXJzdFJvdyxsYXN0Um93KXtyZXR1cm4gY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIiksdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csbGFzdFJvdyl9LHRoaXMuaW5zZXJ0TmV3TGluZT1mdW5jdGlvbihwb3NpdGlvbil7cmV0dXJuIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydE5ld0xpbmUgaXMgZGVwcmVjYXRlZC4gVXNlIGluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbXCdcJywgXCdcJ10pIGluc3RlYWQuIiksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbixbIiIsIiJdKX0sdGhpcy5pbnNlcnQ9ZnVuY3Rpb24ocG9zaXRpb24sdGV4dCl7cmV0dXJuIDE+PXRoaXMuZ2V0TGVuZ3RoKCkmJnRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbix0aGlzLiRzcGxpdCh0ZXh0KSl9LHRoaXMuaW5zZXJ0SW5MaW5lPWZ1bmN0aW9uKHBvc2l0aW9uLHRleHQpe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbiksZW5kPXRoaXMucG9zKHBvc2l0aW9uLnJvdyxwb3NpdGlvbi5jb2x1bW4rdGV4dC5sZW5ndGgpO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJpbnNlcnQiLGxpbmVzOlt0ZXh0XX0sITApLHRoaXMuY2xvbmVQb3MoZW5kKX0sdGhpcy5jbGlwcGVkUG9zPWZ1bmN0aW9uKHJvdyxjb2x1bW4pe3ZhciBsZW5ndGg9dGhpcy5nZXRMZW5ndGgoKTt2b2lkIDA9PT1yb3c/cm93PWxlbmd0aDowPnJvdz9yb3c9MDpyb3c+PWxlbmd0aCYmKHJvdz1sZW5ndGgtMSxjb2x1bW49dm9pZCAwKTt2YXIgbGluZT10aGlzLmdldExpbmUocm93KTtyZXR1cm4gdm9pZCAwPT1jb2x1bW4mJihjb2x1bW49bGluZS5sZW5ndGgpLGNvbHVtbj1NYXRoLm1pbihNYXRoLm1heChjb2x1bW4sMCksbGluZS5sZW5ndGgpLHtyb3c6cm93LGNvbHVtbjpjb2x1bW59fSx0aGlzLmNsb25lUG9zPWZ1bmN0aW9uKHBvcyl7cmV0dXJue3Jvdzpwb3Mucm93LGNvbHVtbjpwb3MuY29sdW1ufX0sdGhpcy5wb3M9ZnVuY3Rpb24ocm93LGNvbHVtbil7cmV0dXJue3Jvdzpyb3csY29sdW1uOmNvbHVtbn19LHRoaXMuJGNsaXBQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbil7dmFyIGxlbmd0aD10aGlzLmdldExlbmd0aCgpO3JldHVybiBwb3NpdGlvbi5yb3c+PWxlbmd0aD8ocG9zaXRpb24ucm93PU1hdGgubWF4KDAsbGVuZ3RoLTEpLHBvc2l0aW9uLmNvbHVtbj10aGlzLmdldExpbmUobGVuZ3RoLTEpLmxlbmd0aCk6KHBvc2l0aW9uLnJvdz1NYXRoLm1heCgwLHBvc2l0aW9uLnJvdykscG9zaXRpb24uY29sdW1uPU1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwwKSx0aGlzLmdldExpbmUocG9zaXRpb24ucm93KS5sZW5ndGgpKSxwb3NpdGlvbn0sdGhpcy5pbnNlcnRGdWxsTGluZXM9ZnVuY3Rpb24ocm93LGxpbmVzKXtyb3c9TWF0aC5taW4oTWF0aC5tYXgocm93LDApLHRoaXMuZ2V0TGVuZ3RoKCkpO3ZhciBjb2x1bW49MDt0aGlzLmdldExlbmd0aCgpPnJvdz8obGluZXM9bGluZXMuY29uY2F0KFsiIl0pLGNvbHVtbj0wKToobGluZXM9WyIiXS5jb25jYXQobGluZXMpLHJvdy0tLGNvbHVtbj10aGlzLiRsaW5lc1tyb3ddLmxlbmd0aCksdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyh7cm93OnJvdyxjb2x1bW46Y29sdW1ufSxsaW5lcyl9LHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXM9ZnVuY3Rpb24ocG9zaXRpb24sbGluZXMpe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LHBvc2l0aW9uLmNvbHVtbiksZW5kPXtyb3c6c3RhcnQucm93K2xpbmVzLmxlbmd0aC0xLGNvbHVtbjooMT09bGluZXMubGVuZ3RoP3N0YXJ0LmNvbHVtbjowKStsaW5lc1tsaW5lcy5sZW5ndGgtMV0ubGVuZ3RofTtyZXR1cm4gdGhpcy5hcHBseURlbHRhKHtzdGFydDpzdGFydCxlbmQ6ZW5kLGFjdGlvbjoiaW5zZXJ0IixsaW5lczpsaW5lc30pLHRoaXMuY2xvbmVQb3MoZW5kKX0sdGhpcy5yZW1vdmU9ZnVuY3Rpb24ocmFuZ2Upe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3MocmFuZ2Uuc3RhcnQucm93LHJhbmdlLnN0YXJ0LmNvbHVtbiksZW5kPXRoaXMuY2xpcHBlZFBvcyhyYW5nZS5lbmQucm93LHJhbmdlLmVuZC5jb2x1bW4pO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJyZW1vdmUiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pfSksdGhpcy5jbG9uZVBvcyhzdGFydCl9LHRoaXMucmVtb3ZlSW5MaW5lPWZ1bmN0aW9uKHJvdyxzdGFydENvbHVtbixlbmRDb2x1bW4pe3ZhciBzdGFydD10aGlzLmNsaXBwZWRQb3Mocm93LHN0YXJ0Q29sdW1uKSxlbmQ9dGhpcy5jbGlwcGVkUG9zKHJvdyxlbmRDb2x1bW4pO3JldHVybiB0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnN0YXJ0LGVuZDplbmQsYWN0aW9uOiJyZW1vdmUiLGxpbmVzOnRoaXMuZ2V0TGluZXNGb3JSYW5nZSh7c3RhcnQ6c3RhcnQsZW5kOmVuZH0pfSwhMCksdGhpcy5jbG9uZVBvcyhzdGFydCl9LHRoaXMucmVtb3ZlRnVsbExpbmVzPWZ1bmN0aW9uKGZpcnN0Um93LGxhc3RSb3cpe2ZpcnN0Um93PU1hdGgubWluKE1hdGgubWF4KDAsZmlyc3RSb3cpLHRoaXMuZ2V0TGVuZ3RoKCktMSksbGFzdFJvdz1NYXRoLm1pbihNYXRoLm1heCgwLGxhc3RSb3cpLHRoaXMuZ2V0TGVuZ3RoKCktMSk7dmFyIGRlbGV0ZUZpcnN0TmV3TGluZT1sYXN0Um93PT10aGlzLmdldExlbmd0aCgpLTEmJmZpcnN0Um93PjAsZGVsZXRlTGFzdE5ld0xpbmU9dGhpcy5nZXRMZW5ndGgoKS0xPmxhc3RSb3csc3RhcnRSb3c9ZGVsZXRlRmlyc3ROZXdMaW5lP2ZpcnN0Um93LTE6Zmlyc3RSb3csc3RhcnRDb2w9ZGVsZXRlRmlyc3ROZXdMaW5lP3RoaXMuZ2V0TGluZShzdGFydFJvdykubGVuZ3RoOjAsZW5kUm93PWRlbGV0ZUxhc3ROZXdMaW5lP2xhc3RSb3crMTpsYXN0Um93LGVuZENvbD1kZWxldGVMYXN0TmV3TGluZT8wOnRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCxyYW5nZT1uZXcgUmFuZ2Uoc3RhcnRSb3csc3RhcnRDb2wsZW5kUm93LGVuZENvbCksZGVsZXRlZExpbmVzPXRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LGxhc3RSb3crMSk7cmV0dXJuIHRoaXMuYXBwbHlEZWx0YSh7c3RhcnQ6cmFuZ2Uuc3RhcnQsZW5kOnJhbmdlLmVuZCxhY3Rpb246InJlbW92ZSIsbGluZXM6dGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKX0pLGRlbGV0ZWRMaW5lc30sdGhpcy5yZW1vdmVOZXdMaW5lPWZ1bmN0aW9uKHJvdyl7dGhpcy5nZXRMZW5ndGgoKS0xPnJvdyYmcm93Pj0wJiZ0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMucG9zKHJvdyx0aGlzLmdldExpbmUocm93KS5sZW5ndGgpLGVuZDp0aGlzLnBvcyhyb3crMSwwKSxhY3Rpb246InJlbW92ZSIsbGluZXM6WyIiLCIiXX0pfSx0aGlzLnJlcGxhY2U9ZnVuY3Rpb24ocmFuZ2UsdGV4dCl7aWYocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZXx8KHJhbmdlPVJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQscmFuZ2UuZW5kKSksMD09PXRleHQubGVuZ3RoJiZyYW5nZS5pc0VtcHR5KCkpcmV0dXJuIHJhbmdlLnN0YXJ0O2lmKHRleHQ9PXRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSlyZXR1cm4gcmFuZ2UuZW5kO3RoaXMucmVtb3ZlKHJhbmdlKTt2YXIgZW5kO3JldHVybiBlbmQ9dGV4dD90aGlzLmluc2VydChyYW5nZS5zdGFydCx0ZXh0KTpyYW5nZS5zdGFydH0sdGhpcy5hcHBseURlbHRhcz1mdW5jdGlvbihkZWx0YXMpe2Zvcih2YXIgaT0wO2RlbHRhcy5sZW5ndGg+aTtpKyspdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSl9LHRoaXMucmV2ZXJ0RGVsdGFzPWZ1bmN0aW9uKGRlbHRhcyl7Zm9yKHZhciBpPWRlbHRhcy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSl9LHRoaXMuYXBwbHlEZWx0YT1mdW5jdGlvbihkZWx0YSxkb05vdFZhbGlkYXRlKXt2YXIgaXNJbnNlcnQ9Imluc2VydCI9PWRlbHRhLmFjdGlvbjsoaXNJbnNlcnQ/MT49ZGVsdGEubGluZXMubGVuZ3RoJiYhZGVsdGEubGluZXNbMF06IVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsZGVsdGEuZW5kKSl8fChpc0luc2VydCYmZGVsdGEubGluZXMubGVuZ3RoPjJlNCYmdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsMmU0KSxhcHBseURlbHRhKHRoaXMuJGxpbmVzLGRlbHRhLGRvTm90VmFsaWRhdGUpLHRoaXMuX3NpZ25hbCgiY2hhbmdlIixkZWx0YSkpfSx0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YT1mdW5jdGlvbihkZWx0YSxNQVgpe2Zvcih2YXIgbGluZXM9ZGVsdGEubGluZXMsbD1saW5lcy5sZW5ndGgscm93PWRlbHRhLnN0YXJ0LnJvdyxjb2x1bW49ZGVsdGEuc3RhcnQuY29sdW1uLGZyb209MCx0bz0wOzspe2Zyb209dG8sdG8rPU1BWC0xO3ZhciBjaHVuaz1saW5lcy5zbGljZShmcm9tLHRvKTtpZih0bz5sKXtkZWx0YS5saW5lcz1jaHVuayxkZWx0YS5zdGFydC5yb3c9cm93K2Zyb20sZGVsdGEuc3RhcnQuY29sdW1uPWNvbHVtbjticmVha31jaHVuay5wdXNoKCIiKSx0aGlzLmFwcGx5RGVsdGEoe3N0YXJ0OnRoaXMucG9zKHJvdytmcm9tLGNvbHVtbiksZW5kOnRoaXMucG9zKHJvdyt0byxjb2x1bW49MCksYWN0aW9uOmRlbHRhLmFjdGlvbixsaW5lczpjaHVua30sITApfX0sdGhpcy5yZXZlcnREZWx0YT1mdW5jdGlvbihkZWx0YSl7dGhpcy5hcHBseURlbHRhKHtzdGFydDp0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSxlbmQ6dGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLGFjdGlvbjoiaW5zZXJ0Ij09ZGVsdGEuYWN0aW9uPyJyZW1vdmUiOiJpbnNlcnQiLGxpbmVzOmRlbHRhLmxpbmVzLnNsaWNlKCl9KX0sdGhpcy5pbmRleFRvUG9zaXRpb249ZnVuY3Rpb24oaW5kZXgsc3RhcnRSb3cpe2Zvcih2YXIgbGluZXM9dGhpcy4kbGluZXN8fHRoaXMuZ2V0QWxsTGluZXMoKSxuZXdsaW5lTGVuZ3RoPXRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aCxpPXN0YXJ0Um93fHwwLGw9bGluZXMubGVuZ3RoO2w+aTtpKyspaWYoaW5kZXgtPWxpbmVzW2ldLmxlbmd0aCtuZXdsaW5lTGVuZ3RoLDA+aW5kZXgpcmV0dXJue3JvdzppLGNvbHVtbjppbmRleCtsaW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aH07cmV0dXJue3JvdzpsLTEsY29sdW1uOmxpbmVzW2wtMV0ubGVuZ3RofX0sdGhpcy5wb3NpdGlvblRvSW5kZXg9ZnVuY3Rpb24ocG9zLHN0YXJ0Um93KXtmb3IodmFyIGxpbmVzPXRoaXMuJGxpbmVzfHx0aGlzLmdldEFsbExpbmVzKCksbmV3bGluZUxlbmd0aD10aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGgsaW5kZXg9MCxyb3c9TWF0aC5taW4ocG9zLnJvdyxsaW5lcy5sZW5ndGgpLGk9c3RhcnRSb3d8fDA7cm93Pmk7KytpKWluZGV4Kz1saW5lc1tpXS5sZW5ndGgrbmV3bGluZUxlbmd0aDtyZXR1cm4gaW5kZXgrcG9zLmNvbHVtbn19KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSksZXhwb3J0cy5Eb2N1bWVudD1Eb2N1bWVudH0pLGFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLGZ1bmN0aW9uKGFjZXF1aXJlLGV4cG9ydHMpeyJ1c2Ugc3RyaWN0IjtleHBvcnRzLmxhc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGFbYS5sZW5ndGgtMV19LGV4cG9ydHMuc3RyaW5nUmV2ZXJzZT1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKX0sZXhwb3J0cy5zdHJpbmdSZXBlYXQ9ZnVuY3Rpb24oc3RyaW5nLGNvdW50KXtmb3IodmFyIHJlc3VsdD0iIjtjb3VudD4wOykxJmNvdW50JiYocmVzdWx0Kz1zdHJpbmcpLChjb3VudD4+PTEpJiYoc3RyaW5nKz1zdHJpbmcpO3JldHVybiByZXN1bHR9O3ZhciB0cmltQmVnaW5SZWdleHA9L15cXHNcXHMqLyx0cmltRW5kUmVnZXhwPS9cXHNcXHMqJC87ZXhwb3J0cy5zdHJpbmdUcmltTGVmdD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsIiIpfSxleHBvcnRzLnN0cmluZ1RyaW1SaWdodD1mdW5jdGlvbihzdHJpbmcpe3JldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCIiKX0sZXhwb3J0cy5jb3B5T2JqZWN0PWZ1bmN0aW9uKG9iail7dmFyIGNvcHk9e307Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1vYmpba2V5XTtyZXR1cm4gY29weX0sZXhwb3J0cy5jb3B5QXJyYXk9ZnVuY3Rpb24oYXJyYXkpe2Zvcih2YXIgY29weT1bXSxpPTAsbD1hcnJheS5sZW5ndGg7bD5pO2krKyljb3B5W2ldPWFycmF5W2ldJiYib2JqZWN0Ij09dHlwZW9mIGFycmF5W2ldP3RoaXMuY29weU9iamVjdChhcnJheVtpXSk6YXJyYXlbaV07cmV0dXJuIGNvcHl9LGV4cG9ydHMuZGVlcENvcHk9ZnVuY3Rpb24gZGVlcENvcHkob2JqKXtpZigib2JqZWN0IiE9dHlwZW9mIG9ianx8IW9iailyZXR1cm4gb2JqO3ZhciBjb3B5O2lmKEFycmF5LmlzQXJyYXkob2JqKSl7Y29weT1bXTtmb3IodmFyIGtleT0wO29iai5sZW5ndGg+a2V5O2tleSsrKWNvcHlba2V5XT1kZWVwQ29weShvYmpba2V5XSk7cmV0dXJuIGNvcHl9aWYoIltvYmplY3QgT2JqZWN0XSIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSlyZXR1cm4gb2JqO2NvcHk9e307Zm9yKHZhciBrZXkgaW4gb2JqKWNvcHlba2V5XT1kZWVwQ29weShvYmpba2V5XSk7cmV0dXJuIGNvcHl9LGV4cG9ydHMuYXJyYXlUb01hcD1mdW5jdGlvbihhcnIpe2Zvcih2YXIgbWFwPXt9LGk9MDthcnIubGVuZ3RoPmk7aSsrKW1hcFthcnJbaV1dPTE7cmV0dXJuIG1hcH0sZXhwb3J0cy5jcmVhdGVNYXA9ZnVuY3Rpb24ocHJvcHMpe3ZhciBtYXA9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGkgaW4gcHJvcHMpbWFwW2ldPXByb3BzW2ldO3JldHVybiBtYXB9LGV4cG9ydHMuYXJyYXlSZW1vdmU9ZnVuY3Rpb24oYXJyYXksdmFsdWUpe2Zvcih2YXIgaT0wO2FycmF5Lmxlbmd0aD49aTtpKyspdmFsdWU9PT1hcnJheVtpXSYmYXJyYXkuc3BsaWNlKGksMSl9LGV4cG9ydHMuZXNjYXBlUmVnRXhwPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xcXVxcL1xcXFxdKS9nLCJcXFxcJDEiKX0sZXhwb3J0cy5lc2NhcGVIVE1MPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC8mL2csIiYjMzg7IikucmVwbGFjZSgvIi9nLCImIzM0OyIpLnJlcGxhY2UoL1wnL2csIiYjMzk7IikucmVwbGFjZSgvPC9nLCImIzYwOyIpfSxleHBvcnRzLmdldE1hdGNoT2Zmc2V0cz1mdW5jdGlvbihzdHJpbmcscmVnRXhwKXt2YXIgbWF0Y2hlcz1bXTtyZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVnRXhwLGZ1bmN0aW9uKHN0cil7bWF0Y2hlcy5wdXNoKHtvZmZzZXQ6YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0sbGVuZ3RoOnN0ci5sZW5ndGh9KX0pLG1hdGNoZXN9LGV4cG9ydHMuZGVmZXJyZWRDYWxsPWZ1bmN0aW9uKGZjbil7dmFyIHRpbWVyPW51bGwsY2FsbGJhY2s9ZnVuY3Rpb24oKXt0aW1lcj1udWxsLGZjbigpfSxkZWZlcnJlZD1mdW5jdGlvbih0aW1lb3V0KXtyZXR1cm4gZGVmZXJyZWQuY2FuY2VsKCksdGltZXI9c2V0VGltZW91dChjYWxsYmFjayx0aW1lb3V0fHwwKSxkZWZlcnJlZH07cmV0dXJuIGRlZmVycmVkLnNjaGVkdWxlPWRlZmVycmVkLGRlZmVycmVkLmNhbGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5jZWwoKSxmY24oKSxkZWZlcnJlZH0sZGVmZXJyZWQuY2FuY2VsPWZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFyVGltZW91dCh0aW1lciksdGltZXI9bnVsbCxkZWZlcnJlZH0sZGVmZXJyZWQuaXNQZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRpbWVyfSxkZWZlcnJlZH0sZXhwb3J0cy5kZWxheWVkQ2FsbD1mdW5jdGlvbihmY24sZGVmYXVsdFRpbWVvdXQpe3ZhciB0aW1lcj1udWxsLGNhbGxiYWNrPWZ1bmN0aW9uKCl7dGltZXI9bnVsbCxmY24oKX0sX3NlbGY9ZnVuY3Rpb24odGltZW91dCl7bnVsbD09dGltZXImJih0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KSl9O3JldHVybiBfc2VsZi5kZWxheT1mdW5jdGlvbih0aW1lb3V0KXt0aW1lciYmY2xlYXJUaW1lb3V0KHRpbWVyKSx0aW1lcj1zZXRUaW1lb3V0KGNhbGxiYWNrLHRpbWVvdXR8fGRlZmF1bHRUaW1lb3V0KX0sX3NlbGYuc2NoZWR1bGU9X3NlbGYsX3NlbGYuY2FsbD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsKCksZmNuKCl9LF9zZWxmLmNhbmNlbD1mdW5jdGlvbigpe3RpbWVyJiZjbGVhclRpbWVvdXQodGltZXIpLHRpbWVyPW51bGx9LF9zZWxmLmlzUGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aW1lcn0sX3NlbGZ9fSksYWNlLmRlZmluZSgiYWNlL3dvcmtlci9taXJyb3IiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiLCJhY2UvZG9jdW1lbnQiLCJhY2UvbGliL2xhbmciXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXsidXNlIHN0cmljdCI7YWNlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7dmFyIERvY3VtZW50PWFjZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50LGxhbmc9YWNlcXVpcmUoIi4uL2xpYi9sYW5nIiksTWlycm9yPWV4cG9ydHMuTWlycm9yPWZ1bmN0aW9uKHNlbmRlcil7dGhpcy5zZW5kZXI9c2VuZGVyO3ZhciBkb2M9dGhpcy5kb2M9bmV3IERvY3VtZW50KCIiKSxkZWZlcnJlZFVwZGF0ZT10aGlzLmRlZmVycmVkVXBkYXRlPWxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKSxfc2VsZj10aGlzO3NlbmRlci5vbigiY2hhbmdlIixmdW5jdGlvbihlKXt2YXIgZGF0YT1lLmRhdGE7aWYoZGF0YVswXS5zdGFydClkb2MuYXBwbHlEZWx0YXMoZGF0YSk7ZWxzZSBmb3IodmFyIGk9MDtkYXRhLmxlbmd0aD5pO2krPTIpe2lmKEFycmF5LmlzQXJyYXkoZGF0YVtpKzFdKSl2YXIgZD17YWN0aW9uOiJpbnNlcnQiLHN0YXJ0OmRhdGFbaV0sbGluZXM6ZGF0YVtpKzFdfTtlbHNlIHZhciBkPXthY3Rpb246InJlbW92ZSIsc3RhcnQ6ZGF0YVtpXSxlbmQ6ZGF0YVtpKzFdfTtkb2MuYXBwbHlEZWx0YShkLCEwKX1yZXR1cm4gX3NlbGYuJHRpbWVvdXQ/ZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUoX3NlbGYuJHRpbWVvdXQpOihfc2VsZi5vblVwZGF0ZSgpLHZvaWQgMCl9KX07KGZ1bmN0aW9uKCl7dGhpcy4kdGltZW91dD01MDAsdGhpcy5zZXRUaW1lb3V0PWZ1bmN0aW9uKHRpbWVvdXQpe3RoaXMuJHRpbWVvdXQ9dGltZW91dH0sdGhpcy5zZXRWYWx1ZT1mdW5jdGlvbih2YWx1ZSl7dGhpcy5kb2Muc2V0VmFsdWUodmFsdWUpLHRoaXMuZGVmZXJyZWRVcGRhdGUuc2NoZWR1bGUodGhpcy4kdGltZW91dCl9LHRoaXMuZ2V0VmFsdWU9ZnVuY3Rpb24oY2FsbGJhY2tJZCl7dGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSxjYWxsYmFja0lkKX0sdGhpcy5vblVwZGF0ZT1mdW5jdGlvbigpe30sdGhpcy5pc1BlbmRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZlcnJlZFVwZGF0ZS5pc1BlbmRpbmcoKX19KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpfSksYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbi9qc29uX3BhcnNlIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIl0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGF0LGNoLHRleHQsdmFsdWUsZXNjYXBlZT17XCciXCc6XCciXCcsIlxcXFwiOiJcXFxcIiwiLyI6Ii8iLGI6IlxcYiIsZjoiXFxmIixuOiJcXG4iLHI6IlxcciIsdDoiXHQifSxlcnJvcj1mdW5jdGlvbihtKXt0aHJvd3tuYW1lOiJTeW50YXhFcnJvciIsbWVzc2FnZTptLGF0OmF0LHRleHQ6dGV4dH19LG5leHQ9ZnVuY3Rpb24oYyl7cmV0dXJuIGMmJmMhPT1jaCYmZXJyb3IoIkV4cGVjdGVkIFwnIitjKyJcJyBpbnN0ZWFkIG9mIFwnIitjaCsiXCciKSxjaD10ZXh0LmNoYXJBdChhdCksYXQrPTEsY2h9LG51bWJlcj1mdW5jdGlvbigpe3ZhciBudW1iZXIsc3RyaW5nPSIiO2ZvcigiLSI9PT1jaCYmKHN0cmluZz0iLSIsbmV4dCgiLSIpKTtjaD49IjAiJiYiOSI+PWNoOylzdHJpbmcrPWNoLG5leHQoKTtpZigiLiI9PT1jaClmb3Ioc3RyaW5nKz0iLiI7bmV4dCgpJiZjaD49IjAiJiYiOSI+PWNoOylzdHJpbmcrPWNoO2lmKCJlIj09PWNofHwiRSI9PT1jaClmb3Ioc3RyaW5nKz1jaCxuZXh0KCksKCItIj09PWNofHwiKyI9PT1jaCkmJihzdHJpbmcrPWNoLG5leHQoKSk7Y2g+PSIwIiYmIjkiPj1jaDspc3RyaW5nKz1jaCxuZXh0KCk7cmV0dXJuIG51bWJlcj0rc3RyaW5nLGlzTmFOKG51bWJlcik/KGVycm9yKCJCYWQgbnVtYmVyIiksdm9pZCAwKTpudW1iZXJ9LHN0cmluZz1mdW5jdGlvbigpe3ZhciBoZXgsaSx1ZmZmZixzdHJpbmc9IiI7aWYoXCciXCc9PT1jaClmb3IoO25leHQoKTspe2lmKFwnIlwnPT09Y2gpcmV0dXJuIG5leHQoKSxzdHJpbmc7aWYoIlxcXFwiPT09Y2gpaWYobmV4dCgpLCJ1Ij09PWNoKXtmb3IodWZmZmY9MCxpPTA7ND5pJiYoaGV4PXBhcnNlSW50KG5leHQoKSwxNiksaXNGaW5pdGUoaGV4KSk7aSs9MSl1ZmZmZj0xNip1ZmZmZitoZXg7c3RyaW5nKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKX1lbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZXNjYXBlZVtjaF0pYnJlYWs7c3RyaW5nKz1lc2NhcGVlW2NoXX1lbHNlIHN0cmluZys9Y2h9ZXJyb3IoIkJhZCBzdHJpbmciKX0sd2hpdGU9ZnVuY3Rpb24oKXtmb3IoO2NoJiYiICI+PWNoOyluZXh0KCl9LHdvcmQ9ZnVuY3Rpb24oKXtzd2l0Y2goY2gpe2Nhc2UidCI6cmV0dXJuIG5leHQoInQiKSxuZXh0KCJyIiksbmV4dCgidSIpLG5leHQoImUiKSwhMDtjYXNlImYiOnJldHVybiBuZXh0KCJmIiksbmV4dCgiYSIpLG5leHQoImwiKSxuZXh0KCJzIiksbmV4dCgiZSIpLCExO2Nhc2UibiI6cmV0dXJuIG5leHQoIm4iKSxuZXh0KCJ1IiksbmV4dCgibCIpLG5leHQoImwiKSxudWxsfWVycm9yKCJVbmV4cGVjdGVkIFwnIitjaCsiXCciKX0sYXJyYXk9ZnVuY3Rpb24oKXt2YXIgYXJyYXk9W107aWYoIlsiPT09Y2gpe2lmKG5leHQoIlsiKSx3aGl0ZSgpLCJdIj09PWNoKXJldHVybiBuZXh0KCJdIiksYXJyYXk7Zm9yKDtjaDspe2lmKGFycmF5LnB1c2godmFsdWUoKSksd2hpdGUoKSwiXSI9PT1jaClyZXR1cm4gbmV4dCgiXSIpLGFycmF5O25leHQoIiwiKSx3aGl0ZSgpfX1lcnJvcigiQmFkIGFycmF5Iil9LG9iamVjdD1mdW5jdGlvbigpe3ZhciBrZXksb2JqZWN0PXt9O2lmKCJ7Ij09PWNoKXtpZihuZXh0KCJ7Iiksd2hpdGUoKSwifSI9PT1jaClyZXR1cm4gbmV4dCgifSIpLG9iamVjdDtmb3IoO2NoOyl7aWYoa2V5PXN0cmluZygpLHdoaXRlKCksbmV4dCgiOiIpLE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxrZXkpJiZlcnJvcihcJ0R1cGxpY2F0ZSBrZXkgIlwnK2tleStcJyJcJyksb2JqZWN0W2tleV09dmFsdWUoKSx3aGl0ZSgpLCJ9Ij09PWNoKXJldHVybiBuZXh0KCJ9Iiksb2JqZWN0O25leHQoIiwiKSx3aGl0ZSgpfX1lcnJvcigiQmFkIG9iamVjdCIpfTtyZXR1cm4gdmFsdWU9ZnVuY3Rpb24oKXtzd2l0Y2god2hpdGUoKSxjaCl7Y2FzZSJ7IjpyZXR1cm4gb2JqZWN0KCk7Y2FzZSJbIjpyZXR1cm4gYXJyYXkoKTtjYXNlXCciXCc6cmV0dXJuIHN0cmluZygpO2Nhc2UiLSI6cmV0dXJuIG51bWJlcigpO2RlZmF1bHQ6cmV0dXJuIGNoPj0iMCImJiI5Ij49Y2g/bnVtYmVyKCk6d29yZCgpfX0sZnVuY3Rpb24oc291cmNlLHJldml2ZXIpe3ZhciByZXN1bHQ7cmV0dXJuIHRleHQ9c291cmNlLGF0PTAsY2g9IiAiLHJlc3VsdD12YWx1ZSgpLHdoaXRlKCksY2gmJmVycm9yKCJTeW50YXggZXJyb3IiKSwiZnVuY3Rpb24iPT10eXBlb2YgcmV2aXZlcj9mdW5jdGlvbiB3YWxrKGhvbGRlcixrZXkpe3ZhciBrLHYsdmFsdWU9aG9sZGVyW2tleV07aWYodmFsdWUmJiJvYmplY3QiPT10eXBlb2YgdmFsdWUpZm9yKGsgaW4gdmFsdWUpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsaykmJih2PXdhbGsodmFsdWUsayksdm9pZCAwIT09dj92YWx1ZVtrXT12OmRlbGV0ZSB2YWx1ZVtrXSk7cmV0dXJuIHJldml2ZXIuY2FsbChob2xkZXIsa2V5LHZhbHVlKX0oeyIiOnJlc3VsdH0sIiIpOnJlc3VsdH19KSxhY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uX3dvcmtlciIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3dvcmtlci9taXJyb3IiLCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiXSxmdW5jdGlvbihhY2VxdWlyZSxleHBvcnRzKXsidXNlIHN0cmljdCI7dmFyIG9vcD1hY2VxdWlyZSgiLi4vbGliL29vcCIpLE1pcnJvcj1hY2VxdWlyZSgiLi4vd29ya2VyL21pcnJvciIpLk1pcnJvcixwYXJzZT1hY2VxdWlyZSgiLi9qc29uL2pzb25fcGFyc2UiKSxKc29uV29ya2VyPWV4cG9ydHMuSnNvbldvcmtlcj1mdW5jdGlvbihzZW5kZXIpe01pcnJvci5jYWxsKHRoaXMsc2VuZGVyKSx0aGlzLnNldFRpbWVvdXQoMjAwKX07b29wLmluaGVyaXRzKEpzb25Xb3JrZXIsTWlycm9yKSxmdW5jdGlvbigpe3RoaXMub25VcGRhdGU9ZnVuY3Rpb24oKXt2YXIgdmFsdWU9dGhpcy5kb2MuZ2V0VmFsdWUoKSxlcnJvcnM9W107dHJ5e3ZhbHVlJiZwYXJzZSh2YWx1ZSl9Y2F0Y2goZSl7dmFyIHBvcz10aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTtlcnJvcnMucHVzaCh7cm93OnBvcy5yb3csY29sdW1uOnBvcy5jb2x1bW4sdGV4dDplLm1lc3NhZ2UsdHlwZToiZXJyb3IifSl9dGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLGVycm9ycyl9fS5jYWxsKEpzb25Xb3JrZXIucHJvdG90eXBlKX0pLGFjZS5kZWZpbmUoImFjZS9saWIvZXM1LXNoaW0iLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSxmdW5jdGlvbigpe2Z1bmN0aW9uIEVtcHR5KCl7fWZ1bmN0aW9uIGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsob2JqZWN0KXt0cnl7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsInNlbnRpbmVsIix7fSksInNlbnRpbmVsImluIG9iamVjdH1jYXRjaChleGNlcHRpb24pe319ZnVuY3Rpb24gdG9JbnRlZ2VyKG4pe3JldHVybiBuPStuLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSxufUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kfHwoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odGhhdCl7dmFyIHRhcmdldD10aGlzO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0YXJnZXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgY2FsbGVkIG9uIGluY29tcGF0aWJsZSAiK3RhcmdldCk7dmFyIGFyZ3M9c2xpY2UuY2FsbChhcmd1bWVudHMsMSksYm91bmQ9ZnVuY3Rpb24oKXtpZih0aGlzIGluc3RhbmNlb2YgYm91bmQpe3ZhciByZXN1bHQ9dGFyZ2V0LmFwcGx5KHRoaXMsYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7cmV0dXJuIE9iamVjdChyZXN1bHQpPT09cmVzdWx0P3Jlc3VsdDp0aGlzfXJldHVybiB0YXJnZXQuYXBwbHkodGhhdCxhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKX07cmV0dXJuIHRhcmdldC5wcm90b3R5cGUmJihFbXB0eS5wcm90b3R5cGU9dGFyZ2V0LnByb3RvdHlwZSxib3VuZC5wcm90b3R5cGU9bmV3IEVtcHR5LEVtcHR5LnByb3RvdHlwZT1udWxsKSxib3VuZH0pO3ZhciBkZWZpbmVHZXR0ZXIsZGVmaW5lU2V0dGVyLGxvb2t1cEdldHRlcixsb29rdXBTZXR0ZXIsc3VwcG9ydHNBY2Nlc3NvcnMsY2FsbD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxwcm90b3R5cGVPZkFycmF5PUFycmF5LnByb3RvdHlwZSxwcm90b3R5cGVPZk9iamVjdD1PYmplY3QucHJvdG90eXBlLHNsaWNlPXByb3RvdHlwZU9mQXJyYXkuc2xpY2UsX3RvU3RyaW5nPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC50b1N0cmluZyksb3ducz1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuaGFzT3duUHJvcGVydHkpO2lmKChzdXBwb3J0c0FjY2Vzc29ycz1vd25zKHByb3RvdHlwZU9mT2JqZWN0LCJfX2RlZmluZUdldHRlcl9fIikpJiYoZGVmaW5lR2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2RlZmluZUdldHRlcl9fKSxkZWZpbmVTZXR0ZXI9Y2FsbC5iaW5kKHByb3RvdHlwZU9mT2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18pLGxvb2t1cEdldHRlcj1jYWxsLmJpbmQocHJvdG90eXBlT2ZPYmplY3QuX19sb29rdXBHZXR0ZXJfXyksbG9va3VwU2V0dGVyPWNhbGwuYmluZChwcm90b3R5cGVPZk9iamVjdC5fX2xvb2t1cFNldHRlcl9fKSksMiE9WzEsMl0uc3BsaWNlKDApLmxlbmd0aClpZihmdW5jdGlvbigpe2Z1bmN0aW9uIG1ha2VBcnJheShsKXt2YXIgYT1BcnJheShsKzIpO3JldHVybiBhWzBdPWFbMV09MCxhfXZhciBsZW5ndGhCZWZvcmUsYXJyYXk9W107cmV0dXJuIGFycmF5LnNwbGljZS5hcHBseShhcnJheSxtYWtlQXJyYXkoMjApKSxhcnJheS5zcGxpY2UuYXBwbHkoYXJyYXksbWFrZUFycmF5KDI2KSksbGVuZ3RoQmVmb3JlPWFycmF5Lmxlbmd0aCxhcnJheS5zcGxpY2UoNSwwLCJYWFgiKSxsZW5ndGhCZWZvcmUrMT09YXJyYXkubGVuZ3RoLGxlbmd0aEJlZm9yZSsxPT1hcnJheS5sZW5ndGg/ITA6dm9pZCAwXG59KCkpe3ZhciBhcnJheV9zcGxpY2U9QXJyYXkucHJvdG90eXBlLnNwbGljZTtBcnJheS5wcm90b3R5cGUuc3BsaWNlPWZ1bmN0aW9uKHN0YXJ0LGRlbGV0ZUNvdW50KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9hcnJheV9zcGxpY2UuYXBwbHkodGhpcyxbdm9pZCAwPT09c3RhcnQ/MDpzdGFydCx2b2lkIDA9PT1kZWxldGVDb3VudD90aGlzLmxlbmd0aC1zdGFydDpkZWxldGVDb3VudF0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKSk6W119fWVsc2UgQXJyYXkucHJvdG90eXBlLnNwbGljZT1mdW5jdGlvbihwb3MscmVtb3ZlQ291bnQpe3ZhciBsZW5ndGg9dGhpcy5sZW5ndGg7cG9zPjA/cG9zPmxlbmd0aCYmKHBvcz1sZW5ndGgpOnZvaWQgMD09cG9zP3Bvcz0wOjA+cG9zJiYocG9zPU1hdGgubWF4KGxlbmd0aCtwb3MsMCkpLGxlbmd0aD5wb3MrcmVtb3ZlQ291bnR8fChyZW1vdmVDb3VudD1sZW5ndGgtcG9zKTt2YXIgcmVtb3ZlZD10aGlzLnNsaWNlKHBvcyxwb3MrcmVtb3ZlQ291bnQpLGluc2VydD1zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxhZGQ9aW5zZXJ0Lmxlbmd0aDtpZihwb3M9PT1sZW5ndGgpYWRkJiZ0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2V7dmFyIHJlbW92ZT1NYXRoLm1pbihyZW1vdmVDb3VudCxsZW5ndGgtcG9zKSx0YWlsT2xkUG9zPXBvcytyZW1vdmUsdGFpbE5ld1Bvcz10YWlsT2xkUG9zK2FkZC1yZW1vdmUsdGFpbENvdW50PWxlbmd0aC10YWlsT2xkUG9zLGxlbmd0aEFmdGVyUmVtb3ZlPWxlbmd0aC1yZW1vdmU7aWYodGFpbE9sZFBvcz50YWlsTmV3UG9zKWZvcih2YXIgaT0wO3RhaWxDb3VudD5pOysraSl0aGlzW3RhaWxOZXdQb3MraV09dGhpc1t0YWlsT2xkUG9zK2ldO2Vsc2UgaWYodGFpbE5ld1Bvcz50YWlsT2xkUG9zKWZvcihpPXRhaWxDb3VudDtpLS07KXRoaXNbdGFpbE5ld1BvcytpXT10aGlzW3RhaWxPbGRQb3MraV07aWYoYWRkJiZwb3M9PT1sZW5ndGhBZnRlclJlbW92ZSl0aGlzLmxlbmd0aD1sZW5ndGhBZnRlclJlbW92ZSx0aGlzLnB1c2guYXBwbHkodGhpcyxpbnNlcnQpO2Vsc2UgZm9yKHRoaXMubGVuZ3RoPWxlbmd0aEFmdGVyUmVtb3ZlK2FkZCxpPTA7YWRkPmk7KytpKXRoaXNbcG9zK2ldPWluc2VydFtpXX1yZXR1cm4gcmVtb3ZlZH07QXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24ob2JqKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1fdG9TdHJpbmcob2JqKX0pO3ZhciBib3hlZFN0cmluZz1PYmplY3QoImEiKSxzcGxpdFN0cmluZz0iYSIhPWJveGVkU3RyaW5nWzBdfHwhKDAgaW4gYm94ZWRTdHJpbmcpO2lmKEFycmF5LnByb3RvdHlwZS5mb3JFYWNofHwoQXJyYXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LHRoaXNwPWFyZ3VtZW50c1sxXSxpPS0xLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcjtmb3IoO2xlbmd0aD4rK2k7KWkgaW4gc2VsZiYmZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCl9KSxBcnJheS5wcm90b3R5cGUubWFwfHwoQXJyYXkucHJvdG90eXBlLm1hcD1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmIltvYmplY3QgU3RyaW5nXSI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KCIiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9QXJyYXkobGVuZ3RoKSx0aGlzcD1hcmd1bWVudHNbMV07aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rIiBpcyBub3QgYSBmdW5jdGlvbiIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpIGluIHNlbGYmJihyZXN1bHRbaV09ZnVuLmNhbGwodGhpc3Asc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuZmlsdGVyfHwoQXJyYXkucHJvdG90eXBlLmZpbHRlcj1mdW5jdGlvbihmdW4pe3ZhciB2YWx1ZSxvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmIltvYmplY3QgU3RyaW5nXSI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KCIiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCxyZXN1bHQ9W10sdGhpc3A9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYodmFsdWU9c2VsZltpXSxmdW4uY2FsbCh0aGlzcCx2YWx1ZSxpLG9iamVjdCkmJnJlc3VsdC5wdXNoKHZhbHVlKSk7cmV0dXJuIHJlc3VsdH0pLEFycmF5LnByb3RvdHlwZS5ldmVyeXx8KEFycmF5LnByb3RvdHlwZS5ldmVyeT1mdW5jdGlvbihmdW4pe3ZhciBvYmplY3Q9dG9PYmplY3QodGhpcyksc2VsZj1zcGxpdFN0cmluZyYmIltvYmplY3QgU3RyaW5nXSI9PV90b1N0cmluZyh0aGlzKT90aGlzLnNwbGl0KCIiKTpvYmplY3QsbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MCx0aGlzcD1hcmd1bWVudHNbMV07aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rIiBpcyBub3QgYSBmdW5jdGlvbiIpO2Zvcih2YXIgaT0wO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJiFmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMTtyZXR1cm4hMH0pLEFycmF5LnByb3RvdHlwZS5zb21lfHwoQXJyYXkucHJvdG90eXBlLnNvbWU9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjAsdGhpc3A9YXJndW1lbnRzWzFdO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtmb3IodmFyIGk9MDtsZW5ndGg+aTtpKyspaWYoaSBpbiBzZWxmJiZmdW4uY2FsbCh0aGlzcCxzZWxmW2ldLGksb2JqZWN0KSlyZXR1cm4hMDtyZXR1cm4hMX0pLEFycmF5LnByb3RvdHlwZS5yZWR1Y2V8fChBcnJheS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGZ1bil7dmFyIG9iamVjdD10b09iamVjdCh0aGlzKSxzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOm9iamVjdCxsZW5ndGg9c2VsZi5sZW5ndGg+Pj4wO2lmKCJbb2JqZWN0IEZ1bmN0aW9uXSIhPV90b1N0cmluZyhmdW4pKXRocm93IG5ldyBUeXBlRXJyb3IoZnVuKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtpZighbGVuZ3RoJiYxPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTt2YXIgcmVzdWx0LGk9MDtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXJlc3VsdD1hcmd1bWVudHNbMV07ZWxzZSBmb3IoOzspe2lmKGkgaW4gc2VsZil7cmVzdWx0PXNlbGZbaSsrXTticmVha31pZigrK2k+PWxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIil9Zm9yKDtsZW5ndGg+aTtpKyspaSBpbiBzZWxmJiYocmVzdWx0PWZ1bi5jYWxsKHZvaWQgMCxyZXN1bHQsc2VsZltpXSxpLG9iamVjdCkpO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHR8fChBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQ9ZnVuY3Rpb24oZnVuKXt2YXIgb2JqZWN0PXRvT2JqZWN0KHRoaXMpLHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6b2JqZWN0LGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIltvYmplY3QgRnVuY3Rpb25dIiE9X3RvU3RyaW5nKGZ1bikpdGhyb3cgbmV3IFR5cGVFcnJvcihmdW4rIiBpcyBub3QgYSBmdW5jdGlvbiIpO2lmKCFsZW5ndGgmJjE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcigicmVkdWNlUmlnaHQgb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7dmFyIHJlc3VsdCxpPWxlbmd0aC0xO2lmKGFyZ3VtZW50cy5sZW5ndGg+PTIpcmVzdWx0PWFyZ3VtZW50c1sxXTtlbHNlIGZvcig7Oyl7aWYoaSBpbiBzZWxmKXtyZXN1bHQ9c2VsZltpLS1dO2JyZWFrfWlmKDA+LS1pKXRocm93IG5ldyBUeXBlRXJyb3IoInJlZHVjZVJpZ2h0IG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpfWRvIGkgaW4gdGhpcyYmKHJlc3VsdD1mdW4uY2FsbCh2b2lkIDAscmVzdWx0LHNlbGZbaV0saSxvYmplY3QpKTt3aGlsZShpLS0pO3JldHVybiByZXN1bHR9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmLTE9PVswLDFdLmluZGV4T2YoMSwyKXx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHNvdWdodCl7dmFyIHNlbGY9c3BsaXRTdHJpbmcmJiJbb2JqZWN0IFN0cmluZ10iPT1fdG9TdHJpbmcodGhpcyk/dGhpcy5zcGxpdCgiIik6dG9PYmplY3QodGhpcyksbGVuZ3RoPXNlbGYubGVuZ3RoPj4+MDtpZighbGVuZ3RoKXJldHVybi0xO3ZhciBpPTA7Zm9yKGFyZ3VtZW50cy5sZW5ndGg+MSYmKGk9dG9JbnRlZ2VyKGFyZ3VtZW50c1sxXSkpLGk9aT49MD9pOk1hdGgubWF4KDAsbGVuZ3RoK2kpO2xlbmd0aD5pO2krKylpZihpIGluIHNlbGYmJnNlbGZbaV09PT1zb3VnaHQpcmV0dXJuIGk7cmV0dXJuLTF9KSxBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJi0xPT1bMCwxXS5sYXN0SW5kZXhPZigwLC0zKXx8KEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihzb3VnaHQpe3ZhciBzZWxmPXNwbGl0U3RyaW5nJiYiW29iamVjdCBTdHJpbmddIj09X3RvU3RyaW5nKHRoaXMpP3RoaXMuc3BsaXQoIiIpOnRvT2JqZWN0KHRoaXMpLGxlbmd0aD1zZWxmLmxlbmd0aD4+PjA7aWYoIWxlbmd0aClyZXR1cm4tMTt2YXIgaT1sZW5ndGgtMTtmb3IoYXJndW1lbnRzLmxlbmd0aD4xJiYoaT1NYXRoLm1pbihpLHRvSW50ZWdlcihhcmd1bWVudHNbMV0pKSksaT1pPj0wP2k6bGVuZ3RoLU1hdGguYWJzKGkpO2k+PTA7aS0tKWlmKGkgaW4gc2VsZiYmc291Z2h0PT09c2VsZltpXSlyZXR1cm4gaTtyZXR1cm4tMX0pLE9iamVjdC5nZXRQcm90b3R5cGVPZnx8KE9iamVjdC5nZXRQcm90b3R5cGVPZj1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QuX19wcm90b19ffHwob2JqZWN0LmNvbnN0cnVjdG9yP29iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6cHJvdG90eXBlT2ZPYmplY3QpfSksIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ipe3ZhciBFUlJfTk9OX09CSkVDVD0iT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciBjYWxsZWQgb24gYSBub24tb2JqZWN0OiAiO09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtpZigib2JqZWN0IiE9dHlwZW9mIG9iamVjdCYmImZ1bmN0aW9uIiE9dHlwZW9mIG9iamVjdHx8bnVsbD09PW9iamVjdCl0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9OT05fT0JKRUNUK29iamVjdCk7aWYob3ducyhvYmplY3QscHJvcGVydHkpKXt2YXIgZGVzY3JpcHRvcixnZXR0ZXIsc2V0dGVyO2lmKGRlc2NyaXB0b3I9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSxzdXBwb3J0c0FjY2Vzc29ycyl7dmFyIHByb3RvdHlwZT1vYmplY3QuX19wcm90b19fO29iamVjdC5fX3Byb3RvX189cHJvdG90eXBlT2ZPYmplY3Q7dmFyIGdldHRlcj1sb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KSxzZXR0ZXI9bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSk7aWYob2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGUsZ2V0dGVyfHxzZXR0ZXIpcmV0dXJuIGdldHRlciYmKGRlc2NyaXB0b3IuZ2V0PWdldHRlciksc2V0dGVyJiYoZGVzY3JpcHRvci5zZXQ9c2V0dGVyKSxkZXNjcmlwdG9yfXJldHVybiBkZXNjcmlwdG9yLnZhbHVlPW9iamVjdFtwcm9wZXJ0eV0sZGVzY3JpcHRvcn19fWlmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHwoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM9ZnVuY3Rpb24ob2JqZWN0KXtyZXR1cm4gT2JqZWN0LmtleXMob2JqZWN0KX0pLCFPYmplY3QuY3JlYXRlKXt2YXIgY3JlYXRlRW1wdHk7Y3JlYXRlRW1wdHk9bnVsbD09PU9iamVjdC5wcm90b3R5cGUuX19wcm90b19fP2Z1bmN0aW9uKCl7cmV0dXJue19fcHJvdG9fXzpudWxsfX06ZnVuY3Rpb24oKXt2YXIgZW1wdHk9e307Zm9yKHZhciBpIGluIGVtcHR5KWVtcHR5W2ldPW51bGw7cmV0dXJuIGVtcHR5LmNvbnN0cnVjdG9yPWVtcHR5Lmhhc093blByb3BlcnR5PWVtcHR5LnByb3BlcnR5SXNFbnVtZXJhYmxlPWVtcHR5LmlzUHJvdG90eXBlT2Y9ZW1wdHkudG9Mb2NhbGVTdHJpbmc9ZW1wdHkudG9TdHJpbmc9ZW1wdHkudmFsdWVPZj1lbXB0eS5fX3Byb3RvX189bnVsbCxlbXB0eX0sT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbihwcm90b3R5cGUscHJvcGVydGllcyl7dmFyIG9iamVjdDtpZihudWxsPT09cHJvdG90eXBlKW9iamVjdD1jcmVhdGVFbXB0eSgpO2Vsc2V7aWYoIm9iamVjdCIhPXR5cGVvZiBwcm90b3R5cGUpdGhyb3cgbmV3IFR5cGVFcnJvcigidHlwZW9mIHByb3RvdHlwZVsiK3R5cGVvZiBwcm90b3R5cGUrIl0gIT0gXCdvYmplY3RcJyIpO3ZhciBUeXBlPWZ1bmN0aW9uKCl7fTtUeXBlLnByb3RvdHlwZT1wcm90b3R5cGUsb2JqZWN0PW5ldyBUeXBlLG9iamVjdC5fX3Byb3RvX189cHJvdG90eXBlfXJldHVybiB2b2lkIDAhPT1wcm9wZXJ0aWVzJiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmplY3QscHJvcGVydGllcyksb2JqZWN0fX1pZihPYmplY3QuZGVmaW5lUHJvcGVydHkpe3ZhciBkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3Q9ZG9lc0RlZmluZVByb3BlcnR5V29yayh7fSksZGVmaW5lUHJvcGVydHlXb3Jrc09uRG9tPSJ1bmRlZmluZWQiPT10eXBlb2YgZG9jdW1lbnR8fGRvZXNEZWZpbmVQcm9wZXJ0eVdvcmsoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2lmKCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25PYmplY3R8fCFkZWZpbmVQcm9wZXJ0eVdvcmtzT25Eb20pdmFyIGRlZmluZVByb3BlcnR5RmFsbGJhY2s9T2JqZWN0LmRlZmluZVByb3BlcnR5fWlmKCFPYmplY3QuZGVmaW5lUHJvcGVydHl8fGRlZmluZVByb3BlcnR5RmFsbGJhY2spe3ZhciBFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SPSJQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdDogIixFUlJfTk9OX09CSkVDVF9UQVJHRVQ9Ik9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxsZWQgb24gbm9uLW9iamVjdDogIixFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQ9ImdldHRlcnMgJiBzZXR0ZXJzIGNhbiBub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lIjtPYmplY3QuZGVmaW5lUHJvcGVydHk9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5LGRlc2NyaXB0b3Ipe2lmKCJvYmplY3QiIT10eXBlb2Ygb2JqZWN0JiYiZnVuY3Rpb24iIT10eXBlb2Ygb2JqZWN0fHxudWxsPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3IoRVJSX05PTl9PQkpFQ1RfVEFSR0VUK29iamVjdCk7aWYoIm9iamVjdCIhPXR5cGVvZiBkZXNjcmlwdG9yJiYiZnVuY3Rpb24iIT10eXBlb2YgZGVzY3JpcHRvcnx8bnVsbD09PWRlc2NyaXB0b3IpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfTk9OX09CSkVDVF9ERVNDUklQVE9SK2Rlc2NyaXB0b3IpO2lmKGRlZmluZVByb3BlcnR5RmFsbGJhY2spdHJ5e3JldHVybiBkZWZpbmVQcm9wZXJ0eUZhbGxiYWNrLmNhbGwoT2JqZWN0LG9iamVjdCxwcm9wZXJ0eSxkZXNjcmlwdG9yKX1jYXRjaChleGNlcHRpb24pe31pZihvd25zKGRlc2NyaXB0b3IsInZhbHVlIikpaWYoc3VwcG9ydHNBY2Nlc3NvcnMmJihsb29rdXBHZXR0ZXIob2JqZWN0LHByb3BlcnR5KXx8bG9va3VwU2V0dGVyKG9iamVjdCxwcm9wZXJ0eSkpKXt2YXIgcHJvdG90eXBlPW9iamVjdC5fX3Byb3RvX187b2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGVPZk9iamVjdCxkZWxldGUgb2JqZWN0W3Byb3BlcnR5XSxvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWUsb2JqZWN0Ll9fcHJvdG9fXz1wcm90b3R5cGV9ZWxzZSBvYmplY3RbcHJvcGVydHldPWRlc2NyaXB0b3IudmFsdWU7ZWxzZXtpZighc3VwcG9ydHNBY2Nlc3NvcnMpdGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQpO293bnMoZGVzY3JpcHRvciwiZ2V0IikmJmRlZmluZUdldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5nZXQpLG93bnMoZGVzY3JpcHRvciwic2V0IikmJmRlZmluZVNldHRlcihvYmplY3QscHJvcGVydHksZGVzY3JpcHRvci5zZXQpfXJldHVybiBvYmplY3R9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzfHwoT2JqZWN0LmRlZmluZVByb3BlcnRpZXM9ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnRpZXMpe2Zvcih2YXIgcHJvcGVydHkgaW4gcHJvcGVydGllcylvd25zKHByb3BlcnRpZXMscHJvcGVydHkpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LHByb3BlcnR5LHByb3BlcnRpZXNbcHJvcGVydHldKTtyZXR1cm4gb2JqZWN0fSksT2JqZWN0LnNlYWx8fChPYmplY3Quc2VhbD1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KSxPYmplY3QuZnJlZXplfHwoT2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3R9KTt0cnl7T2JqZWN0LmZyZWV6ZShmdW5jdGlvbigpe30pfWNhdGNoKGV4Y2VwdGlvbil7T2JqZWN0LmZyZWV6ZT1mdW5jdGlvbihmcmVlemVPYmplY3Qpe3JldHVybiBmdW5jdGlvbihvYmplY3Qpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBvYmplY3Q/b2JqZWN0OmZyZWV6ZU9iamVjdChvYmplY3QpfX0oT2JqZWN0LmZyZWV6ZSl9aWYoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zfHwoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zPWZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuIG9iamVjdH0pLE9iamVjdC5pc1NlYWxlZHx8KE9iamVjdC5pc1NlYWxlZD1mdW5jdGlvbigpe3JldHVybiExfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKCl7cmV0dXJuITF9KSxPYmplY3QuaXNFeHRlbnNpYmxlfHwoT2JqZWN0LmlzRXh0ZW5zaWJsZT1mdW5jdGlvbihvYmplY3Qpe2lmKE9iamVjdChvYmplY3QpPT09b2JqZWN0KXRocm93IG5ldyBUeXBlRXJyb3I7Zm9yKHZhciBuYW1lPSIiO293bnMob2JqZWN0LG5hbWUpOyluYW1lKz0iPyI7b2JqZWN0W25hbWVdPSEwO3ZhciByZXR1cm5WYWx1ZT1vd25zKG9iamVjdCxuYW1lKTtyZXR1cm4gZGVsZXRlIG9iamVjdFtuYW1lXSxyZXR1cm5WYWx1ZX0pLCFPYmplY3Qua2V5cyl7dmFyIGhhc0RvbnRFbnVtQnVnPSEwLGRvbnRFbnVtcz1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLGRvbnRFbnVtc0xlbmd0aD1kb250RW51bXMubGVuZ3RoO2Zvcih2YXIga2V5IGlue3RvU3RyaW5nOm51bGx9KWhhc0RvbnRFbnVtQnVnPSExO09iamVjdC5rZXlzPWZ1bmN0aW9uKG9iamVjdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBvYmplY3QmJiJmdW5jdGlvbiIhPXR5cGVvZiBvYmplY3R8fG51bGw9PT1vYmplY3QpdGhyb3cgbmV3IFR5cGVFcnJvcigiT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCIpO3ZhciBrZXlzPVtdO2Zvcih2YXIgbmFtZSBpbiBvYmplY3Qpb3ducyhvYmplY3QsbmFtZSkmJmtleXMucHVzaChuYW1lKTtpZihoYXNEb250RW51bUJ1Zylmb3IodmFyIGk9MCxpaT1kb250RW51bXNMZW5ndGg7aWk+aTtpKyspe3ZhciBkb250RW51bT1kb250RW51bXNbaV07b3ducyhvYmplY3QsZG9udEVudW0pJiZrZXlzLnB1c2goZG9udEVudW0pfXJldHVybiBrZXlzfX1EYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTt2YXIgd3M9Ilx0XFxuXHZcXGZcXHIgwqDhmoDhoI7igIDigIHigILigIPigITigIXigIbigIfigIjigInigIrigK/igZ/jgIBcXHUyMDI4XFx1MjAyOVx1ZmVmZiI7aWYoIVN0cmluZy5wcm90b3R5cGUudHJpbXx8d3MudHJpbSgpKXt3cz0iWyIrd3MrIl0iO3ZhciB0cmltQmVnaW5SZWdleHA9UmVnRXhwKCJeIit3cyt3cysiKiIpLHRyaW1FbmRSZWdleHA9UmVnRXhwKHdzK3dzKyIqJCIpO1N0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybih0aGlzKyIiKS5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwiIikucmVwbGFjZSh0cmltRW5kUmVnZXhwLCIiKX19dmFyIHRvT2JqZWN0PWZ1bmN0aW9uKG8pe2lmKG51bGw9PW8pdGhyb3cgbmV3IFR5cGVFcnJvcigiY2FuXCd0IGNvbnZlcnQgIitvKyIgdG8gb2JqZWN0Iik7cmV0dXJuIE9iamVjdChvKX19KTsnfX1dKTs=")))
	if err != nil {
		panic(err)
	}

	err = f.Close()
	if err != nil {
		panic(err)
	}
}